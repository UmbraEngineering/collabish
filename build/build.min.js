!function(a){var b=document.getElementsByTagName("head")[0],c=a.require=function(a,b){var d=c.lookup(a,b);if(!d){var e='Cannot find module "'+a+'"';throw b&&b.filename&&(e+=' in file "'+b.filename+'"'),new Error(e)}return b&&b.children.push(d),d.loaded||(b&&(d.parent=b),d.call()),d.exports};c.lookup=function(a,b){return c._modules[c.resolve(a,b)]},c.paths=["/"],c.dir=function(){var a=document.getElementsByTagName("script");a=a[a.length-1];var b=a.getAttribute("src");return a=null,b=b.split("/"),b.pop(),b.join("/")}(),c.resolve=function(a,b){function d(a){return c.exists(a)?a:(a=a.slice(0,-3)+"/index.js",c.exists(a)?a:null)}switch(".js"!==a.slice(-3)&&(a+=".js"),a.charAt(0)){case"/":return d(a);case".":a=a.split("/");for(var e=b?b.dirname:"",f=e.split("/"),g=0,h=a.length;h>g;g++)switch(a[g]){case".":break;case"..":f.pop();break;default:f.push(a[g])}return a=f.join("/"),d(a);default:for(var g=0,h=c.paths.length;h>g;g++){var e=c.paths[g];"/"!==e.charAt(e.length-1)&&(e+="/");var i=e+a;if(i=d(i))return i}return null}},c.load=function(){for(var a=c.load.defer(),d=Array.prototype.slice.call(arguments),e=d.length,f=0,g=d.length;g>f;f++){var h=d[f];"/"!==h.charAt(0)&&(h="/"+h),h=c.dir+h,".js"!==h.slice(-3)&&(h+=".js");var i=c.load.createScript({src:h,defer:!0,async:!0});i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!==i.readyState&&"complete"!==i.readyState||(i.onload=i.onreadystatechange=null,b&&i.parentNode&&b.removeChild(i),--e||a.resolve())},b.appendChild(i)}return a},c.load.defer=function(){var a={funcs:[],passed:!1,then:function(b){a.passed?setTimeout(b,0):a.funcs.push(b)},resolve:function(){a.passed=!0;for(var b=0,c=a.funcs.length;c>b;b++)setTimeout(a.funcs[b],0)}};return a},c.loaded=function(a){for(var b=!0,d=0,e=a.length;e>d;d++)if(!c.resolve(a[d])){b=!1;break}return b},c._modules={},c.exists=c._modules.hasOwnProperty?function(a){return c._modules.hasOwnProperty(a)}:function(a){return a in c._modules[a]},c._bind=function(a){var b=function(b,d){return c(b,d||a)};return b.lookup=function(b,d){return c.lookup(b,d||a)},b.resolve=function(b,d){return c.resolve(b,d||a)},b.load=function(){return c.load.apply(c,arguments)},b._modules=c._modules,b}}(window),require._modules["/common/announce/index.js"]=function(){var a="/common/announce/index.js",b="/common/announce",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},f()},parent:null,children:[]},d=c.require=window.require._bind(c),e=c.exports,f=function(){var a=d("jquery"),b=a("body"),c=1e4;e.show=function(d,e){function f(){g.removeClass("show"),setTimeout(function(){g.remove()},500)}1===arguments.length&&(e=d,d="info");var g=a('<div class="announcement"><p class="alert-box radius '+d+'">'+e+'<a class="close">&times;</a></p></div>');g.appendTo(b),g.find(".close").click(function(){h.forEach(function(a){clearTimeout(a)}),f()});var h=[];h.push(setTimeout(function(){g.addClass("show")},13)),h.push(setTimeout(f,c))}};return c}(),require._modules["/common/auth/index.js"]=function(){var a="/common/auth/index.js",b="/common/auth",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},f()},parent:null,children:[]},d=c.require=window.require._bind(c),e=c.exports,f=function(){function a(){return h.get(m)}function b(a){f(),h.set(m,a),k.defaultHeaders.push(["Authorization",a])}function f(){h.remove(m);for(var a=k.defaultHeaders,b=0;b<a.length;b++)"authorization"===a[b][0].toLowerCase()&&a.splice(b--,1)}var g,h=d("store"),i=(d("jquery"),d("models/user")),j=d("cloak/app-object"),k=d("cloak/model-stores/dagger").Request,l=18e5;e=c.exports=new j,e.login=function(a,c){return k.send("POST","/auth/token",{username:a,password:c}).then(function(a){switch(a.status){case 200:return b(a.body.token),e.getUser().then(function(){return e.emit("login"),{complete:!0}});case 202:return{complete:!1};default:throw"Something broke D:"}},function(a){if(401===a.status)throw"Username or password was incorrect";throw"An unknown error occured on our server; Please try your request again"})},e.twostepConfirm=function(a){return k.send("POST","/auth/twostep",{code:a}).then(function(a){if(200===a.status)return b(a.body.token),e.getUser().then(function(){e.emit("login")});throw"Something broke D:"},function(a){if(401===a.status)throw"We could not confirm your login code";throw"An unknown error occured on our server; Please try your request again"})},e.logout=function(){f(),e.user=null,e.autoPing(!1),e.emit("logout"),router.redirectTo("/")},e.check=function(){var c=a();return c?(b(c),e.ping().then(e.getUser,function(){router.redirectTo("/")}).then(function(){e.emit("login"),e.autoPing(l)})):Promise.resolve()},e.ping=function(){return k.send("PUT","/auth/token").then(function(a){a.body.token&&b(a.body.token)},function(a){return 401===a.status&&f(),Promise.reject(new Error("Token validation failure"))})},e.autoPing=function(a){return a===!1?(clearInterval(g),void(g=null)):(g&&e.autoPing(!1),void(g=setInterval(function(){e.ping().catch(function(){router.redirectTo("/auth/ping-fail")})},a)))},e.getUser=function(){return i.current().then(function(a){e.user=a})};var m="authtoken"};return c}(),require._modules["/common/disable/index.js"]=function(){var a="/common/disable/index.js",b="/common/disable",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){var a=d("jquery");a.fn.disable=function(a){void 0===a&&(a=!0),a=!!a,this.each(function(){this.disabled=a,"A"===this.tagName&&(this.style.pointerEvents=a?"none":"auto",this.style.opacity=a?.7:1)})}});return c}(),require._modules["/common/handlebars-helpers/arrays.js"]=function(){var a="/common/handlebars-helpers/arrays.js",b="/common/handlebars-helpers",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){var a=d("handlebars");a.registerHelper("eachReverse",function(a,b){for(var c="",d=a.length-1;d>=0;d--)c+=b.fn(a[d]);return c})});return c}(),require._modules["/common/handlebars-helpers/encode.js"]=function(){var a="/common/handlebars-helpers/encode.js",b="/common/handlebars-helpers",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){var a=d("handlebars");a.registerHelper("encode",function(a){return encodeURIComponent(a)})});return c}(),require._modules["/common/handlebars-helpers/gravatar.js"]=function(){var a="/common/handlebars-helpers/gravatar.js",b="/common/handlebars-helpers",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){var a=d("handlebars");a.registerHelper("gravatar",function(a,b){return b=b||"",b.indexOf("d=")<0&&(b+=(b.length?"?":"&")+"d=identicon"),b.indexOf("r=")<0&&(b+=(b.length?"?":"&")+"r=r"),location.protocol+"//www.gravatar.com/avatar/"+a+(b?"?"+b:"")})});return c}(),require._modules["/common/handlebars-helpers/i18n.js"]=function(){var a="/common/handlebars-helpers/i18n.js",b="/common/handlebars-helpers",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){var a=d("common/i18n"),b=d("handlebars");b.registerHelper("i18n",function(c){var d=Array.prototype.slice.call(arguments,1);return new b.SafeString(a.translate(c,d))})});return c}(),require._modules["/common/handlebars-helpers/icons.js"]=function(){var a="/common/handlebars-helpers/icons.js",b="/common/handlebars-helpers",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){var a=d("handlebars");a.registerHelper("icon",function(b){return new a.SafeString('<i class="fa fa-'+b+'"></i>')})});return c}(),require._modules["/common/handlebars-helpers/index.js"]=function(){var a="/common/handlebars-helpers/index.js",b="/common/handlebars-helpers",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){d("./i18n"),d("./encode"),d("./moment"),d("./gravatar"),d("./icons"),d("./arrays")});return c}(),require._modules["/common/handlebars-helpers/moment.js"]=function(){var a="/common/handlebars-helpers/moment.js",b="/common/handlebars-helpers",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){function a(a,d){return new c.SafeString('<time datetime="'+a+'" data-tooltip="'+b(a).format("lll")+'">'+d+"</time>")}var b=d("moment"),c=d("handlebars");c.registerHelper("moment",function(c,d){return a(c,b(c).format(d))}),c.registerHelper("now",function(c){return date=b(),a(date.utc().format(),date.format(c))}),c.registerHelper("fromNow",function(c){return a(c,b(c).fromNow())})});return c}(),require._modules["/common/i18n/en-us/index.js"]=function(){var a="/common/i18n/en-us/index.js",b="/common/i18n/en-us",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},d()},parent:null,children:[]},d=(c.require=window.require._bind(c),c.exports,function(){c.exports={actions:{save:"Save",cancel:"Cancel",edit:"Edit"},comments:{leave_comment:"Leave a Comment",no_more:"There are no more comments",no_comments:"There are no comments",post:"Post Comment",load_more:"Load More Comments"},doc_overview:{read:"read",start_reading:"start reading",author:"Author",start_draft:"Start New Draft",continue_draft:"Continue Draft",clone:"Clone Document",download:"Download",history:"Document History",doc_settings:"Document Settings",no_buttons:"No buttons for you!",no_commits:"This document doesn't have any commits yet.",adult_content:"This document may contain adult content",shared_with:"This document is shared with {0} collaborators",is_public:"This document is public",is_private:"This document is private",collaborators:"Collaborators",no_collaborators:"No collaborators"}}});return c}(),require._modules["/common/i18n/index.js"]=function(){var a="/common/i18n/index.js",b="/common/i18n",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},f()},parent:null,children:[]},d=c.require=window.require._bind(c),e=c.exports,f=function(){var a=d("store"),b=d("cloak"),c=d("stringformat"),f=d("object-search"),g="lang",h=null,i={en:"en-us"};e.setLanguage=function(b){e.lang=b,h=e.loadLanguage(b),a.set(g,b)},e.loadLanguage=function(a){try{a=d("./"+a)}catch(b){a=!1}return a},e.translate=function(a,d){var e=f.get(h,a);return e?c(e,d):(b.log('Could not translate label "'+a+'"'),a)};var j,k=window.navigator;if(j=a.get(g),j&&b.log('Selected language "'+j+'" from local storage setting'),!j&&k.language&&e.loadLanguage(k.language)&&(j=k.language,b.log('Selected language "'+j+'" from browser settings')),!j&&k.languages)for(var l=0,m=k.languages.length;m>l;l++){if(e.loadLanguage(k.languages[l])){j=k.languages[l],b.log('Selected language "'+j+'" from browser settings');break}if(i[k.languages[l]]){j=i[k.languages[l]],b.log('Selected language "'+j+'" from browser settings as default for "'+k.languages[l]+'"');break}}j||(j="en-us",b.log('Could not determine prefered language; defaulting to "en-us"')),e.setLanguage(j)};return c}(),require._modules["/common/icons/index.js"]=function(){var a="/common/icons/index.js",b="/common/icons",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){var a=d("jquery");a.fn.icon=function(a,b){var c=this;return b=b||{},a?(c[0].className="fa fa-"+a+(b.spin?" fa-spin":""),b.color&&c.css("color",b.color),this):(c.animate({opacity:0},500,function(){c[0].className="",c.css({opacity:1})}),this)}});return c}(),require._modules["/common/md5/index.js"]=function(){var a="/common/md5/index.js",b="/common/md5",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},d()},parent:null,children:[]},d=(c.require=window.require._bind(c),c.exports,function(){c.exports=function(a){function b(a,b){return a<<b|a>>>32-b}function c(a,b){var c,d,e,f,g;return e=2147483648&a,f=2147483648&b,c=1073741824&a,d=1073741824&b,g=(1073741823&a)+(1073741823&b),c&d?2147483648^g^e^f:c|d?1073741824&g?3221225472^g^e^f:1073741824^g^e^f:g^e^f}function d(a,b,c){return a&b|~a&c}function e(a,b,c){return a&c|b&~c}function f(a,b,c){return a^b^c}function g(a,b,c){return b^(a|~c)}function h(a,e,f,g,h,i,j){return a=c(a,c(c(d(e,f,g),h),j)),c(b(a,i),e)}function i(a,d,f,g,h,i,j){return a=c(a,c(c(e(d,f,g),h),j)),c(b(a,i),d)}function j(a,d,e,g,h,i,j){return a=c(a,c(c(f(d,e,g),h),j)),c(b(a,i),d)}function k(a,d,e,f,h,i,j){return a=c(a,c(c(g(d,e,f),h),j)),c(b(a,i),d)}function l(a){for(var b,c=a.length,d=c+8,e=(d-d%64)/64,f=16*(e+1),g=Array(f-1),h=0,i=0;c>i;)b=(i-i%4)/4,h=i%4*8,g[b]=g[b]|a.charCodeAt(i)<<h,i++;return b=(i-i%4)/4,h=i%4*8,g[b]=g[b]|128<<h,g[f-2]=c<<3,g[f-1]=c>>>29,g}function m(a){var b,c,d="",e="";for(c=0;3>=c;c++)b=a>>>8*c&255,e="0"+b.toString(16),d+=e.substr(e.length-2,2);return d}function n(a){a=a.replace(/rn/g,"n");for(var b="",c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b+=String.fromCharCode(d):d>127&&2048>d?(b+=String.fromCharCode(d>>6|192),b+=String.fromCharCode(63&d|128)):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128),b+=String.fromCharCode(63&d|128))}return b}var o,p,q,r,s,t,u,v,w,x=Array(),y=7,z=12,A=17,B=22,C=5,D=9,E=14,F=20,G=4,H=11,I=16,J=23,K=6,L=10,M=15,N=21;for(a=n(a),x=l(a),t=1732584193,u=4023233417,v=2562383102,w=271733878,o=0;o<x.length;o+=16)p=t,q=u,r=v,s=w,t=h(t,u,v,w,x[o+0],y,3614090360),w=h(w,t,u,v,x[o+1],z,3905402710),v=h(v,w,t,u,x[o+2],A,606105819),u=h(u,v,w,t,x[o+3],B,3250441966),t=h(t,u,v,w,x[o+4],y,4118548399),w=h(w,t,u,v,x[o+5],z,1200080426),v=h(v,w,t,u,x[o+6],A,2821735955),u=h(u,v,w,t,x[o+7],B,4249261313),t=h(t,u,v,w,x[o+8],y,1770035416),w=h(w,t,u,v,x[o+9],z,2336552879),v=h(v,w,t,u,x[o+10],A,4294925233),u=h(u,v,w,t,x[o+11],B,2304563134),t=h(t,u,v,w,x[o+12],y,1804603682),w=h(w,t,u,v,x[o+13],z,4254626195),v=h(v,w,t,u,x[o+14],A,2792965006),u=h(u,v,w,t,x[o+15],B,1236535329),t=i(t,u,v,w,x[o+1],C,4129170786),w=i(w,t,u,v,x[o+6],D,3225465664),v=i(v,w,t,u,x[o+11],E,643717713),u=i(u,v,w,t,x[o+0],F,3921069994),t=i(t,u,v,w,x[o+5],C,3593408605),w=i(w,t,u,v,x[o+10],D,38016083),v=i(v,w,t,u,x[o+15],E,3634488961),u=i(u,v,w,t,x[o+4],F,3889429448),t=i(t,u,v,w,x[o+9],C,568446438),w=i(w,t,u,v,x[o+14],D,3275163606),v=i(v,w,t,u,x[o+3],E,4107603335),u=i(u,v,w,t,x[o+8],F,1163531501),t=i(t,u,v,w,x[o+13],C,2850285829),w=i(w,t,u,v,x[o+2],D,4243563512),v=i(v,w,t,u,x[o+7],E,1735328473),u=i(u,v,w,t,x[o+12],F,2368359562),t=j(t,u,v,w,x[o+5],G,4294588738),w=j(w,t,u,v,x[o+8],H,2272392833),v=j(v,w,t,u,x[o+11],I,1839030562),u=j(u,v,w,t,x[o+14],J,4259657740),t=j(t,u,v,w,x[o+1],G,2763975236),w=j(w,t,u,v,x[o+4],H,1272893353),v=j(v,w,t,u,x[o+7],I,4139469664),u=j(u,v,w,t,x[o+10],J,3200236656),t=j(t,u,v,w,x[o+13],G,681279174),w=j(w,t,u,v,x[o+0],H,3936430074),v=j(v,w,t,u,x[o+3],I,3572445317),u=j(u,v,w,t,x[o+6],J,76029189),t=j(t,u,v,w,x[o+9],G,3654602809),w=j(w,t,u,v,x[o+12],H,3873151461),v=j(v,w,t,u,x[o+15],I,530742520),u=j(u,v,w,t,x[o+2],J,3299628645),t=k(t,u,v,w,x[o+0],K,4096336452),w=k(w,t,u,v,x[o+7],L,1126891415),v=k(v,w,t,u,x[o+14],M,2878612391),u=k(u,v,w,t,x[o+5],N,4237533241),t=k(t,u,v,w,x[o+12],K,1700485571),w=k(w,t,u,v,x[o+3],L,2399980690),v=k(v,w,t,u,x[o+10],M,4293915773),u=k(u,v,w,t,x[o+1],N,2240044497),t=k(t,u,v,w,x[o+8],K,1873313359),w=k(w,t,u,v,x[o+15],L,4264355552),v=k(v,w,t,u,x[o+6],M,2734768916),u=k(u,v,w,t,x[o+13],N,1309151649),t=k(t,u,v,w,x[o+4],K,4149444226),w=k(w,t,u,v,x[o+11],L,3174756917),v=k(v,w,t,u,x[o+2],M,718787259),u=k(u,v,w,t,x[o+9],N,3951481745),t=c(t,p),u=c(u,q),v=c(v,r),w=c(w,s);var O=m(t)+m(u)+m(v)+m(w);return O.toLowerCase()}});return c}(),require._modules["/common/quill-atref/index.js"]=function(){var a="/common/quill-atref/index.js",b="/common/quill-atref",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},d()},parent:null,children:[]},d=(c.require=window.require._bind(c),c.exports,function(){});return c}(),require._modules["/common/spin/index.js"]=function(){var a="/common/spin/index.js",b="/common/spin",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){var a=d("jquery");a.fn.spin=function(b,c){c=c||{};var d=a(this[0]);if(b){c.replace&&(d.data("spinner-content",elem.innerHTML),d.html(""));var e=document.createElement("div");e.className="progress "+(c.size||"")+" "+(c.classname||""),e.innerHTML="<div></div>",d.append(e)}else{d.find(".progress").remove();var f=d.data("spinner-content");f&&d.html(f)}}});return c}(),require._modules["/common/templates/index.js"]=function(){var a="/common/templates/index.js",b="/common/templates",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){var a=d("templates"),b=d("cloak/view"),c=b.prototype.render;b.prototype.render=function(b,d){return d=d||"template","string"==typeof this[d]&&(this[d]=a[this[d]]),c.apply(this,arguments)}});return c}(),require._modules["/lib/async.js"]=function(){var a="/lib/async.js",b="/lib",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d={title:"browser",nextTick:function(a){setTimeout(a,0)}},e=(c.require=window.require._bind(c),c.exports,function(){!function(){function a(a){var c=!1;return function(){if(c)throw new Error("Callback was already called.");c=!0,a.apply(b,arguments)}}var b,e,f={};b=this,null!=b&&(e=b.async),f.noConflict=function(){return b.async=e,f};var g=function(a,b){if(a.forEach)return a.forEach(b);for(var c=0;c<a.length;c+=1)b(a[c],c,a)},h=function(a,b){if(a.map)return a.map(b);var c=[];return g(a,function(a,d,e){c.push(b(a,d,e))}),c},i=function(a,b,c){return a.reduce?a.reduce(b,c):(g(a,function(a,d,e){c=b(c,a,d,e)}),c)},j=function(a){if(Object.keys)return Object.keys(a);var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b};"undefined"!=typeof d&&d.nextTick?(f.nextTick=d.nextTick,f.setImmediate="undefined"!=typeof setImmediate?setImmediate:f.nextTick):"function"==typeof setImmediate?(f.nextTick=function(a){setImmediate(a)},f.setImmediate=f.nextTick):(f.nextTick=function(a){setTimeout(a,0)},f.setImmediate=f.nextTick),f.each=function(b,c,d){if(d=d||function(){},!b.length)return d();var e=0;g(b,function(f){c(f,a(function(a){a?(d(a),d=function(){}):(e+=1,e>=b.length&&d(null))}))})},f.forEach=f.each,f.eachSeries=function(a,b,c){if(c=c||function(){},!a.length)return c();var d=0,e=function(){b(a[d],function(b){b?(c(b),c=function(){}):(d+=1,d>=a.length?c(null):e())})};e()},f.forEachSeries=f.eachSeries,f.eachLimit=function(a,b,c,d){var e=k(b);e.apply(null,[a,c,d])},f.forEachLimit=f.eachLimit;var k=function(a){return function(b,c,d){if(d=d||function(){},!b.length||0>=a)return d();var e=0,f=0,g=0;!function h(){if(e>=b.length)return d();for(;a>g&&f<b.length;)f+=1,g+=1,c(b[f-1],function(a){a?(d(a),d=function(){}):(e+=1,g-=1,e>=b.length?d():h())})}()}},l=function(a){return function(){var b=Array.prototype.slice.call(arguments);return a.apply(null,[f.each].concat(b))}},m=function(a,b){return function(){var c=Array.prototype.slice.call(arguments);return b.apply(null,[k(a)].concat(c))}},n=function(a){return function(){var b=Array.prototype.slice.call(arguments);return a.apply(null,[f.eachSeries].concat(b))}},o=function(a,b,c,d){var e=[];b=h(b,function(a,b){return{index:b,value:a}}),a(b,function(a,b){c(a.value,function(c,d){e[a.index]=d,b(c)})},function(a){d(a,e)})};f.map=l(o),f.mapSeries=n(o),f.mapLimit=function(a,b,c,d){return p(b)(a,c,d)};var p=function(a){return m(a,o)};f.reduce=function(a,b,c,d){f.eachSeries(a,function(a,d){c(b,a,function(a,c){b=c,d(a)})},function(a){d(a,b)})},f.inject=f.reduce,f.foldl=f.reduce,f.reduceRight=function(a,b,c,d){var e=h(a,function(a){return a}).reverse();f.reduce(e,b,c,d)},f.foldr=f.reduceRight;var q=function(a,b,c,d){var e=[];b=h(b,function(a,b){return{index:b,value:a}}),a(b,function(a,b){c(a.value,function(c){c&&e.push(a),b()})},function(){d(h(e.sort(function(a,b){return a.index-b.index}),function(a){return a.value}))})};f.filter=l(q),f.filterSeries=n(q),f.select=f.filter,f.selectSeries=f.filterSeries;var r=function(a,b,c,d){var e=[];b=h(b,function(a,b){return{index:b,value:a}}),a(b,function(a,b){c(a.value,function(c){c||e.push(a),b()})},function(){d(h(e.sort(function(a,b){return a.index-b.index}),function(a){return a.value}))})};f.reject=l(r),f.rejectSeries=n(r);var s=function(a,b,c,d){a(b,function(a,b){c(a,function(c){c?(d(a),d=function(){}):b()})},function(){d()})};f.detect=l(s),f.detectSeries=n(s),f.some=function(a,b,c){f.each(a,function(a,d){b(a,function(a){a&&(c(!0),c=function(){}),d()})},function(){c(!1)})},f.any=f.some,f.every=function(a,b,c){f.each(a,function(a,d){b(a,function(a){a||(c(!1),c=function(){}),d()})},function(){c(!0)})},f.all=f.every,f.sortBy=function(a,b,c){f.map(a,function(a,c){b(a,function(b,d){b?c(b):c(null,{value:a,criteria:d})})},function(a,b){if(a)return c(a);var d=function(a,b){var c=a.criteria,d=b.criteria;return d>c?-1:c>d?1:0};c(null,h(b.sort(d),function(a){return a.value}))})},f.auto=function(a,b){b=b||function(){};var c=j(a);if(!c.length)return b(null);var d={},e=[],h=function(a){e.unshift(a)},k=function(a){for(var b=0;b<e.length;b+=1)if(e[b]===a)return void e.splice(b,1)},l=function(){g(e.slice(0),function(a){a()})};h(function(){j(d).length===c.length&&(b(null,d),b=function(){})}),g(c,function(c){var e=a[c]instanceof Function?[a[c]]:a[c],m=function(a){var e=Array.prototype.slice.call(arguments,1);if(e.length<=1&&(e=e[0]),a){var h={};g(j(d),function(a){h[a]=d[a]}),h[c]=e,b(a,h),b=function(){}}else d[c]=e,f.setImmediate(l)},n=e.slice(0,Math.abs(e.length-1))||[],o=function(){return i(n,function(a,b){return a&&d.hasOwnProperty(b)},!0)&&!d.hasOwnProperty(c)};if(o())e[e.length-1](m,d);else{var p=function(){o()&&(k(p),e[e.length-1](m,d))};h(p)}})},f.waterfall=function(a,b){if(b=b||function(){},a.constructor!==Array){var c=new Error("First argument to waterfall must be an array of functions");return b(c)}if(!a.length)return b();var d=function(a){return function(c){if(c)b.apply(null,arguments),b=function(){};else{var e=Array.prototype.slice.call(arguments,1),g=a.next();e.push(g?d(g):b),f.setImmediate(function(){a.apply(null,e)})}}};d(f.iterator(a))()};var t=function(a,b,c){if(c=c||function(){},b.constructor===Array)a.map(b,function(a,b){a&&a(function(a){var c=Array.prototype.slice.call(arguments,1);c.length<=1&&(c=c[0]),b.call(null,a,c)})},c);else{var d={};a.each(j(b),function(a,c){b[a](function(b){var e=Array.prototype.slice.call(arguments,1);e.length<=1&&(e=e[0]),d[a]=e,c(b)})},function(a){c(a,d)})}};f.parallel=function(a,b){t({map:f.map,each:f.each},a,b)},f.parallelLimit=function(a,b,c){t({map:p(b),each:k(b)},a,c)},f.series=function(a,b){if(b=b||function(){},a.constructor===Array)f.mapSeries(a,function(a,b){a&&a(function(a){var c=Array.prototype.slice.call(arguments,1);c.length<=1&&(c=c[0]),b.call(null,a,c)})},b);else{var c={};f.eachSeries(j(a),function(b,d){a[b](function(a){var e=Array.prototype.slice.call(arguments,1);e.length<=1&&(e=e[0]),c[b]=e,d(a)})},function(a){b(a,c)})}},f.iterator=function(a){var b=function(c){var d=function(){return a.length&&a[c].apply(null,arguments),d.next()};return d.next=function(){return c<a.length-1?b(c+1):null},d};return b(0)},f.apply=function(a){var b=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,b.concat(Array.prototype.slice.call(arguments)))}};var u=function(a,b,c,d){var e=[];a(b,function(a,b){c(a,function(a,c){e=e.concat(c||[]),b(a)})},function(a){d(a,e)})};f.concat=l(u),f.concatSeries=n(u),f.whilst=function(a,b,c){a()?b(function(d){return d?c(d):void f.whilst(a,b,c)}):c()},f.doWhilst=function(a,b,c){a(function(d){return d?c(d):void(b()?f.doWhilst(a,b,c):c())})},f.until=function(a,b,c){a()?c():b(function(d){return d?c(d):void f.until(a,b,c)})},f.doUntil=function(a,b,c){a(function(d){return d?c(d):void(b()?c():f.doUntil(a,b,c))})},f.queue=function(b,c){function d(a,b,d,e){b.constructor!==Array&&(b=[b]),g(b,function(b){var g={data:b,callback:"function"==typeof e?e:null};d?a.tasks.unshift(g):a.tasks.push(g),a.saturated&&a.tasks.length===c&&a.saturated(),f.setImmediate(a.process)})}void 0===c&&(c=1);var e=0,h={tasks:[],concurrency:c,saturated:null,empty:null,drain:null,push:function(a,b){d(h,a,!1,b)},unshift:function(a,b){d(h,a,!0,b)},process:function(){if(e<h.concurrency&&h.tasks.length){var c=h.tasks.shift();h.empty&&0===h.tasks.length&&h.empty(),e+=1;var d=function(){e-=1,c.callback&&c.callback.apply(c,arguments),h.drain&&h.tasks.length+e===0&&h.drain(),h.process()},f=a(d);b(c.data,f)}},length:function(){return h.tasks.length},running:function(){return e}};return h},f.cargo=function(a,b){var c=!1,d=[],e={tasks:d,payload:b,saturated:null,empty:null,drain:null,push:function(a,c){a.constructor!==Array&&(a=[a]),g(a,function(a){d.push({data:a,callback:"function"==typeof c?c:null}),e.saturated&&d.length===b&&e.saturated()}),f.setImmediate(e.process)},process:function i(){if(!c){if(0===d.length)return void(e.drain&&e.drain());var f="number"==typeof b?d.splice(0,b):d.splice(0),j=h(f,function(a){return a.data});e.empty&&e.empty(),c=!0,a(j,function(){c=!1;var a=arguments;g(f,function(b){b.callback&&b.callback.apply(null,a)}),i()})}},length:function(){return d.length},running:function(){return c}};return e};var v=function(a){return function(b){var c=Array.prototype.slice.call(arguments,1);b.apply(null,c.concat([function(b){var c=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(b?console.error&&console.error(b):console[a]&&g(c,function(b){console[a](b)}))}]))}};f.log=v("log"),f.dir=v("dir"),f.memoize=function(a,b){var c={},d={};b=b||function(a){return a};var e=function(){var e=Array.prototype.slice.call(arguments),f=e.pop(),g=b.apply(null,e);g in c?f.apply(null,c[g]):g in d?d[g].push(f):(d[g]=[f],a.apply(null,e.concat([function(){c[g]=arguments;var a=d[g];delete d[g];for(var b=0,e=a.length;e>b;b++)a[b].apply(null,arguments)}])))};return e.memo=c,e.unmemoized=a,e},f.unmemoize=function(a){return function(){return(a.unmemoized||a).apply(null,arguments)}},f.times=function(a,b,c){for(var d=[],e=0;a>e;e++)d.push(e);return f.map(d,b,c)},f.timesSeries=function(a,b,c){for(var d=[],e=0;a>e;e++)d.push(e);return f.mapSeries(d,b,c)},f.compose=function(){var a=Array.prototype.reverse.call(arguments);return function(){var b=this,c=Array.prototype.slice.call(arguments),d=c.pop();f.reduce(a,c,function(a,c,d){c.apply(b,a.concat([function(){var a=arguments[0],b=Array.prototype.slice.call(arguments,1);d(a,b)}]))},function(a,c){d.apply(b,[a].concat(c))})}};var w=function(a,b){var c=function(){var c=this,d=Array.prototype.slice.call(arguments),e=d.pop();return a(b,function(a,b){a.apply(c,d.concat([b]))},e)};if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return c.apply(this,d)}return c};f.applyEach=l(w),f.applyEachSeries=n(w),f.forever=function(a,b){function c(d){if(d){if(b)return b(d);throw d}a(c)}c()},"undefined"!=typeof define&&define.amd?define([],function(){return f}):"undefined"!=typeof c&&c.exports?c.exports=f:b.async=f}()});return c}(),require._modules["/lib/cloak/app-object.js"]=function(){var a="/lib/cloak/app-object.js",b="/lib/cloak",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){{var a=d("cloak"),b=d("cloak/class"),e=d("cloak/underscore"),f=d("eventemitter2").EventEmitter2,g=1;c.exports=b.extend(f,{init:function(){f.call(this,a.config.ee2),this._uuid=g++},bind:function(){for(var a=0,b=arguments.length;b>a;a++)this[arguments[a]]=e.bind(this[arguments[a]],this)},emits:function(){var a=e.toArray(arguments);return a.unshift(this),a.unshift(this.emit),e.bind.apply(e,a)},reemit:function(a){var b=this;return function(){a=a||this.event,"."===a.charAt(0)?a=this.event+a:"."===a.charAt(a.length-1)&&(a+=this.event);var c=[a];c.push.apply(c,arguments),b.emit.apply(b,c)}}})}});return c}(),require._modules["/lib/cloak/base64.js"]=function(){var a="/lib/cloak/base64.js",b="/lib/cloak",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=(c.require=window.require._bind(c),c.exports),e=function(){var a=window,b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c=function(){try{document.createElement("$")}catch(a){return a}}();d.btoa=a.btoa||function(a){for(var d,e,f=0,g=b,h="";a.charAt(0|f)||(g="=",f%1);h+=g.charAt(63&d>>8-f%1*8)){if(e=a.charCodeAt(f+=.75),e>255)throw c;d=d<<8|e}return h},d.atob=a.atob||function(a){if(a=a.replace(/=+$/,""),a.length%4==1)throw c;for(var d,e,f=0,g=0,h="";e=a.charAt(g++);~e&&(d=f%4?64*d+e:e,f++%4)?h+=String.fromCharCode(255&d>>(-2*f&6)):0)e=b.indexOf(e);return h}};return c}(),require._modules["/lib/cloak/class.js"]=function(){var a="/lib/cloak/class.js",b="/lib/cloak",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){var a=d("cloak/underscore"),b=!1,e=/xyz/.test(function(){})?/\b_super\b/:/.*/,f=c.exports=function(){};f.onExtend=null,f._parent=Object,f.create=function(a){return new this(a)},f.extend=function(c){function d(){!b&&this.init&&this.init.apply(this,arguments)}var f=this.prototype;if(arguments.length>1){var g=a.map(a.toArray(arguments),function(a){return"function"==typeof a?a.prototype:a});g.unshift({}),c=a.extend.apply(a,g)}b=!0;var h=new this;b=!1;for(var i in c)h[i]="function"==typeof c[i]&&"function"==typeof f[i]&&e.test(c[i])?function(a,b){return function(){var c=this._super;this._super=f[a];var d=b.apply(this,arguments);return this._super=c,d}}(i,c[i]):c[i];return d.prototype=h,d.prototype.constructor=d,d._parent=this,d.extend=arguments.callee,d.create=this.create,d.inherits=function(a){var b=this;do{if(b===a)return!0;if(b===Object)return!1}while(b=b._parent)},"function"==typeof this.onExtend&&this.onExtend.call(d),d}});return c}(),require._modules["/lib/cloak/collection-async.js"]=function(){var a="/lib/cloak/collection-async.js",b="/lib/cloak",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){var a=d("async"),b=(d("jquery"),d("cloak/class")),e=d("promise").Promise,f=d("cloak/underscore"),g=c.exports=b.extend({init:function(a){this.collection=a},forEach:function(a){return this.each(a)},forEachSeries:function(a){return this.eachSeries(a)},forEachLimit:function(a,b){return this.eachLimit(a,b)},find:function(a){return this.detect(a)},findSeries:function(a){return this.detectSeries(a)}}),h=["each","eachSeries","eachLimit","map","mapSeries","mapLimit","filter","filterSeries","select","selectSeries","reject","rejectSeries","reduce","reduceRight","detect","detectSeries","sortBy","some","every","concat","concatSeries"];
f.each(h,function(b){g.prototype[b]=function(){var c=f.toArray(arguments),d=this.collection;return new e(function(e,g){c[c.length-1]=f.bind(c[c.length-1],d),c.unshift(d.models),c.push(function(a,b){return a?g(a):void e(b)}),a[b].apply(a,c)})}})});return c}(),require._modules["/lib/cloak/collection.js"]=function(){var a="/lib/cloak/collection.js",b="/lib/cloak",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},f()},parent:null,children:[]},d=c.require=window.require._bind(c),e=c.exports,f=function(){var a=d("cloak"),b=(d("cloak/xhr"),d("cloak/model")),f=d("cloak/app-object"),g=d("cloak/underscore"),h=d("cloak/collection-async"),i=(d("async"),d("jquery")),j=(d("eventemitter2").EventEmitter2,c.exports=f.extend({init:function(){this._super(),this.models=[],this.async=new h(this),"function"==typeof this.initialize&&this.initialize.apply(this,arguments)},initialize:function(a){a&&(a=g.isArray(a)?a:arguments,this.add.apply(this,a))},url:function(){return this.model.url()},toModel:function(c){return c instanceof b?c instanceof this.model?c:null:"string"==typeof c?this.model.create(a.idObj(c)):"object"==typeof c&&c?this.model.create(c):!1},clone:function(){var a=new this.constructor;return a.unserialize(this.serialize()),a},empty:function(){return this.models.length=0,this},len:function(){return this.models.length},where:function(a){return this.filter(function(b){for(var c in a)if(a.hasOwnProperty(c)&&b.get(c)!==a[c])return!1;return!0})},findWhere:function(a){return this.detect(function(b){for(var c in a)if(a.hasOwnProperty(c)&&b.get(c)!==a[c])return!1;return!0})},find:function(a){return g.find(this.models,function(b){return b.is(a)})},contains:function(a){return!!this.find(a)},indexOf:function(a){return g.indexOf(this.models,this.find(a))},add:function(a,b){return"number"!=typeof a&&(b=a,a=-1),g.isArray(b)||(b=[b]),b=g.map(b,g.bind(this.toModel,this)),b=g.compact(b),this.unique&&(b=g.unique(b,function(a){return a.id()}),b=g.reject(b,g.bind(this.contains,this))),b.length&&(0>a?this.models.push.apply(this.models,b):this.models.splice(a,0,b),this.emit("add",b)),this},remove:function(a){g.isArray(a)||(a=[a]);var b=[];return this.models=g.rejectInPlace(this.models,function(c){return!!g.find(a,function(a){return c.is(a)&&b.push(c)})}),b.length&&this.emit("remove",b),this},filterInPlace:function(a){return g.filterInPlace(this.models,a),this},rejectInPlace:function(a){return g.rejectInPlace(this.models,a),this},serialize:function(a){var b;return b=a&&a.deep?function(a){return a.serialize()}:function(a){return a.id()},this.map(b)},unserialize:function(b){if(!g.isArray(b))return this.emit("error","Collection::unserialize expects an array");var c=this.models.slice();this.models.length=0;for(var d=0,e=b.length;e>d;d++){var f=a.idObj(b[d]),h=f[a.config.idKey],i=g.find(c,function(a){return a.id()===h});this.models.push(i||this.model.create(f))}return this},load:function(a){this.emit("load");var b=this.map(function(b){return b.load(a)});return i.when.apply(i,b).then(this.emits("loaded"))},save:function(){this.emit("save");var a=this.map(function(a){return a.save()});return i.when.apply(i,a).then(this.emits("saved"))},patch:function(){this.emit("patch");var a=this.map(function(a){return a.patch.apply(a,arguments)});return i.when.apply(i,a).then(this.emits("patched"))},del:function(){this.emit("delete");var a=this.map(function(a){return a.del()});return i.when.apply(i,a).then(this.emits("deleted")).then(g.bind(this.empty,this))},destroy:function(){this.emit("destroy"),this.teardown&&this.teardown(),this.mapTo("destroy");for(var a in this)this.hasOwnProperty(a)&&(this[a]=null)}})),k=["forEach","each","map","mapTo","collect","reduce","foldl","inject","reduceRight","foldr","detect","filter","select","reject","every","all","some","any","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","shuffle","isEmpty","chain","extract"];g.each(k,function(a){j.prototype[a]=function(){var b=g.toArray(arguments);return b.unshift(this.models),g[a].apply(g,b)}}),j.$=function(a){return l(this,a)};var l=e.createDefinition=function(a,b){b=b||{};var c=function(){return c.create.apply(c,arguments)};return c.create=function(){var c=a.create.apply(a,arguments);return g.each(g.keys(b),function(a){c[a]=!0}),c},c.inherits=function(b){return b===a||a.inherits(b)},c};j.$unique=j.$({unique:!0}),j.onExtend=function(){this.$=j.$,this.$unique=this.$({unique:!0}),this.onExtend=j.onExtend},j.isCollection=function(a){return"function"==typeof a&&a.inherits&&a.inherits(j)}};return c}(),require._modules["/lib/cloak/index.js"]=function(){var a="/lib/cloak/index.js",b="/lib/cloak",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},f()},parent:null,children:[]},d=c.require=window.require._bind(c),e=c.exports,f=function(){function a(){var a=new Date;return("00"+a.getHours()).slice(-2)+":"+("00"+a.getMinutes()).slice(-2)+":"+("00"+a.getSeconds()).slice(-2)+"."+("000"+a.getMilliseconds()).slice(-4)}{var b=d("jquery");d("cloak/underscore")}window.console||(window.console={}),window.console.log||(window.console.log=function(){}),e.config={ee2:{wildcard:!0,delimiter:".",newListener:!1,maxListeners:20},apiUrl:location.protocol+"//"+location.host,idKey:"_id",loadSaveResponses:!0,loadPatchResponses:!1,delegateEvents:!0,inheritEvents:!1,allowAbsoluteUrls:!1,socket:null,modelStore:null,removeFromCollectionOnDelete:!0,viewTag:"div",ignoreQueryString:!0,shareModels:!1},e.config.modelStore=d("cloak/model-stores/xhr"),e.$win=b(window),e.$doc=b(document),e.log=function(b){console.log("["+a()+"]",b)},e.event=function(a){return"."!==e.config.ee2.delimiter&&(a=a.split(".").join(e.config.ee2.delimiter)),a},e.idObj=function(a){var b;if("string"==typeof a)b={},b[e.config.idKey]=a;else if("object"==typeof a&&a){var c=a.id?"id":"_id";b=a,b[e.config.idKey]=b[c],delete b[c]}return b}};return c}(),require._modules["/lib/cloak/local-storage.js"]=function(){var a="/lib/cloak/local-storage.js",b="/lib/cloak",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},f()},parent:null,children:[]},d=c.require=window.require._bind(c),e=c.exports,f=function(){{var a=d("store"),b=(d("jquery"),d("uuid-v4")),c=d("cloak").config,f=d("cloak/app-object");e.Store=f.extend({init:function(){this._super()},_modelStore:function(b){return a.get(b)||{}},_withModelStore:function(b,c){var d=this._modelStore();a.set(b,c.call(this,d)||d)},read:function(a,b){return this._modelStore(a)[b]},readBulk:function(a,b){return _.values(_.pick.apply(_,[this._modelStore(a)].concat(b)))},readByQuery:function(a){return _.filter(_.values(this._modelStore(a)),function(){})},generateId:function(){return b().split("-").join("")},create:function(a,b){var c=this.generateId();return this._withModelStore(a,function(a){a[c]=b}),c},update:function(a,b,c){this._withModelStore(a,function(a){_.extend(a[b],c)})},updateBulk:function(a,b){this._withModelStore(a,function(a){_.forEach(b,function(b){_.extend(a[b[c.idKey]],b)})})},del:function(a,b){this._withModelStore(a,function(a){delete a[b]})},delBulk:function(a,b){this._withModelStore(a,function(a){_.forEach(_.keys(a),function(c){_.indexOf(b,c)>=0&&delete a[c]})})},clear:function(){return a.clear()}})}};return c}(),require._modules["/lib/cloak/model-stores/dagger.js"]=function(){var a="/lib/cloak/model-stores/dagger.js",b="/lib/cloak/model-stores",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},f()},parent:null,children:[]},d=c.require=window.require._bind(c),e=c.exports,f=function(){function a(a,b){var c=[];for(var d in a){var e=b?b+"["+d+"]":d,f=a[d];c.push(e+"="+("object"==typeof f?JSON.stringify(f):f))}return c.join("&")}var b=e.methods={},c=e.statics={},f=d("cloak"),g=(d("jquery"),d("cloak/app-object")),h=d("promise").Promise,i=f.config.socket,j=f.config.idKey;b._load=function(a){return k.send("GET",this.reqUrl(),a).then(function(a){return a.body})},b._save=function(a){var b=this.id()?"PUT":"POST";return k.send(b,this.reqUrl(),a).then(function(a){return a.body})},b._patch=function(a){return k.send("PATCH",this.reqUrl(),a).then(function(a){return a.body})},b._del=function(){return k.send("DELETE",this.reqUrl())},b.subscribe=function(a,b){b=b||{};var c={};return c[j]={$eq:this.id()},new l({model:this.name,event:a,"volatile":b["volatile"]||!1,filter:c})},c.subscribe=function(a,b){return b=b||{},new l({model:this.name,event:a,"volatile":b["volatile"]||!1,filter:b.filter||null})};var k=e.Request=g.extend({init:function(b,c,d){this.method=b,this.url=c,this.headers=k.defaultHeaders.slice(),"GET"===this.method?d&&(this.url+="?"+a(d)):this.body=d},setHeader:function(a,b){this.headers.push([a,b])},send:function(){var a=this;return new h(function(b,c){var d={method:a.method,url:a.url,headers:a.headers,body:a.body};f.log("WS Request: "+d.method.toUpperCase()+" "+d.url),i.emit("request",d,function(a){return a.status>=400?c(a):void b(a)})})}});k.defaultHeaders=[],k.send=function(a,b,c){var d=new k(a,b,c);return d.send()};var l=e.Subscription=g.extend({model:null,listening:!1,init:function(a){_.extend(this,a),l._subscriptions.push(this),this.bind("onEvent","_onStarted")},start:function(){this.listening||(this.listening=!0,this.emit("starting"),i.emit("listen",this.opts(),this._onStarted))},_onStarted:function(a){return 200!==a.status?this.emit("error",a):(this.emit("started"),void i.on(this.meta.emits,this.onEvent))},stop:function(){this.listening&&(this.listening=!1,this.emit("stopping"),i.removeListener(this.meta.emits,this.onEvent),this.emit("stopped"))},onEvent:function(a){this.emit("event",a)},listen:function(a){this.start(),this.on("event",a)},unlisten:function(a){this.removeListener("event",a),this.listeners("event").length||this.stop()}})};return c}(),require._modules["/lib/cloak/model-stores/local-storage.js"]=function(){var a="/lib/cloak/model-stores/local-storage.js",b="/lib/cloak/model-stores",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},f()},parent:null,children:[]},d=c.require=window.require._bind(c),e=c.exports,f=function(){var a=(d("uuid-v4"),d("../underscore"),d("promise").Promise),b=d("../local-storage").Store,c=e.methods={},f=(e.statics={},e.store=new b);c._load=function(){var b=this;return new a(function(a,c){var d=f.read(b.url,b.id());return d?void a(d):c(new Error("Not found"))})},c._save=function(b){function c(a){e.id(f.create(e.url,b)),a(f.read(e.url,e.id()))}function d(a){f.update(e.url,e.id(),b),a(f.read(e.url,e.id()))}var e=this;return new a(function(a,b){return(e.id()?d:c)(a,b)})},c._patch=function(b){var c=this;return new a(function(a){f.update(c.url,c.id(),b),a(f.read(c.url,c.id()))})},c._del=function(){var b=this;return new a(function(a){f.del(b.url,b.id()),b.emit("deleted"),b.destroy(),a()})}};return c}(),require._modules["/lib/cloak/model-stores/xhr.js"]=function(){var a="/lib/cloak/model-stores/xhr.js",b="/lib/cloak/model-stores",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},f()},parent:null,children:[]},d=c.require=window.require._bind(c),e=c.exports,f=function(){{var a=d("../xhr"),b=(d("jquery"),e.methods={});e.statics={}}b._load=function(b){var c=this;return a.get(c.reqUrl(),b).then(function(a){return a.json})},b._save=function(b){var c=this.id()?"put":"post";return a[c](this.reqUrl(),b).then(function(a){return a.json})},b._patch=function(b){return a.patch(this.reqUrl(),b).then(function(a){return a.json})},b._del=function(){return a.del(this.reqUrl())}};return c}(),require._modules["/lib/cloak/model.js"]=function(){var a="/lib/cloak/model.js",b="/lib/cloak",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){var a=d("cloak"),b=d("cloak/app-object"),e=d("cloak/underscore"),f=(d("jquery"),d("promise").Promise),g=a.config.modelStore,h=c.exports=b.extend(g.methods,{url:null,name:null,init:function(){this._super(),a.config.shareModels&&this.model.instances.push(this),this.name=this.name||this.url.split("/")[1].replace(/\{$/,""),this.attributes=this._buildAttributes(),this._getters=e.extend({},this.getters||{}),this._setters=e.extend({},this.setters||{}),this._changedLocally=[],this.on(a.event("change.*"),function(a,b,c){e.contains(this._changedLocally,c)||this._changedLocally.push(c)}),"function"==typeof this.initialize&&this.initialize.apply(this,arguments)},initialize:function(a){"object"==typeof a&&a&&this.unserialize(a)},_buildAttributes:function(){var a,b={},c=this.constructor;do a=c.prototype.attributes,a&&("function"==typeof a&&(a=a.call(this)),b=e.extend(b,a));while((c=c._parent)&&c!==h);return e.each(e.keys(b),e.bind(this._initializeModelsAndCollections,this,b)),b},_initializeModelsAndCollections:function(b,c){var d=b[c];h.isModel(d)?b[c]=null:i.isCollection(d)&&(b[c]=new d,b[c].parent=this,b[c].on(a.event("change.*"),this.reemit(a.event("change."+c))))},_removeFromChangedLocally:function(a){var b=this;return a?void e.forEach(a,function(a){var c=e.indexOf(b._changedLocally,a);c>=0&&b._changedLocally.splice(c,1)}):b._changedLocally.length=0},is:function(b){return b instanceof h?b instanceof this.constructor&&this.id()===b.id():("object"==typeof b&&b&&(b=b.id||b._id||b[a.config.idKey]),"string"==typeof b?this.id()===b:!1)},clone:function(){var a=new this.constructor;return a.unserialize(this.serialize()),a},localChanges:function(){return this._changedLocally.slice()},hasLocalChanges:function(){return!!this._changedLocally.length},id:function(b){return b&&(this.attributes[a.config.idKey]=b),this.attributes[a.config.idKey]},get:function(a){var b=this.attributes[a];return this._getters[a]&&(b=this._getters[a].call(this,b,a)),b},set:function(b,c){var d=this.attributes[b];return this._setters[b]&&(c=this._setters[b].call(this,c,d,b)),this.attributes[b]=c,d!==c&&this.emit(a.event("change."+b),c,d,b),this},defineGetter:function(a,b){this._getters[a]=b},defineSetter:function(a,b){this._setters[a]=b},removeGetter:function(a){delete this._getters[a]},removeSetter:function(a){delete this._setters[a]},serialize:function(b){var c=this,d={};return b=b||{},e.each(e.keys(c.attributes),function(f){if(!b.attrs||f===a.config.idKey||e.indexOf(b.attrs,f)>=0){var g=c.attributes[f];(g instanceof h||g instanceof i)&&(g=c.serializeChild(g,b.deep)),d[f]=g}}),d},serializeChild:function(a,b){return a instanceof i?a.serialize(b):b?a.serialize():a.id()},unserialize:function(b){this.emit("unserialize");var c=this.attributes,d=this.constructor.prototype.attributes;e.each(e.keys(b),function(e){var f=b[e];if(h.isModel(d[e]))if(c[e]instanceof h&&c[e].is(f)){if("string"!=typeof f)return c[e].unserialize(f)}else{var g=d[e];"string"==typeof f&&(f=a.idObj(f)),f=g.create(f)}else if(i.isCollection(d[e]))return c[e].unserialize(b[e]);c[e]=f}),this._changedLocally.length=0,this.emit("unserialized")},urlAttr:/\{([^}]+)\}/g,reqUrl:function(){var a=this;return this.url.replace(this.urlAttr,function(b,c){var d="";return(slash="/"===c.charAt(0))&&(d="/",c=c.slice(1)),d+="@"===c.charAt(0)?a.attributes[c.slice(1)]:"#"===c?a.id()||"":a.get(c),slash&&"/"===d&&(d=""),d})},subUrl:function(a){return"/"!==a.charAt(0)&&(a="/"+a),this.reqUrl()+a},load:function(a){var b=this;return b.emit("load"),b._load(a).then(function(a){b.processResponse&&(a=b.processResponse(a)),b.unserialize(a),b.emit("loaded"),b._removeFromChangedLocally()})},save:function(){var b=this,c=b.id()?"put":"post";return b.emit(a.event("save."+c)),b._save(this.serialize()).then(function(d){b.emit(a.event("saved."+c)),a.config.loadSaveResponses&&(b.processResponse&&(d=b.processResponse(d)),b.unserialize(d)),b._removeFromChangedLocally()})},patch:function(b){var c=this,d=e.isArray(b)?b:e.toArray(arguments),f=e.pickArray(this.serialize(),d);return c.emit("patch",d),c._patch(f).then(function(b){c.emit("patched",d);var f=d;a.config.loadPatchResponses&&(c.processResponse&&(b=c.processResponse(b)),"only-patched"===a.config.loadPatchResponses?b=e.pickArray(b,d):f=null,c.unserialize(b)),c._removeFromChangedLocally(f)})},del:function(){var a=this;return a.id()?(a.emit("delete"),a._del().then(function(){a.emit("deleted"),a.destroy()})):f.reject(new Error("Cannot make a DELETE request on a model with no ID"))},destroy:function(){if(this.emit("destroy"),a.config.shareModels)for(var b=this.model.instances,c=0;c<b.length;c++)b[c]===this&&b.splice(c--,1);this.teardown&&this.teardown();for(var c in this)this.hasOwnProperty(this)&&(this[c]=null)}}),i=d("cloak/collection");h.url=function(){return this.prototype.reqUrl.call({attributes:{},url:this.prototype.url,id:function(){return""},get:function(){return""}})},h.onExtend=function(){this.url=h.url,a.config.shareModels&&(this.instances=[]),this.modelName=this.prototype.name||this.url().split("/")[1].replace(/\{$/,""),this.onExtend=h.onExtend,this.Collection=i.extend({model:this})},h.isModel=function(a){return"function"==typeof a&&a.inherits&&a.inherits(h)},e.extend(h,g.statics)});return c}(),require._modules["/lib/cloak/router.js"]=function(){var a="/lib/cloak/router.js",b="/lib/cloak",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){var a=d("cloak"),b=d("history"),e=d("cloak/app-object"),f=d("cloak/underscore"),g={autoStart:!0,isTopLevel:!0},h=c.exports=e.extend({routes:null,_opts:null,_routes:null,_subRouters:null,_isOn:!1,_variablePattern:/:([^\/]+)/g,_currentUrl:null,_currentRoute:null,_isAnchor:!1,init:function(a){this._super(),this._routes=[],this._opts=f.defaults(a||{},h.defaults),this._opts.isTopLevel&&(this.topLevel=this),f.forEach(f.keys(this.routes),f.bind(function(a){this._parseRoute(a,this.routes[a])},this)),this._subRouters=[],this.bind("handleAnchor"),this.bind("_onstatechange"),b.enabled&&this._opts.autoStart&&this.start(),"function"==typeof this.initialize&&this.initialize.apply(this,arguments)},use:function(a){return"function"==typeof a&&(a=new a({autoStart:!1,isTopLevel:!1})),a.parent=this,a.topLevel=this.topLevel,this._subRouters.push(a),this},start:function(){return this._isOn||(this._isOn=!0,a.$win.on("statechange",this._onstatechange),a.$win.trigger("statechange")),this},stop:function(){return this._isOn&&(this._isOn=!1,a.$win.off("statechange",this._onstatechange)),this},pushState:function(a,c,d){return b.pushState(a,c||document.title,d)},replaceState:function(a,c,d){return b.replaceState(a,c||document.title,d)},back:function(){return b.back()},forward:function(){return b.forward()},go:function(a){return b.go(a)},redirectTo:function(a){this.pushState(null,null,a)},handleAnchor:function(a){a.preventDefault();for(var b=a.target;"A"!==b.tagName&&b!==document.body;)b=b.parentNode;for(var c=b.getAttribute("href");"/"===c.charAt(0)||"#"===c.charAt(0);)c=c.slice(1);this._isAnchor=!0,this.redirectTo("/"+c),this._isAnchor=!1},_parseRoute:function(a,b){if("function"!=typeof this[b])throw new Error('Router: cannot bind URI "'+a+'" to missing method "'+b+'"');this.bind(b);var c={uri:a,func:f.bind(this[b],this),params:[]};c.regex=a.replace(this._variablePattern,function(a,b){return c.params.push(b),"([^/]+)"}),this._variablePattern.lastIndex=0,c.regex+="/"===c.regex.slice(-1)?"?":"/?",c.regex=new RegExp("^"+c.regex+"$"),this._routes.push(c)},_find:function(a){a=a.split("?")[0],a=a.replace("#","");for(var b=0,c=this._routes.length;c>b;b++){var d=this._routes[b],e=d.regex.exec(a);if(e)return this._prepareMatch(a,d,e)}return null},_prepareMatch:function(a,b,c){for(var d={},e=0,f=b.params.length;f>e;e++)d[b.params[e]]=c[e+1]||null;return{func:b.func,href:a,params:d}},_onstatechange:function(){var c=b.getState(),d={state:c,isAnchor:this._isAnchor},e=c.hash;if(a.config.ignoreQueryString&&(e=e.split("?")[0]),e===this.topLevel._currentUrl){if(this._currentRoute)var f=this._currentRoute.params,e=this._currentRoute.href;return this.emit("reload",f,e,d),!0}return this._opts.isTopLevel&&(this.emit("statechange",c),a.log("State Change: "+c.hash)),this._currentUrl=c.hash,this._currentRoute=this._find(c.hash),this._currentRoute?(this._currentRoute.func(this._currentRoute.params,this._currentRoute.href,d),!0):this._deferToSubRouters()?!0:(this.emit("notfound",c),!1)},_deferToSubRouters:function(){var a=this._currentUrl;this._currentUrl=null;var b=f.find(this._subRouters,function(a){return a._onstatechange()});return this._currentUrl=a,b&&(this._currentRoute=b._currentRoute),!!b}});h.defaults=g});return c}(),require._modules["/lib/cloak/underscore.js"]=function(){var a="/lib/cloak/underscore.js",b="/lib/cloak",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){var a,b;if(d.resolve("underscore"))a=d(b="underscore");else{if(!d.resolve("lodash"))throw new Error("Either underscore or lodash is required to use cloak.js");a=d(b="lodash")}c.exports=a,a.mixin({nextTick:function(a,b){1===arguments.length&&(b=a,a=null),setTimeout(function(){b.call(a)},0)},pickArray:function(b,c){return a.pick.apply(a,[b].concat(c))},filterInPlace:function(a,b,c){c=c||null;for(var d=0;d<a.length;d++)b.call(c,a[d],d,a)||a.splice(d--,1,0);return a},rejectInPlace:function(a,b,c){c=c||null;for(var d=0;d<a.length;d++)b.call(c,a[d],d,a)&&a.splice(d--,1,0);return a},uniqueInPlace:function(b,c,d){"function"==typeof c&&(d=c,c=!1),"function"!=typeof d&&(d=a.identity);var e,f,g;if(c)for(var h=0;h<b.length;h++){e=0,f=d(b[h]);do g=d(b[h+e+1]);while(g===f&&++e);e&&(b.splice(h+1,e),e=0)}else{for(var i=[],h=0;h<b.length;h++){f=i[h]=i[h]||d(b[h]);for(var j=h+1;j<b.length;j++)g=i[j]=i[j]||d(b[j]),f===g&&(b.splice(j,1),i.splice(j--,1))}i=null}return b},mapTo:function(b,c){var d=Array.prototype.slice.call(arguments,2);return a.map(b,function(a){return a[c].apply(a,d)})},extract:function(a,b,c){var d=[];c=c||null;for(var e=0;e<a.length;e++)b.call(c,a[e],e,a)||d.push(a.splice(e--,1,0)[0]);return d}})});return c}(),require._modules["/lib/cloak/view.js"]=function(){var a="/lib/cloak/view.js",b="/lib/cloak",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){var a=d("cloak"),b=d("cloak/app-object"),e=d("jquery"),f=d("cloak/underscore"),g=d("handlebars"),h=d("object-search"),i=c.exports=b.extend({init:function(){this._super(),this.$elem=e(this.elem?this.elem:this.tagName?"<"+this.tagName+">":"<"+a.config.viewTag+">"),this.className&&this.$elem.addClass(this.className),this.id&&this.$elem.attr("id",this.id),this.attributes&&this.$elem.attr(this.attributes),this._boundEvents=[],"function"==typeof this.initialize&&this.initialize.apply(this,arguments)},initialize:function(a){f.extend(this,a)},$:function(a){return this.$elem.find(a)},render:function(a,b){if(a=f.extend({_uuid:this._uuid},a||{}),b=b||"template",this.emit("render",a,b),"string"==typeof this[b]&&(this[b]=d("handlebars/compiler").compile(this[b])),"function"==typeof this[b])return 5===this[b].length&&(this[b]=g.template(this[b])),this[b](a);throw new TypeError("Cannot render view without a valid template")},bindEvents:function(b){if(b=f.extend({},b||this.events)){var c=b._delegate;"boolean"!=typeof c&&(c=a.config.delegateEvents),delete b._delegate,f.forEach(b,f.bind(this._bindEvent,this,c))}},_eventDataRegex:/\{([^}]+)\}$/,_bindEvent:function(b,c,d){var e,g;if(d=d.split(" "),e=d.shift(),d=d.join(" "),g=c.split(" "),c=this[g[0]],g=g.slice(1),"function"!=typeof c)throw new Error("Cannot bind a undefined function to a DOM event.");var h=this,i=function(a){return c.apply(h,[a].concat(g))},j=this._eventDataRegex.exec(e);if(j&&(e=e.replace(j[0],""),j=j[1].split(","),!j[0]||j[0].indexOf(":")>=0)){var k={};f.forEach(j,function(a){a=a.split(":"),k[a[0]]=a[1]}),j=k}if(e+="._viewEvents."+this._uuid,this._boundEvents.push({query:d,event:e,delegate:b}),"@"===d)this.$elem.off(e),this.$elem.on(e,j,i);else if(""===d)a.$doc.off(e),a.$doc.on(e,j,i);else if(b)this.$elem.off(e,d),this.$elem.on(e,d,j,i);else{var l=this.$(d);l.off(e),l.on(e,j,i)}},unbindEvents:function(a){a||(a=this._boundEvents,this._boundEvents=[]),f.forEach(a,f.bind(this._unbindEvent,this))},_unbindEvent:function(b){"@"===b.query?this.$elem.off(b.event):""===b.query?a.$doc.off(b.event):b.delegate?this.$elem.off(b.event,b.query):this.$(b.query).off(b.event)},bindPartials:function(a){var b=this;this.$("[data-partial]").each(function(){var c=e(this),d=c.attr("name");if(!d)throw new Error("Partials must be given a name attribute");var f=a[c.attr("data-partial")];if(!f)throw new Error('View for partial "'+c.attr("data-partial")+'" was not given');var g=c.attr("data-partial-data");g&&(g=h.get(b,g));var i=new f(g);h.set(b,d,i),c.replaceWith(i.$elem),i.draw()})},remove:function(){this.emit("remove"),this.$elem.remove(),this.events&&this.unbindEvents()}});i.onExtend=function(){if(this.onExtend=i.onExtend,a.config.inheritEvents){for(var b=this,c={};b!==i;)c=f.extend({},b.prototype.events||{},c),b=b._parent;this.prototype.events=c}}});return c}(),require._modules["/lib/cloak/xhr.js"]=function(){var a="/lib/cloak/xhr.js",b="/lib/cloak",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},f()},parent:null,children:[]},d=c.require=window.require._bind(c),e=c.exports,f=function(){var a=d("jquery"),b=d("underscore"),c=d("cloak"),f=(d("cloak/base64"),d("promise").Promise),g=d("cloak/app-object"),h=e.Queue=g.extend({init:function(){this._super(),this.queue=[],this.running=0},next:function(){b.nextTick(this,function(){if(this.running<h.maxRequests&&this.queue.length){this.running++;var a=this.queue.shift();a.on("done",function(){this.running--,this.next()}),this.emit("request",a),a.start()}})},run:function(a,b,c){var d=new i(a,b,c);return this.queue.push(d),this.emit("queued",d),this.next(),d},get:function(a,b){return this.run("get",a,b)},post:function(a,b){return this.run("post",a,b)},put:function(a,b){return this.run("put",a,b)},patch:function(a,b){return this.run("patch",a,b)},del:function(a,b){return this.run("delete",a,b)}});h.maxRequests=2,e.queue=new h,b.each(["run","get","post","put","patch","del"],function(a){e[a]=b.bind(e.queue[a],e.queue)});var i=e.Request=g.extend({init:function(a,d,e){this.method=a,this.url=c.config.apiUrl+d,this.data=e,this.config={url:d,type:a.toUpperCase(),async:!0,cache:!1,dataType:"json",contentType:"application/json",headers:{},traditional:!0},b.forEach(i.defaultHeaders,b.bind(function(a){this.setHeader(a[0],a[1])},this)),b(c.config.httpMethodOverride).indexOf(a)>=0&&(this.config.type="POST",this.config.headers["X-Http-Method-Override"]=a),"GET"===a?this.config.data=e:(this.config.data=JSON.stringify(e),this.config.processData=!1)},setHeader:function(a,b){this.config.headers[a]=b},run:function(){var d=this;return new f(function(e,f){d.config.complete=b.bind(d.oncomplete,d,e,f),c.log("XHR: "+d.method.toUpperCase()+" "+d.url+" "+d.config.data),d.emit("send",d),d.xhr=a.ajax(d.config)})},oncomplete:function(a,b,c,d){try{this.json=JSON.parse(c.responseText)}catch(e){this.json={}}this.emit("response",this),this.emit("response."+d,this),("success"===d||"error"===d)&&this.emit(d+"."+c.status,this),d>=400||!d?b(this):a(this)},abort:function(){this.xhr&&this.xhr.abort&&(this.xhr.abort(),this.emit("abort",this))}});i.defaultHeaders=[]};return c}(),require._modules["/lib/eventemitter2.js"]=function(){var a="/lib/eventemitter2.js",b="/lib",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},f()},parent:null,children:[]},d={title:"browser",nextTick:function(a){setTimeout(a,0)}},e=(c.require=window.require._bind(c),c.exports),f=function(){!function(a){function b(){this._events=new Object}function c(a){a&&(a.delimiter&&(this.delimiter=a.delimiter),a.maxListeners&&(this._events.maxListeners=a.maxListeners),a.wildcard&&(this.wildcard=a.wildcard),this.wildcard&&(this.listenerTree=new Object))}function d(a){this._events=new Object,c.call(this,a)}function e(a,b,c,d){if(!c)return[];var f,g,h,i,j,k,l,m=[],n=b.length,o=b[d],p=b[d+1];if(d===n&&c._listeners){if("function"==typeof c._listeners)return a&&a.push(c._listeners),[c];for(f=0,g=c._listeners.length;g>f;f++)a&&a.push(c._listeners[f]);return[c]}if("*"===o||"**"===o||c[o]){if("*"===o){for(h in c)"_listeners"!==h&&c.hasOwnProperty(h)&&(m=m.concat(e(a,b,c[h],d+1)));return m}if("**"===o){l=d+1===n||d+2===n&&"*"===p,l&&c._listeners&&(m=m.concat(e(a,b,c,n)));for(h in c)"_listeners"!==h&&c.hasOwnProperty(h)&&("*"===h||"**"===h?(c[h]._listeners&&!l&&(m=m.concat(e(a,b,c[h],n))),m=m.concat(e(a,b,c[h],d))):m=m.concat(h===p?e(a,b,c[h],d+2):e(a,b,c[h],d)));return m}m=m.concat(e(a,b,c[o],d+1))}if(i=c["*"],i&&e(a,b,i,d+1),j=c["**"])if(n>d){j._listeners&&e(a,b,j,n);for(h in j)"_listeners"!==h&&j.hasOwnProperty(h)&&(h===p?e(a,b,j[h],d+2):h===o?e(a,b,j[h],d+1):(k={},k[h]=j[h],e(a,b,{"**":k},d+1)))}else j._listeners?e(a,b,j,n):j["*"]&&j["*"]._listeners&&e(a,b,j["*"],n);return m}function f(a,b){a="string"==typeof a?a.split(this.delimiter):a.slice();for(var c=0,d=a.length;d>c+1;c++)if("**"===a[c]&&"**"===a[c+1])return;for(var e=this.listenerTree,f=a.shift();f;){if(e[f]||(e[f]=new Object),e=e[f],0===a.length){if(e._listeners){if("function"==typeof e._listeners)e._listeners=[e._listeners,b];else if(g(e._listeners)&&(e._listeners.push(b),!e._listeners.warned)){var i=h;"undefined"!=typeof this._events.maxListeners&&(i=this._events.maxListeners),i>0&&e._listeners.length>i&&(e._listeners.warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",e._listeners.length),console.trace())}}else e._listeners=b;return!0}f=a.shift()}return!0}var g=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},h=10;d.prototype.delimiter=".",d.prototype.setMaxListeners=function(a){this._events||b.call(this),this._events.maxListeners=a},d.prototype.event="",d.prototype.once=function(a,b){return this.many(a,1,b),this},d.prototype.many=function(a,b,c){function d(){0===--b&&e.off(a,d),c.apply(this,arguments)}var e=this;if("function"!=typeof c)throw new Error("many only accepts instances of Function");return d._origin=c,this.on(a,d),e},d.prototype.emit=function(){this._events||b.call(this);var a=arguments[0];if("newListener"===a&&!this._events.newListener)return!1;if(this._all){for(var c=arguments.length,d=new Array(c-1),f=1;c>f;f++)d[f-1]=arguments[f];for(f=0,c=this._all.length;c>f;f++)this.event=a,this._all[f].apply(this,d)}if("error"===a&&!(this._all||this._events.error||this.wildcard&&this.listenerTree.error))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");var g;if(this.wildcard){g=[];var h="string"==typeof a?a.split(this.delimiter):a.slice();e.call(this,g,h,this.listenerTree,0)}else g=this._events[a];if("function"==typeof g){if(this.event=a,1===arguments.length)g.call(this);else if(arguments.length>1)switch(arguments.length){case 2:g.call(this,arguments[1]);break;case 3:g.call(this,arguments[1],arguments[2]);break;default:for(var c=arguments.length,d=new Array(c-1),f=1;c>f;f++)d[f-1]=arguments[f];g.apply(this,d)}return!0}if(g){for(var c=arguments.length,d=new Array(c-1),f=1;c>f;f++)d[f-1]=arguments[f];for(var i=g.slice(),f=0,c=i.length;c>f;f++)this.event=a,i[f].apply(this,d);return i.length>0||this._all}return this._all},d.prototype.on=function(a,c){if("function"==typeof a)return this.onAny(a),this;if("function"!=typeof c)throw new Error("on only accepts instances of Function");if(this._events||b.call(this),this.emit("newListener",a,c),this.wildcard)return f.call(this,a,c),this;
if(this._events[a]){if("function"==typeof this._events[a])this._events[a]=[this._events[a],c];else if(g(this._events[a])&&(this._events[a].push(c),!this._events[a].warned)){var d=h;"undefined"!=typeof this._events.maxListeners&&(d=this._events.maxListeners),d>0&&this._events[a].length>d&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),console.trace())}}else this._events[a]=c;return this},d.prototype.onAny=function(a){if(this._all||(this._all=[]),"function"!=typeof a)throw new Error("onAny only accepts instances of Function");return this._all.push(a),this},d.prototype.addListener=d.prototype.on,d.prototype.off=function(a,b){if("function"!=typeof b)throw new Error("removeListener only takes instances of Function");var c,d=[];if(this.wildcard){var f="string"==typeof a?a.split(this.delimiter):a.slice();d=e.call(this,null,f,this.listenerTree,0)}else{if(!this._events[a])return this;c=this._events[a],d.push({_listeners:c})}for(var h=0;h<d.length;h++){var i=d[h];if(c=i._listeners,g(c)){for(var j=-1,k=0,l=c.length;l>k;k++)if(c[k]===b||c[k].listener&&c[k].listener===b||c[k]._origin&&c[k]._origin===b){j=k;break}if(0>j)return this;this.wildcard?i._listeners.splice(j,1):this._events[a].splice(j,1),0===c.length&&(this.wildcard?delete i._listeners:delete this._events[a])}else(c===b||c.listener&&c.listener===b||c._origin&&c._origin===b)&&(this.wildcard?delete i._listeners:delete this._events[a])}return this},d.prototype.offAny=function(a){var b,c=0,d=0;if(a&&this._all&&this._all.length>0){for(b=this._all,c=0,d=b.length;d>c;c++)if(a===b[c])return b.splice(c,1),this}else this._all=[];return this},d.prototype.removeListener=d.prototype.off,d.prototype.removeAllListeners=function(a){if(0===arguments.length)return!this._events||b.call(this),this;if(this.wildcard)for(var c="string"==typeof a?a.split(this.delimiter):a.slice(),d=e.call(this,null,c,this.listenerTree,0),f=0;f<d.length;f++){var g=d[f];g._listeners=null}else{if(!this._events[a])return this;this._events[a]=null}return this},d.prototype.listeners=function(a){if(this.wildcard){var c=[],d="string"==typeof a?a.split(this.delimiter):a.slice();return e.call(this,c,d,this.listenerTree,0),c}return this._events||b.call(this),this._events[a]||(this._events[a]=[]),g(this._events[a])||(this._events[a]=[this._events[a]]),this._events[a]},d.prototype.listenersAny=function(){return this._all?this._all:[]},"function"==typeof define&&define.amd?define(function(){return d}):a.EventEmitter2=d}("undefined"!=typeof d&&"undefined"!=typeof d.title&&"undefined"!=typeof e?e:window)};return c}(),require._modules["/lib/fast-diff/index.js"]=function(){var a="/lib/fast-diff/index.js",b="/lib/fast-diff",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},d()},parent:null,children:[]},d=(c.require=window.require._bind(c),c.exports,function(){function a(a,c){if(a==c)return a?[[l,a]]:[];var d=f(a,c),e=a.substring(0,d);a=a.substring(d),c=c.substring(d),d=g(a,c);var h=a.substring(a.length-d);a=a.substring(0,a.length-d),c=c.substring(0,c.length-d);var j=b(a,c);return e&&j.unshift([l,e]),h&&j.push([l,h]),i(j),j}function b(b,c){var e;if(!b)return[[k,c]];if(!c)return[[j,b]];var f=b.length>c.length?b:c,g=b.length>c.length?c:b,i=f.indexOf(g);if(-1!=i)return e=[[k,f.substring(0,i)],[l,g],[k,f.substring(i+g.length)]],b.length>c.length&&(e[0][0]=e[2][0]=j),e;if(1==g.length)return[[j,b],[k,c]];var m=h(b,c);if(m){var n=m[0],o=m[1],p=m[2],q=m[3],r=m[4],s=a(n,p),t=a(o,q);return s.concat([[l,r]],t)}return d(b,c)}function d(a,b){for(var c=a.length,d=b.length,f=Math.ceil((c+d)/2),g=f,h=2*f,i=new Array(h),l=new Array(h),m=0;h>m;m++)i[m]=-1,l[m]=-1;i[g+1]=0,l[g+1]=0;for(var n=c-d,o=n%2!=0,p=0,q=0,r=0,s=0,t=0;f>t;t++){for(var u=-t+p;t-q>=u;u+=2){var v,w=g+u;v=u==-t||u!=t&&i[w-1]<i[w+1]?i[w+1]:i[w-1]+1;for(var x=v-u;c>v&&d>x&&a.charAt(v)==b.charAt(x);)v++,x++;if(i[w]=v,v>c)q+=2;else if(x>d)p+=2;else if(o){var y=g+n-u;if(y>=0&&h>y&&-1!=l[y]){var z=c-l[y];if(v>=z)return e(a,b,v,x)}}}for(var A=-t+r;t-s>=A;A+=2){var z,y=g+A;z=A==-t||A!=t&&l[y-1]<l[y+1]?l[y+1]:l[y-1]+1;for(var B=z-A;c>z&&d>B&&a.charAt(c-z-1)==b.charAt(d-B-1);)z++,B++;if(l[y]=z,z>c)s+=2;else if(B>d)r+=2;else if(!o){var w=g+n-A;if(w>=0&&h>w&&-1!=i[w]){var v=i[w],x=g+v-w;if(z=c-z,v>=z)return e(a,b,v,x)}}}}return[[j,a],[k,b]]}function e(b,c,d,e){var f=b.substring(0,d),g=c.substring(0,e),h=b.substring(d),i=c.substring(e),j=a(f,g),k=a(h,i);return j.concat(k)}function f(a,b){if(!a||!b||a.charAt(0)!=b.charAt(0))return 0;for(var c=0,d=Math.min(a.length,b.length),e=d,f=0;e>c;)a.substring(f,e)==b.substring(f,e)?(c=e,f=c):d=e,e=Math.floor((d-c)/2+c);return e}function g(a,b){if(!a||!b||a.charAt(a.length-1)!=b.charAt(b.length-1))return 0;for(var c=0,d=Math.min(a.length,b.length),e=d,f=0;e>c;)a.substring(a.length-e,a.length-f)==b.substring(b.length-e,b.length-f)?(c=e,f=c):d=e,e=Math.floor((d-c)/2+c);return e}function h(a,b){function c(a,b,c){for(var d,e,h,i,j=a.substring(c,c+Math.floor(a.length/4)),k=-1,l="";-1!=(k=b.indexOf(j,k+1));){var m=f(a.substring(c),b.substring(k)),n=g(a.substring(0,c),b.substring(0,k));l.length<n+m&&(l=b.substring(k-n,k)+b.substring(k,k+m),d=a.substring(0,c-n),e=a.substring(c+m),h=b.substring(0,k-n),i=b.substring(k+m))}return 2*l.length>=a.length?[d,e,h,i,l]:null}var d=a.length>b.length?a:b,e=a.length>b.length?b:a;if(d.length<4||2*e.length<d.length)return null;var h,i=c(d,e,Math.ceil(d.length/4)),j=c(d,e,Math.ceil(d.length/2));if(!i&&!j)return null;h=j?i&&i[4].length>j[4].length?i:j:i;var k,l,m,n;a.length>b.length?(k=h[0],l=h[1],m=h[2],n=h[3]):(m=h[0],n=h[1],k=h[2],l=h[3]);var o=h[4];return[k,l,m,n,o]}function i(a){a.push([l,""]);for(var b,c=0,d=0,e=0,h="",m="";c<a.length;)switch(a[c][0]){case k:e++,m+=a[c][1],c++;break;case j:d++,h+=a[c][1],c++;break;case l:d+e>1?(0!==d&&0!==e&&(b=f(m,h),0!==b&&(c-d-e>0&&a[c-d-e-1][0]==l?a[c-d-e-1][1]+=m.substring(0,b):(a.splice(0,0,[l,m.substring(0,b)]),c++),m=m.substring(b),h=h.substring(b)),b=g(m,h),0!==b&&(a[c][1]=m.substring(m.length-b)+a[c][1],m=m.substring(0,m.length-b),h=h.substring(0,h.length-b))),0===d?a.splice(c-e,d+e,[k,m]):0===e?a.splice(c-d,d+e,[j,h]):a.splice(c-d-e,d+e,[j,h],[k,m]),c=c-d-e+(d?1:0)+(e?1:0)+1):0!==c&&a[c-1][0]==l?(a[c-1][1]+=a[c][1],a.splice(c,1)):c++,e=0,d=0,h="",m=""}""===a[a.length-1][1]&&a.pop();var n=!1;for(c=1;c<a.length-1;)a[c-1][0]==l&&a[c+1][0]==l&&(a[c][1].substring(a[c][1].length-a[c-1][1].length)==a[c-1][1]?(a[c][1]=a[c-1][1]+a[c][1].substring(0,a[c][1].length-a[c-1][1].length),a[c+1][1]=a[c-1][1]+a[c+1][1],a.splice(c-1,1),n=!0):a[c][1].substring(0,a[c+1][1].length)==a[c+1][1]&&(a[c-1][1]+=a[c+1][1],a[c][1]=a[c][1].substring(a[c+1][1].length)+a[c+1][1],a.splice(c+1,1),n=!0)),c++;n&&i(a)}var j=-1,k=1,l=0,m=a;m.INSERT=k,m.DELETE=j,m.EQUAL=l,c.exports=m});return c}(),require._modules["/lib/fast-diff/test.js"]=function(){var a="/lib/fast-diff/test.js",b="/lib/fast-diff",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){var a=d("lodash"),b=d("googlediff"),c=d("seedrandom"),e=d("./diff.js");b=new b;var f=1e4,g="GATTACA",h=100,i=Math.floor(1e4*Math.random()),j=c(i);console.log("Running computing "+f+" diffs with seed "+i+"..."),console.log("Generating strings...");for(var k=[],l=0;f>=l;++l){for(var m=[],n=0;h>n;++n){var o=g.substr(Math.floor(j()*g.length),1);m.push(o)}k.push(m.join(""))}console.log("Running tests...");for(var l=0;f>l;++l){var p=e(k[l],k[l+1]),q=b.diff_main(k[l],k[l+1]);if(!a.isEqual(p,q))throw console.log("Expected",q),console.log("Result",p),new Error("Diff produced difference results.")}console.log("Success!")});return c}(),require._modules["/lib/handlebars/compiler.js"]=function(){var a="/lib/handlebars/compiler.js",b="/lib/handlebars",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},d()},parent:null,children:[]},d=(c.require=window.require._bind(c),c.exports,function(){c.exports=function(){var a=function(){"use strict";function a(a){this.string=a}var b;return a.prototype.toString=function(){return""+this.string},b=a}(),b=function(a){"use strict";function b(a){return h[a]||"&amp;"}function c(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])}function d(a){return a instanceof g?a.toString():a||0===a?(a=""+a,j.test(a)?a.replace(i,b):a):""}function e(a){return a||0===a?m(a)&&0===a.length?!0:!1:!0}var f={},g=a,h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/[&<>"'`]/g,j=/[&<>"'`]/;f.extend=c;var k=Object.prototype.toString;f.toString=k;var l=function(a){return"function"==typeof a};l(/x/)&&(l=function(a){return"function"==typeof a&&"[object Function]"===k.call(a)});var l;f.isFunction=l;var m=Array.isArray||function(a){return a&&"object"==typeof a?"[object Array]"===k.call(a):!1};return f.isArray=m,f.escapeExpression=d,f.isEmpty=e,f}(a),c=function(){"use strict";function a(a,b){var d;b&&b.firstLine&&(d=b.firstLine,a+=" - "+d+":"+b.firstColumn);for(var e=Error.prototype.constructor.call(this,a),f=0;f<c.length;f++)this[c[f]]=e[c[f]];d&&(this.lineNumber=d,this.column=b.firstColumn)}var b,c=["description","fileName","lineNumber","message","name","number","stack"];return a.prototype=new Error,b=a}(),d=function(a,b){"use strict";function c(a,b){this.helpers=a||{},this.partials=b||{},d(this)}function d(a){a.registerHelper("helperMissing",function(a){if(2===arguments.length)return void 0;throw new h("Missing helper: '"+a+"'")}),a.registerHelper("blockHelperMissing",function(b,c){var d=c.inverse||function(){},e=c.fn;return m(b)&&(b=b.call(this)),b===!0?e(this):b===!1||null==b?d(this):l(b)?b.length>0?a.helpers.each(b,c):d(this):e(b)}),a.registerHelper("each",function(a,b){var c,d=b.fn,e=b.inverse,f=0,g="";if(m(a)&&(a=a.call(this)),b.data&&(c=q(b.data)),a&&"object"==typeof a)if(l(a))for(var h=a.length;h>f;f++)c&&(c.index=f,c.first=0===f,c.last=f===a.length-1),g+=d(a[f],{data:c});else for(var i in a)a.hasOwnProperty(i)&&(c&&(c.key=i,c.index=f,c.first=0===f),g+=d(a[i],{data:c}),f++);return 0===f&&(g=e(this)),g}),a.registerHelper("if",function(a,b){return m(a)&&(a=a.call(this)),!b.hash.includeZero&&!a||g.isEmpty(a)?b.inverse(this):b.fn(this)}),a.registerHelper("unless",function(b,c){return a.helpers["if"].call(this,b,{fn:c.inverse,inverse:c.fn,hash:c.hash})}),a.registerHelper("with",function(a,b){return m(a)&&(a=a.call(this)),g.isEmpty(a)?void 0:b.fn(a)}),a.registerHelper("log",function(b,c){var d=c.data&&null!=c.data.level?parseInt(c.data.level,10):1;a.log(d,b)})}function e(a,b){p.log(a,b)}var f={},g=a,h=b,i="1.3.0";f.VERSION=i;var j=4;f.COMPILER_REVISION=j;var k={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};f.REVISION_CHANGES=k;var l=g.isArray,m=g.isFunction,n=g.toString,o="[object Object]";f.HandlebarsEnvironment=c,c.prototype={constructor:c,logger:p,log:e,registerHelper:function(a,b,c){if(n.call(a)===o){if(c||b)throw new h("Arg not supported with multiple helpers");g.extend(this.helpers,a)}else c&&(b.not=c),this.helpers[a]=b},registerPartial:function(a,b){n.call(a)===o?g.extend(this.partials,a):this.partials[a]=b}};var p={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(a,b){if(p.level<=a){var c=p.methodMap[a];"undefined"!=typeof console&&console[c]&&console[c].call(console,b)}}};f.logger=p,f.log=e;var q=function(a){var b={};return g.extend(b,a),b};return f.createFrame=q,f}(b,c),e=function(a,b,c){"use strict";function d(a){var b=a&&a[0]||1,c=m;if(b!==c){if(c>b){var d=n[c],e=n[b];throw new l("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+d+") or downgrade your runtime to an older version ("+e+").")}throw new l("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+a[1]+").")}}function e(a,b){if(!b)throw new l("No environment passed to template");var c=function(a,c,d,e,f,g){var h=b.VM.invokePartial.apply(this,arguments);if(null!=h)return h;if(b.compile){var i={helpers:e,partials:f,data:g};return f[c]=b.compile(a,{data:void 0!==g},b),f[c](d,i)}throw new l("The partial "+c+" could not be compiled when running in runtime-only mode")},d={escapeExpression:k.escapeExpression,invokePartial:c,programs:[],program:function(a,b,c){var d=this.programs[a];return c?d=g(a,b,c):d||(d=this.programs[a]=g(a,b)),d},merge:function(a,b){var c=a||b;return a&&b&&a!==b&&(c={},k.extend(c,b),k.extend(c,a)),c},programWithDepth:b.VM.programWithDepth,noop:b.VM.noop,compilerInfo:null};return function(c,e){e=e||{};var f,g,h=e.partial?e:b;e.partial||(f=e.helpers,g=e.partials);var i=a.call(d,h,c,f,g,e.data);return e.partial||b.VM.checkRevision(d.compilerInfo),i}}function f(a,b,c){var d=Array.prototype.slice.call(arguments,3),e=function(a,e){return e=e||{},b.apply(this,[a,e.data||c].concat(d))};return e.program=a,e.depth=d.length,e}function g(a,b,c){var d=function(a,d){return d=d||{},b(a,d.data||c)};return d.program=a,d.depth=0,d}function h(a,b,c,d,e,f){var g={partial:!0,helpers:d,partials:e,data:f};if(void 0===a)throw new l("The partial "+b+" could not be found");return a instanceof Function?a(c,g):void 0}function i(){return""}var j={},k=a,l=b,m=c.COMPILER_REVISION,n=c.REVISION_CHANGES;return j.checkRevision=d,j.template=e,j.programWithDepth=f,j.program=g,j.invokePartial=h,j.noop=i,j}(b,c,d),f=function(a,b,c,d,e){"use strict";var f,g=a,h=b,i=c,j=d,k=e,l=function(){var a=new g.HandlebarsEnvironment;return j.extend(a,g),a.SafeString=h,a.Exception=i,a.Utils=j,a.VM=k,a.template=function(b){return k.template(b,a)},a},m=l();return m.create=l,f=m}(d,a,c,b,e),g=function(a){"use strict";function b(a){a=a||{},this.firstLine=a.first_line,this.firstColumn=a.first_column,this.lastColumn=a.last_column,this.lastLine=a.last_line}var c,d=a,e={ProgramNode:function(a,c,d,f){var g,h;3===arguments.length?(f=d,d=null):2===arguments.length&&(f=c,c=null),b.call(this,f),this.type="program",this.statements=a,this.strip={},d?(h=d[0],h?(g={first_line:h.firstLine,last_line:h.lastLine,last_column:h.lastColumn,first_column:h.firstColumn},this.inverse=new e.ProgramNode(d,c,g)):this.inverse=new e.ProgramNode(d,c),this.strip.right=c.left):c&&(this.strip.left=c.right)},MustacheNode:function(a,c,d,f,g){if(b.call(this,g),this.type="mustache",this.strip=f,null!=d&&d.charAt){var h=d.charAt(3)||d.charAt(2);this.escaped="{"!==h&&"&"!==h}else this.escaped=!!d;this.sexpr=a instanceof e.SexprNode?a:new e.SexprNode(a,c),this.sexpr.isRoot=!0,this.id=this.sexpr.id,this.params=this.sexpr.params,this.hash=this.sexpr.hash,this.eligibleHelper=this.sexpr.eligibleHelper,this.isHelper=this.sexpr.isHelper},SexprNode:function(a,c,d){b.call(this,d),this.type="sexpr",this.hash=c;var e=this.id=a[0],f=this.params=a.slice(1),g=this.eligibleHelper=e.isSimple;this.isHelper=g&&(f.length||c)},PartialNode:function(a,c,d,e){b.call(this,e),this.type="partial",this.partialName=a,this.context=c,this.strip=d},BlockNode:function(a,c,e,f,g){if(b.call(this,g),a.sexpr.id.original!==f.path.original)throw new d(a.sexpr.id.original+" doesn't match "+f.path.original,this);this.type="block",this.mustache=a,this.program=c,this.inverse=e,this.strip={left:a.strip.left,right:f.strip.right},(c||e).strip.left=a.strip.right,(e||c).strip.right=f.strip.left,e&&!c&&(this.isInverse=!0)},ContentNode:function(a,c){b.call(this,c),this.type="content",this.string=a},HashNode:function(a,c){b.call(this,c),this.type="hash",this.pairs=a},IdNode:function(a,c){b.call(this,c),this.type="ID";for(var e="",f=[],g=0,h=0,i=a.length;i>h;h++){var j=a[h].part;if(e+=(a[h].separator||"")+j,".."===j||"."===j||"this"===j){if(f.length>0)throw new d("Invalid path: "+e,this);".."===j?g++:this.isScoped=!0}else f.push(j)}this.original=e,this.parts=f,this.string=f.join("."),this.depth=g,this.isSimple=1===a.length&&!this.isScoped&&0===g,this.stringModeValue=this.string},PartialNameNode:function(a,c){b.call(this,c),this.type="PARTIAL_NAME",this.name=a.original},DataNode:function(a,c){b.call(this,c),this.type="DATA",this.id=a},StringNode:function(a,c){b.call(this,c),this.type="STRING",this.original=this.string=this.stringModeValue=a},IntegerNode:function(a,c){b.call(this,c),this.type="INTEGER",this.original=this.integer=a,this.stringModeValue=Number(a)},BooleanNode:function(a,c){b.call(this,c),this.type="BOOLEAN",this.bool=a,this.stringModeValue="true"===a},CommentNode:function(a,c){b.call(this,c),this.type="comment",this.comment=a}};return c=e}(c),h=function(){"use strict";var a,b=function(){function a(a,b){return{left:"~"===a.charAt(2),right:"~"===b.charAt(0)||"~"===b.charAt(1)}}function b(){this.yy={}}var c={trace:function(){},yy:{},symbols_:{error:2,root:3,statements:4,EOF:5,program:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,sexpr:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,partial_option0:27,sexpr_repetition0:28,sexpr_option0:29,dataName:30,param:31,STRING:32,INTEGER:33,BOOLEAN:34,OPEN_SEXPR:35,CLOSE_SEXPR:36,hash:37,hash_repetition_plus0:38,hashSegment:39,ID:40,EQUALS:41,DATA:42,pathSegments:43,SEP:44,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",32:"STRING",33:"INTEGER",34:"BOOLEAN",35:"OPEN_SEXPR",36:"CLOSE_SEXPR",40:"ID",41:"EQUALS",42:"DATA",44:"SEP"},productions_:[0,[3,2],[3,1],[6,2],[6,3],[6,2],[6,1],[6,1],[6,0],[4,1],[4,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,4],[7,2],[17,3],[17,1],[31,1],[31,1],[31,1],[31,1],[31,1],[31,3],[37,1],[39,3],[26,1],[26,1],[26,1],[30,2],[21,1],[43,3],[43,1],[27,0],[27,1],[28,0],[28,2],[29,0],[29,1],[38,1],[38,2]],performAction:function(b,c,d,e,f,g){var h=g.length-1;switch(f){case 1:return new e.ProgramNode(g[h-1],this._$);case 2:return new e.ProgramNode([],this._$);case 3:this.$=new e.ProgramNode([],g[h-1],g[h],this._$);break;case 4:this.$=new e.ProgramNode(g[h-2],g[h-1],g[h],this._$);break;case 5:this.$=new e.ProgramNode(g[h-1],g[h],[],this._$);break;case 6:this.$=new e.ProgramNode(g[h],this._$);break;case 7:this.$=new e.ProgramNode([],this._$);break;case 8:this.$=new e.ProgramNode([],this._$);break;case 9:this.$=[g[h]];break;case 10:g[h-1].push(g[h]),this.$=g[h-1];break;case 11:this.$=new e.BlockNode(g[h-2],g[h-1].inverse,g[h-1],g[h],this._$);break;case 12:this.$=new e.BlockNode(g[h-2],g[h-1],g[h-1].inverse,g[h],this._$);break;case 13:this.$=g[h];break;case 14:this.$=g[h];break;case 15:this.$=new e.ContentNode(g[h],this._$);break;case 16:this.$=new e.CommentNode(g[h],this._$);break;case 17:this.$=new e.MustacheNode(g[h-1],null,g[h-2],a(g[h-2],g[h]),this._$);break;case 18:this.$=new e.MustacheNode(g[h-1],null,g[h-2],a(g[h-2],g[h]),this._$);break;case 19:this.$={path:g[h-1],strip:a(g[h-2],g[h])};break;case 20:this.$=new e.MustacheNode(g[h-1],null,g[h-2],a(g[h-2],g[h]),this._$);break;case 21:this.$=new e.MustacheNode(g[h-1],null,g[h-2],a(g[h-2],g[h]),this._$);break;case 22:this.$=new e.PartialNode(g[h-2],g[h-1],a(g[h-3],g[h]),this._$);break;case 23:this.$=a(g[h-1],g[h]);break;case 24:this.$=new e.SexprNode([g[h-2]].concat(g[h-1]),g[h],this._$);break;case 25:this.$=new e.SexprNode([g[h]],null,this._$);break;case 26:this.$=g[h];break;case 27:this.$=new e.StringNode(g[h],this._$);break;case 28:this.$=new e.IntegerNode(g[h],this._$);break;case 29:this.$=new e.BooleanNode(g[h],this._$);break;case 30:this.$=g[h];break;case 31:g[h-1].isHelper=!0,this.$=g[h-1];break;case 32:this.$=new e.HashNode(g[h],this._$);break;case 33:this.$=[g[h-2],g[h]];break;case 34:this.$=new e.PartialNameNode(g[h],this._$);break;case 35:this.$=new e.PartialNameNode(new e.StringNode(g[h],this._$),this._$);break;case 36:this.$=new e.PartialNameNode(new e.IntegerNode(g[h],this._$));break;case 37:this.$=new e.DataNode(g[h],this._$);break;case 38:this.$=new e.IdNode(g[h],this._$);break;case 39:g[h-2].push({part:g[h],separator:g[h-1]}),this.$=g[h-2];break;case 40:this.$=[{part:g[h]}];break;case 43:this.$=[];break;case 44:g[h-1].push(g[h]);break;case 47:this.$=[g[h]];break;case 48:g[h-1].push(g[h])}},table:[{3:1,4:2,5:[1,3],8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[3]},{5:[1,16],8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[2,2]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{4:20,6:18,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{4:20,6:22,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{17:23,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:29,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:30,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:31,21:24,30:25,40:[1,28],42:[1,27],43:26},{21:33,26:32,32:[1,34],33:[1,35],40:[1,28],43:26},{1:[2,1]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{10:36,20:[1,37]},{4:38,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,7],22:[1,13],23:[1,14],25:[1,15]},{7:39,8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,6],22:[1,13],23:[1,14],25:[1,15]},{17:23,18:[1,40],21:24,30:25,40:[1,28],42:[1,27],43:26},{10:41,20:[1,37]},{18:[1,42]},{18:[2,43],24:[2,43],28:43,32:[2,43],33:[2,43],34:[2,43],35:[2,43],36:[2,43],40:[2,43],42:[2,43]},{18:[2,25],24:[2,25],36:[2,25]},{18:[2,38],24:[2,38],32:[2,38],33:[2,38],34:[2,38],35:[2,38],36:[2,38],40:[2,38],42:[2,38],44:[1,44]},{21:45,40:[1,28],43:26},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],42:[2,40],44:[2,40]},{18:[1,46]},{18:[1,47]},{24:[1,48]},{18:[2,41],21:50,27:49,40:[1,28],43:26},{18:[2,34],40:[2,34]},{18:[2,35],40:[2,35]},{18:[2,36],40:[2,36]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{21:51,40:[1,28],43:26},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,3],22:[1,13],23:[1,14],25:[1,15]},{4:52,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,5],22:[1,13],23:[1,14],25:[1,15]},{14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]},{18:[2,45],21:56,24:[2,45],29:53,30:60,31:54,32:[1,57],33:[1,58],34:[1,59],35:[1,61],36:[2,45],37:55,38:62,39:63,40:[1,64],42:[1,27],43:26},{40:[1,65]},{18:[2,37],24:[2,37],32:[2,37],33:[2,37],34:[2,37],35:[2,37],36:[2,37],40:[2,37],42:[2,37]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,66]},{18:[2,42]},{18:[1,67]},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],25:[1,15]},{18:[2,24],24:[2,24],36:[2,24]},{18:[2,44],24:[2,44],32:[2,44],33:[2,44],34:[2,44],35:[2,44],36:[2,44],40:[2,44],42:[2,44]},{18:[2,46],24:[2,46],36:[2,46]},{18:[2,26],24:[2,26],32:[2,26],33:[2,26],34:[2,26],35:[2,26],36:[2,26],40:[2,26],42:[2,26]},{18:[2,27],24:[2,27],32:[2,27],33:[2,27],34:[2,27],35:[2,27],36:[2,27],40:[2,27],42:[2,27]},{18:[2,28],24:[2,28],32:[2,28],33:[2,28],34:[2,28],35:[2,28],36:[2,28],40:[2,28],42:[2,28]},{18:[2,29],24:[2,29],32:[2,29],33:[2,29],34:[2,29],35:[2,29],36:[2,29],40:[2,29],42:[2,29]},{18:[2,30],24:[2,30],32:[2,30],33:[2,30],34:[2,30],35:[2,30],36:[2,30],40:[2,30],42:[2,30]},{17:68,21:24,30:25,40:[1,28],42:[1,27],43:26},{18:[2,32],24:[2,32],36:[2,32],39:69,40:[1,70]},{18:[2,47],24:[2,47],36:[2,47],40:[2,47]},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],41:[1,71],42:[2,40],44:[2,40]},{18:[2,39],24:[2,39],32:[2,39],33:[2,39],34:[2,39],35:[2,39],36:[2,39],40:[2,39],42:[2,39],44:[2,39]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{36:[1,72]},{18:[2,48],24:[2,48],36:[2,48],40:[2,48]},{41:[1,71]},{21:56,30:60,31:73,32:[1,57],33:[1,58],34:[1,59],35:[1,61],40:[1,28],42:[1,27],43:26},{18:[2,31],24:[2,31],32:[2,31],33:[2,31],34:[2,31],35:[2,31],36:[2,31],40:[2,31],42:[2,31]},{18:[2,33],24:[2,33],36:[2,33],40:[2,33]}],defaultActions:{3:[2,2],16:[2,1],50:[2,42]},parseError:function(a){throw new Error(a)},parse:function(a){function b(){var a;return a=c.lexer.lex()||1,"number"!=typeof a&&(a=c.symbols_[a]||a),a}var c=this,d=[0],e=[null],f=[],g=this.table,h="",i=0,j=0,k=0;this.lexer.setInput(a),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var l=this.lexer.yylloc;f.push(l);var m=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var n,o,p,q,r,s,t,u,v,w={};;){if(p=d[d.length-1],this.defaultActions[p]?q=this.defaultActions[p]:((null===n||"undefined"==typeof n)&&(n=b()),q=g[p]&&g[p][n]),"undefined"==typeof q||!q.length||!q[0]){var x="";if(!k){v=[];for(s in g[p])this.terminals_[s]&&s>2&&v.push("'"+this.terminals_[s]+"'");x=this.lexer.showPosition?"Parse error on line "+(i+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+v.join(", ")+", got '"+(this.terminals_[n]||n)+"'":"Parse error on line "+(i+1)+": Unexpected "+(1==n?"end of input":"'"+(this.terminals_[n]||n)+"'"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[n]||n,line:this.lexer.yylineno,loc:l,expected:v})}}if(q[0]instanceof Array&&q.length>1)throw new Error("Parse Error: multiple actions possible at state: "+p+", token: "+n);switch(q[0]){case 1:d.push(n),e.push(this.lexer.yytext),f.push(this.lexer.yylloc),d.push(q[1]),n=null,o?(n=o,o=null):(j=this.lexer.yyleng,h=this.lexer.yytext,i=this.lexer.yylineno,l=this.lexer.yylloc,k>0&&k--);break;case 2:if(t=this.productions_[q[1]][1],w.$=e[e.length-t],w._$={first_line:f[f.length-(t||1)].first_line,last_line:f[f.length-1].last_line,first_column:f[f.length-(t||1)].first_column,last_column:f[f.length-1].last_column},m&&(w._$.range=[f[f.length-(t||1)].range[0],f[f.length-1].range[1]]),r=this.performAction.call(w,h,j,i,this.yy,q[1],e,f),"undefined"!=typeof r)return r;t&&(d=d.slice(0,-1*t*2),e=e.slice(0,-1*t),f=f.slice(0,-1*t)),d.push(this.productions_[q[1]][0]),e.push(w.$),f.push(w._$),u=g[d[d.length-2]][d[d.length-1]],d.push(u);break;case 3:return!0}}return!0}},d=function(){var a={EOF:1,parseError:function(a,b){if(!this.yy.parser)throw new Error(a);this.yy.parser.parseError(a,b)},setInput:function(a){return this._input=a,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var a=this._input[0];this.yytext+=a,this.yyleng++,this.offset++,this.match+=a,this.matched+=a;var b=a.match(/(?:\r\n?|\n).*/g);return b?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-b-1),this.offset-=b;var d=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),c.length-1&&(this.yylineno-=c.length-1);var e=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===d.length?this.yylloc.first_column:0)+d[d.length-c.length].length-c[0].length:this.yylloc.first_column-b},this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-b]),this},more:function(){return this._more=!0,this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(a.length>20?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;return a.length<20&&(a+=this._input.substr(0,20-a.length)),(a.substr(0,20)+(a.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=new Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c,d,e;this._more||(this.yytext="",this.match="");for(var f=this._currentRules(),g=0;g<f.length&&(c=this._input.match(this.rules[f[g]]),!c||b&&!(c[0].length>b[0].length)||(b=c,d=g,this.options.flex));g++);return b?(e=b[0].match(/(?:\r\n?|\n).*/g),e&&(this.yylineno+=e.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:e?e[e.length-1].length-e[e.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+b[0].length},this.yytext+=b[0],this.match+=b[0],this.matches=b,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(b[0].length),this.matched+=b[0],a=this.performAction.call(this,this.yy,this,f[d],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),a?a:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return"undefined"!=typeof a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)}};return a.options={},a.performAction=function(a,b,c,d){function e(a,c){return b.yytext=b.yytext.substr(a,b.yyleng-c)}switch(c){case 0:if("\\\\"===b.yytext.slice(-2)?(e(0,1),this.begin("mu")):"\\"===b.yytext.slice(-1)?(e(0,1),this.begin("emu")):this.begin("mu"),b.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return e(0,4),this.popState(),15;case 4:return 35;case 5:return 36;case 6:return 25;case 7:return 16;case 8:return 20;case 9:return 19;case 10:return 19;case 11:return 23;case 12:return 22;case 13:this.popState(),this.begin("com");break;case 14:return e(3,5),this.popState(),15;case 15:return 22;case 16:return 41;case 17:return 40;case 18:return 40;case 19:return 44;case 20:break;case 21:return this.popState(),24;case 22:return this.popState(),18;case 23:return b.yytext=e(1,2).replace(/\\"/g,'"'),32;case 24:return b.yytext=e(1,2).replace(/\\'/g,"'"),32;case 25:return 42;case 26:return 34;case 27:return 34;case 28:return 33;case 29:return 40;case 30:return b.yytext=e(1,2),40;case 31:return"INVALID";case 32:return 5}},a.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:-?[0-9]+(?=([~}\s)])))/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],a.conditions={mu:{rules:[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[3],inclusive:!1},INITIAL:{rules:[0,1,32],inclusive:!0}},a
}();return c.lexer=d,b.prototype=c,c.Parser=b,new b}();return a=b}(),i=function(a,b){"use strict";function c(a){return a.constructor===f.ProgramNode?a:(e.yy=f,e.parse(a))}var d={},e=a,f=b;return d.parser=e,d.parse=c,d}(h,g),j=function(a){"use strict";function b(){}function c(a,b,c){if(null==a||"string"!=typeof a&&a.constructor!==c.AST.ProgramNode)throw new f("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+a);b=b||{},"data"in b||(b.data=!0);var d=c.parse(a),e=(new c.Compiler).compile(d,b);return(new c.JavaScriptCompiler).compile(e,b)}function d(a,b,c){function d(){var d=c.parse(a),e=(new c.Compiler).compile(d,b),f=(new c.JavaScriptCompiler).compile(e,b,void 0,!0);return c.template(f)}if(null==a||"string"!=typeof a&&a.constructor!==c.AST.ProgramNode)throw new f("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+a);b=b||{},"data"in b||(b.data=!0);var e;return function(a,b){return e||(e=d()),e.call(this,a,b)}}var e={},f=a;return e.Compiler=b,b.prototype={compiler:b,disassemble:function(){for(var a,b,c,d=this.opcodes,e=[],f=0,g=d.length;g>f;f++)if(a=d[f],"DECLARE"===a.opcode)e.push("DECLARE "+a.name+"="+a.value);else{b=[];for(var h=0;h<a.args.length;h++)c=a.args[h],"string"==typeof c&&(c='"'+c.replace("\n","\\n")+'"'),b.push(c);e.push(a.opcode+" "+b.join(" "))}return e.join("\n")},equals:function(a){var b=this.opcodes.length;if(a.opcodes.length!==b)return!1;for(var c=0;b>c;c++){var d=this.opcodes[c],e=a.opcodes[c];if(d.opcode!==e.opcode||d.args.length!==e.args.length)return!1;for(var f=0;f<d.args.length;f++)if(d.args[f]!==e.args[f])return!1}if(b=this.children.length,a.children.length!==b)return!1;for(c=0;b>c;c++)if(!this.children[c].equals(a.children[c]))return!1;return!0},guid:0,compile:function(a,b){this.opcodes=[],this.children=[],this.depths={list:[]},this.options=b;var c=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0},c)for(var d in c)this.options.knownHelpers[d]=c[d];return this.accept(a)},accept:function(a){var b,c=a.strip||{};return c.left&&this.opcode("strip"),b=this[a.type](a),c.right&&this.opcode("strip"),b},program:function(a){for(var b=a.statements,c=0,d=b.length;d>c;c++)this.accept(b[c]);return this.isSimple=1===d,this.depths.list=this.depths.list.sort(function(a,b){return a-b}),this},compileProgram:function(a){var b,c=(new this.compiler).compile(a,this.options),d=this.guid++;this.usePartial=this.usePartial||c.usePartial,this.children[d]=c;for(var e=0,f=c.depths.list.length;f>e;e++)b=c.depths.list[e],2>b||this.addDepth(b-1);return d},block:function(a){var b=a.mustache,c=a.program,d=a.inverse;c&&(c=this.compileProgram(c)),d&&(d=this.compileProgram(d));var e=b.sexpr,f=this.classifySexpr(e);"helper"===f?this.helperSexpr(e,c,d):"simple"===f?(this.simpleSexpr(e),this.opcode("pushProgram",c),this.opcode("pushProgram",d),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousSexpr(e,c,d),this.opcode("pushProgram",c),this.opcode("pushProgram",d),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(a){var b,c,d=a.pairs;this.opcode("pushHash");for(var e=0,f=d.length;f>e;e++)b=d[e],c=b[1],this.options.stringParams?(c.depth&&this.addDepth(c.depth),this.opcode("getContext",c.depth||0),this.opcode("pushStringParam",c.stringModeValue,c.type),"sexpr"===c.type&&this.sexpr(c)):this.accept(c),this.opcode("assignToHash",b[0]);this.opcode("popHash")},partial:function(a){var b=a.partialName;this.usePartial=!0,a.context?this.ID(a.context):this.opcode("push","depth0"),this.opcode("invokePartial",b.name),this.opcode("append")},content:function(a){this.opcode("appendContent",a.string)},mustache:function(a){this.sexpr(a.sexpr),this.opcode(a.escaped&&!this.options.noEscape?"appendEscaped":"append")},ambiguousSexpr:function(a,b,c){var d=a.id,e=d.parts[0],f=null!=b||null!=c;this.opcode("getContext",d.depth),this.opcode("pushProgram",b),this.opcode("pushProgram",c),this.opcode("invokeAmbiguous",e,f)},simpleSexpr:function(a){var b=a.id;"DATA"===b.type?this.DATA(b):b.parts.length?this.ID(b):(this.addDepth(b.depth),this.opcode("getContext",b.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperSexpr:function(a,b,c){var d=this.setupFullMustacheParams(a,b,c),e=a.id.parts[0];if(this.options.knownHelpers[e])this.opcode("invokeKnownHelper",d.length,e);else{if(this.options.knownHelpersOnly)throw new f("You specified knownHelpersOnly, but used the unknown helper "+e,a);this.opcode("invokeHelper",d.length,e,a.isRoot)}},sexpr:function(a){var b=this.classifySexpr(a);"simple"===b?this.simpleSexpr(a):"helper"===b?this.helperSexpr(a):this.ambiguousSexpr(a)},ID:function(a){this.addDepth(a.depth),this.opcode("getContext",a.depth);var b=a.parts[0];b?this.opcode("lookupOnContext",a.parts[0]):this.opcode("pushContext");for(var c=1,d=a.parts.length;d>c;c++)this.opcode("lookup",a.parts[c])},DATA:function(a){if(this.options.data=!0,a.id.isScoped||a.id.depth)throw new f("Scoped data references are not supported: "+a.original,a);this.opcode("lookupData");for(var b=a.id.parts,c=0,d=b.length;d>c;c++)this.opcode("lookup",b[c])},STRING:function(a){this.opcode("pushString",a.string)},INTEGER:function(a){this.opcode("pushLiteral",a.integer)},BOOLEAN:function(a){this.opcode("pushLiteral",a.bool)},comment:function(){},opcode:function(a){this.opcodes.push({opcode:a,args:[].slice.call(arguments,1)})},declare:function(a,b){this.opcodes.push({opcode:"DECLARE",name:a,value:b})},addDepth:function(a){0!==a&&(this.depths[a]||(this.depths[a]=!0,this.depths.list.push(a)))},classifySexpr:function(a){var b=a.isHelper,c=a.eligibleHelper,d=this.options;if(c&&!b){var e=a.id.parts[0];d.knownHelpers[e]?b=!0:d.knownHelpersOnly&&(c=!1)}return b?"helper":c?"ambiguous":"simple"},pushParams:function(a){for(var b,c=a.length;c--;)b=a[c],this.options.stringParams?(b.depth&&this.addDepth(b.depth),this.opcode("getContext",b.depth||0),this.opcode("pushStringParam",b.stringModeValue,b.type),"sexpr"===b.type&&this.sexpr(b)):this[b.type](b)},setupFullMustacheParams:function(a,b,c){var d=a.params;return this.pushParams(d),this.opcode("pushProgram",b),this.opcode("pushProgram",c),a.hash?this.hash(a.hash):this.opcode("emptyHash"),d}},e.precompile=c,e.compile=d,e}(c),k=function(a,b){"use strict";function c(a){this.value=a}function d(){}var e,f=a.COMPILER_REVISION,g=a.REVISION_CHANGES,h=a.log,i=b;d.prototype={nameLookup:function(a,b){var c,e;return 0===a.indexOf("depth")&&(c=!0),e=/^[0-9]+$/.test(b)?a+"["+b+"]":d.isValidJavaScriptVariableName(b)?a+"."+b:a+"['"+b+"']",c?"("+a+" && "+e+")":e},compilerInfo:function(){var a=f,b=g[a];return"this.compilerInfo = ["+a+",'"+b+"'];\n"},appendToBuffer:function(a){return this.environment.isSimple?"return "+a+";":{appendToBuffer:!0,content:a,toString:function(){return"buffer += "+a+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(a,b,c,d){this.environment=a,this.options=b||{},h("debug",this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!c,this.context=c||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.compileChildren(a,b);var e,f=a.opcodes;this.i=0;for(var g=f.length;this.i<g;this.i++)e=f[this.i],"DECLARE"===e.opcode?this[e.name]=e.value:this[e.opcode].apply(this,e.args),e.opcode!==this.stripNext&&(this.stripNext=!1);if(this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new i("Compile completed with content left on stack");return this.createFunctionContext(d)},preamble:function(){var a=[];if(this.isChild)a.push("");else{var b=this.namespace,c="helpers = this.merge(helpers, "+b+".helpers);";this.environment.usePartial&&(c=c+" partials = this.merge(partials, "+b+".partials);"),this.options.data&&(c+=" data = data || {};"),a.push(c)}a.push(this.environment.isSimple?"":", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=a},createFunctionContext:function(a){var b=this.stackVars.concat(this.registers.list);if(b.length>0&&(this.source[1]=this.source[1]+", "+b.join(", ")),!this.isChild)for(var c in this.context.aliases)this.context.aliases.hasOwnProperty(c)&&(this.source[1]=this.source[1]+", "+c+"="+this.context.aliases[c]);this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.pushSource("return buffer;");for(var d=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"],e=0,f=this.environment.depths.list.length;f>e;e++)d.push("depth"+this.environment.depths.list[e]);var g=this.mergeSource();if(this.isChild||(g=this.compilerInfo()+g),a)return d.push(g),Function.apply(this,d);var i="function "+(this.name||"")+"("+d.join(",")+") {\n  "+g+"}";return h("debug",i+"\n\n"),i},mergeSource:function(){for(var a,b="",c=0,d=this.source.length;d>c;c++){var e=this.source[c];e.appendToBuffer?a=a?a+"\n    + "+e.content:e.content:(a&&(b+="buffer += "+a+";\n  ",a=void 0),b+=e+"\n  ")}return b},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var a=["depth0"];this.setupParams(0,a),this.replaceStack(function(b){return a.splice(1,0,b),"blockHelperMissing.call("+a.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var a=["depth0"];this.setupParams(0,a);var b=this.topStack();a.splice(1,0,b),this.pushSource("if (!"+this.lastHelper+") { "+b+" = blockHelperMissing.call("+a.join(", ")+"); }")},appendContent:function(a){this.pendingContent&&(a=this.pendingContent+a),this.stripNext&&(a=a.replace(/^\s+/,"")),this.pendingContent=a},strip:function(){this.pendingContent&&(this.pendingContent=this.pendingContent.replace(/\s+$/,"")),this.stripNext="strip"},append:function(){this.flushInline();var a=this.popStack();this.pushSource("if("+a+" || "+a+" === 0) { "+this.appendToBuffer(a)+" }"),this.environment.isSimple&&this.pushSource("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression",this.pushSource(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(a){this.lastContext!==a&&(this.lastContext=a)},lookupOnContext:function(a){this.push(this.nameLookup("depth"+this.lastContext,a,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"',this.replaceStack(function(a){return"typeof "+a+" === functionType ? "+a+".apply(depth0) : "+a})},lookup:function(a){this.replaceStack(function(b){return b+" == null || "+b+" === false ? "+b+" : "+this.nameLookup(b,a,"context")})},lookupData:function(){this.pushStackLiteral("data")},pushStringParam:function(a,b){this.pushStackLiteral("depth"+this.lastContext),this.pushString(b),"sexpr"!==b&&("string"==typeof a?this.pushString(a):this.pushStackLiteral(a))},emptyHash:function(){this.pushStackLiteral("{}"),this.options.stringParams&&(this.push("{}"),this.push("{}"))},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[]}},popHash:function(){var a=this.hash;this.hash=this.hashes.pop(),this.options.stringParams&&(this.push("{"+a.contexts.join(",")+"}"),this.push("{"+a.types.join(",")+"}")),this.push("{\n    "+a.values.join(",\n    ")+"\n  }")},pushString:function(a){this.pushStackLiteral(this.quotedString(a))},push:function(a){return this.inlineStack.push(a),a},pushLiteral:function(a){this.pushStackLiteral(a)},pushProgram:function(a){this.pushStackLiteral(null!=a?this.programExpression(a):null)},invokeHelper:function(a,b,c){this.context.aliases.helperMissing="helpers.helperMissing",this.useRegister("helper");var d=this.lastHelper=this.setupHelper(a,b,!0),e=this.nameLookup("depth"+this.lastContext,b,"context"),f="helper = "+d.name+" || "+e;d.paramsInit&&(f+=","+d.paramsInit),this.push("("+f+",helper ? helper.call("+d.callParams+") : helperMissing.call("+d.helperMissingParams+"))"),c||this.flushInline()},invokeKnownHelper:function(a,b){var c=this.setupHelper(a,b);this.push(c.name+".call("+c.callParams+")")},invokeAmbiguous:function(a,b){this.context.aliases.functionType='"function"',this.useRegister("helper"),this.emptyHash();var c=this.setupHelper(0,a,b),d=this.lastHelper=this.nameLookup("helpers",a,"helper"),e=this.nameLookup("depth"+this.lastContext,a,"context"),f=this.nextStack();c.paramsInit&&this.pushSource(c.paramsInit),this.pushSource("if (helper = "+d+") { "+f+" = helper.call("+c.callParams+"); }"),this.pushSource("else { helper = "+e+"; "+f+" = typeof helper === functionType ? helper.call("+c.callParams+") : helper; }")},invokePartial:function(a){var b=[this.nameLookup("partials",a,"partial"),"'"+a+"'",this.popStack(),"helpers","partials"];this.options.data&&b.push("data"),this.context.aliases.self="this",this.push("self.invokePartial("+b.join(", ")+")")},assignToHash:function(a){var b,c,d=this.popStack();this.options.stringParams&&(c=this.popStack(),b=this.popStack());var e=this.hash;b&&e.contexts.push("'"+a+"': "+b),c&&e.types.push("'"+a+"': "+c),e.values.push("'"+a+"': ("+d+")")},compiler:d,compileChildren:function(a,b){for(var c,d,e=a.children,f=0,g=e.length;g>f;f++){c=e[f],d=new this.compiler;var h=this.matchExistingProgram(c);null==h?(this.context.programs.push(""),h=this.context.programs.length,c.index=h,c.name="program"+h,this.context.programs[h]=d.compile(c,b,this.context),this.context.environments[h]=c):(c.index=h,c.name="program"+h)}},matchExistingProgram:function(a){for(var b=0,c=this.context.environments.length;c>b;b++){var d=this.context.environments[b];if(d&&d.equals(a))return b}},programExpression:function(a){if(this.context.aliases.self="this",null==a)return"self.noop";for(var b,c=this.environment.children[a],d=c.depths.list,e=[c.index,c.name,"data"],f=0,g=d.length;g>f;f++)b=d[f],e.push(1===b?"depth0":"depth"+(b-1));return(0===d.length?"self.program(":"self.programWithDepth(")+e.join(", ")+")"},register:function(a,b){this.useRegister(a),this.pushSource(a+" = "+b+";")},useRegister:function(a){this.registers[a]||(this.registers[a]=!0,this.registers.list.push(a))},pushStackLiteral:function(a){return this.push(new c(a))},pushSource:function(a){this.pendingContent&&(this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent))),this.pendingContent=void 0),a&&this.source.push(a)},pushStack:function(a){this.flushInline();var b=this.incrStack();return a&&this.pushSource(b+" = "+a+";"),this.compileStack.push(b),b},replaceStack:function(a){var b,d,e,f="",g=this.isInline();if(g){var h=this.popStack(!0);if(h instanceof c)b=h.value,e=!0;else{d=!this.stackSlot;var i=d?this.incrStack():this.topStackName();f="("+this.push(i)+" = "+h+"),",b=this.topStack()}}else b=this.topStack();var j=a.call(this,b);return g?(e||this.popStack(),d&&this.stackSlot--,this.push("("+f+j+")")):(/^stack/.test(b)||(b=this.nextStack()),this.pushSource(b+" = ("+f+j+");")),b},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var a=this.inlineStack;if(a.length){this.inlineStack=[];for(var b=0,d=a.length;d>b;b++){var e=a[b];e instanceof c?this.compileStack.push(e):this.pushStack(e)}}},isInline:function(){return this.inlineStack.length},popStack:function(a){var b=this.isInline(),d=(b?this.inlineStack:this.compileStack).pop();if(!a&&d instanceof c)return d.value;if(!b){if(!this.stackSlot)throw new i("Invalid stack pop");this.stackSlot--}return d},topStack:function(a){var b=this.isInline()?this.inlineStack:this.compileStack,d=b[b.length-1];return!a&&d instanceof c?d.value:d},quotedString:function(a){return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(a,b,c){var d=[],e=this.setupParams(a,d,c),f=this.nameLookup("helpers",b,"helper");return{params:d,paramsInit:e,name:f,callParams:["depth0"].concat(d).join(", "),helperMissingParams:c&&["depth0",this.quotedString(b)].concat(d).join(", ")}},setupOptions:function(a,b){var c,d,e,f=[],g=[],h=[];f.push("hash:"+this.popStack()),this.options.stringParams&&(f.push("hashTypes:"+this.popStack()),f.push("hashContexts:"+this.popStack())),d=this.popStack(),e=this.popStack(),(e||d)&&(e||(this.context.aliases.self="this",e="self.noop"),d||(this.context.aliases.self="this",d="self.noop"),f.push("inverse:"+d),f.push("fn:"+e));for(var i=0;a>i;i++)c=this.popStack(),b.push(c),this.options.stringParams&&(h.push(this.popStack()),g.push(this.popStack()));return this.options.stringParams&&(f.push("contexts:["+g.join(",")+"]"),f.push("types:["+h.join(",")+"]")),this.options.data&&f.push("data:data"),f},setupParams:function(a,b,c){var d="{"+this.setupOptions(a,b).join(",")+"}";return c?(this.useRegister("options"),b.push("options"),"options="+d):(b.push(d),"")}};for(var j="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),k=d.RESERVED_WORDS={},l=0,m=j.length;m>l;l++)k[j[l]]=!0;return d.isValidJavaScriptVariableName=function(a){return!d.RESERVED_WORDS[a]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(a)?!0:!1},e=d}(d,c),l=function(a,b,c,d,e){"use strict";var f,g=a,h=b,i=c.parser,j=c.parse,k=d.Compiler,l=d.compile,m=d.precompile,n=e,o=g.create,p=function(){var a=o();return a.compile=function(b,c){return l(b,c,a)},a.precompile=function(b,c){return m(b,c,a)},a.AST=h,a.Compiler=k,a.JavaScriptCompiler=n,a.Parser=i,a.parse=j,a};return g=p(),g.create=p,f=g}(f,g,i,j,k);return l}()});return c}(),require._modules["/lib/handlebars/index.js"]=function(){var a="/lib/handlebars/index.js",b="/lib/handlebars",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){c.exports=d("./runtime")});return c}(),require._modules["/lib/handlebars/runtime.js"]=function(){var a="/lib/handlebars/runtime.js",b="/lib/handlebars",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},d()},parent:null,children:[]},d=(c.require=window.require._bind(c),c.exports,function(){c.exports=function(){var a=function(){"use strict";function a(a){this.string=a}var b;return a.prototype.toString=function(){return""+this.string},b=a}(),b=function(a){"use strict";function b(a){return h[a]||"&amp;"}function c(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])}function d(a){return a instanceof g?a.toString():a||0===a?(a=""+a,j.test(a)?a.replace(i,b):a):""}function e(a){return a||0===a?m(a)&&0===a.length?!0:!1:!0}var f={},g=a,h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/[&<>"'`]/g,j=/[&<>"'`]/;f.extend=c;var k=Object.prototype.toString;f.toString=k;var l=function(a){return"function"==typeof a};l(/x/)&&(l=function(a){return"function"==typeof a&&"[object Function]"===k.call(a)});var l;f.isFunction=l;var m=Array.isArray||function(a){return a&&"object"==typeof a?"[object Array]"===k.call(a):!1};return f.isArray=m,f.escapeExpression=d,f.isEmpty=e,f}(a),c=function(){"use strict";function a(a,b){var d;b&&b.firstLine&&(d=b.firstLine,a+=" - "+d+":"+b.firstColumn);for(var e=Error.prototype.constructor.call(this,a),f=0;f<c.length;f++)this[c[f]]=e[c[f]];d&&(this.lineNumber=d,this.column=b.firstColumn)}var b,c=["description","fileName","lineNumber","message","name","number","stack"];return a.prototype=new Error,b=a}(),d=function(a,b){"use strict";function c(a,b){this.helpers=a||{},this.partials=b||{},d(this)}function d(a){a.registerHelper("helperMissing",function(a){if(2===arguments.length)return void 0;throw new h("Missing helper: '"+a+"'")}),a.registerHelper("blockHelperMissing",function(b,c){var d=c.inverse||function(){},e=c.fn;return m(b)&&(b=b.call(this)),b===!0?e(this):b===!1||null==b?d(this):l(b)?b.length>0?a.helpers.each(b,c):d(this):e(b)}),a.registerHelper("each",function(a,b){var c,d=b.fn,e=b.inverse,f=0,g="";if(m(a)&&(a=a.call(this)),b.data&&(c=q(b.data)),a&&"object"==typeof a)if(l(a))for(var h=a.length;h>f;f++)c&&(c.index=f,c.first=0===f,c.last=f===a.length-1),g+=d(a[f],{data:c});else for(var i in a)a.hasOwnProperty(i)&&(c&&(c.key=i,c.index=f,c.first=0===f),g+=d(a[i],{data:c}),f++);return 0===f&&(g=e(this)),g}),a.registerHelper("if",function(a,b){return m(a)&&(a=a.call(this)),!b.hash.includeZero&&!a||g.isEmpty(a)?b.inverse(this):b.fn(this)}),a.registerHelper("unless",function(b,c){return a.helpers["if"].call(this,b,{fn:c.inverse,inverse:c.fn,hash:c.hash})}),a.registerHelper("with",function(a,b){return m(a)&&(a=a.call(this)),g.isEmpty(a)?void 0:b.fn(a)}),a.registerHelper("log",function(b,c){var d=c.data&&null!=c.data.level?parseInt(c.data.level,10):1;a.log(d,b)})}function e(a,b){p.log(a,b)}var f={},g=a,h=b,i="1.3.0";f.VERSION=i;var j=4;f.COMPILER_REVISION=j;var k={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};f.REVISION_CHANGES=k;var l=g.isArray,m=g.isFunction,n=g.toString,o="[object Object]";f.HandlebarsEnvironment=c,c.prototype={constructor:c,logger:p,log:e,registerHelper:function(a,b,c){if(n.call(a)===o){if(c||b)throw new h("Arg not supported with multiple helpers");g.extend(this.helpers,a)}else c&&(b.not=c),this.helpers[a]=b},registerPartial:function(a,b){n.call(a)===o?g.extend(this.partials,a):this.partials[a]=b}};var p={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(a,b){if(p.level<=a){var c=p.methodMap[a];"undefined"!=typeof console&&console[c]&&console[c].call(console,b)}}};f.logger=p,f.log=e;var q=function(a){var b={};return g.extend(b,a),b};return f.createFrame=q,f}(b,c),e=function(a,b,c){"use strict";function d(a){var b=a&&a[0]||1,c=m;if(b!==c){if(c>b){var d=n[c],e=n[b];throw new l("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+d+") or downgrade your runtime to an older version ("+e+").")}throw new l("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+a[1]+").")}}function e(a,b){if(!b)throw new l("No environment passed to template");var c=function(a,c,d,e,f,g){var h=b.VM.invokePartial.apply(this,arguments);if(null!=h)return h;if(b.compile){var i={helpers:e,partials:f,data:g};return f[c]=b.compile(a,{data:void 0!==g},b),f[c](d,i)}throw new l("The partial "+c+" could not be compiled when running in runtime-only mode")},d={escapeExpression:k.escapeExpression,invokePartial:c,programs:[],program:function(a,b,c){var d=this.programs[a];return c?d=g(a,b,c):d||(d=this.programs[a]=g(a,b)),d},merge:function(a,b){var c=a||b;return a&&b&&a!==b&&(c={},k.extend(c,b),k.extend(c,a)),c},programWithDepth:b.VM.programWithDepth,noop:b.VM.noop,compilerInfo:null};return function(c,e){e=e||{};var f,g,h=e.partial?e:b;e.partial||(f=e.helpers,g=e.partials);var i=a.call(d,h,c,f,g,e.data);return e.partial||b.VM.checkRevision(d.compilerInfo),i}}function f(a,b,c){var d=Array.prototype.slice.call(arguments,3),e=function(a,e){return e=e||{},b.apply(this,[a,e.data||c].concat(d))};return e.program=a,e.depth=d.length,e}function g(a,b,c){var d=function(a,d){return d=d||{},b(a,d.data||c)};return d.program=a,d.depth=0,d}function h(a,b,c,d,e,f){var g={partial:!0,helpers:d,partials:e,data:f};if(void 0===a)throw new l("The partial "+b+" could not be found");return a instanceof Function?a(c,g):void 0}function i(){return""}var j={},k=a,l=b,m=c.COMPILER_REVISION,n=c.REVISION_CHANGES;return j.checkRevision=d,j.template=e,j.programWithDepth=f,j.program=g,j.invokePartial=h,j.noop=i,j}(b,c,d),f=function(a,b,c,d,e){"use strict";var f,g=a,h=b,i=c,j=d,k=e,l=function(){var a=new g.HandlebarsEnvironment;return j.extend(a,g),a.SafeString=h,a.Exception=i,a.Utils=j,a.VM=k,a.template=function(b){return k.template(b,a)},a},m=l();return m.create=l,f=m}(d,a,c,b,e);return f}()});return c}(),require._modules["/lib/history/adapter.jquery.js"]=function(){var a="/lib/history/adapter.jquery.js",b="/lib/history",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},d()},parent:null,children:[]},d=(c.require=window.require._bind(c),c.exports,function(){!function(a,b){"use strict";var c=a.History=a.History||{},d=a.jQuery;if("undefined"!=typeof c.Adapter)throw new Error("History.js Adapter has already been loaded...");c.Adapter={bind:function(a,b,c){d(a).bind(b,c)},trigger:function(a,b,c){d(a).trigger(b,c)},extractEventData:function(a,c,d){var e=c&&c.originalEvent&&c.originalEvent[a]||d&&d[a]||b;return e},onDomLoad:function(a){d(a)}},"undefined"!=typeof c.init&&c.init()}(window)});return c}(),require._modules["/lib/history/history.js"]=function(){var a="/lib/history/history.js",b="/lib/history",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},d()},parent:null,children:[]},d=(c.require=window.require._bind(c),c.exports,function(){!function(a,b){"use strict";var c=a.console||b,d=a.document,e=a.navigator,f=a.sessionStorage||!1,g=a.setTimeout,h=a.clearTimeout,i=a.setInterval,j=a.clearInterval,k=a.JSON,l=a.alert,m=a.History=a.History||{},n=a.history;if(k.stringify=k.stringify||k.encode,k.parse=k.parse||k.decode,"undefined"!=typeof m.init)throw new Error("History.js Core has already been loaded...");m.init=function(){return"undefined"==typeof m.Adapter?!1:("undefined"!=typeof m.initCore&&m.initCore(),"undefined"!=typeof m.initHtml4&&m.initHtml4(),!0)},m.initCore=function(){if("undefined"!=typeof m.initCore.initialized)return!1;if(m.initCore.initialized=!0,m.options=m.options||{},m.options.hashChangeInterval=m.options.hashChangeInterval||100,m.options.safariPollInterval=m.options.safariPollInterval||500,m.options.doubleCheckInterval=m.options.doubleCheckInterval||500,m.options.storeInterval=m.options.storeInterval||1e3,m.options.busyDelay=m.options.busyDelay||250,m.options.debug=m.options.debug||!1,m.options.initialTitle=m.options.initialTitle||d.title,m.intervalList=[],m.clearAllIntervals=function(){var a,b=m.intervalList;if("undefined"!=typeof b&&null!==b){for(a=0;a<b.length;a++)j(b[a]);m.intervalList=null}},m.debug=function(){m.options.debug&&m.log.apply(m,arguments)},m.log=function(){var a,b,e,f,g,h=!("undefined"==typeof c||"undefined"==typeof c.log||"undefined"==typeof c.log.apply),i=d.getElementById("log");for(h?(f=Array.prototype.slice.call(arguments),a=f.shift(),"undefined"!=typeof c.debug?c.debug.apply(c,[a,f]):c.log.apply(c,[a,f])):a="\n"+arguments[0]+"\n",b=1,e=arguments.length;e>b;++b){if(g=arguments[b],"object"==typeof g&&"undefined"!=typeof k)try{g=k.stringify(g)}catch(j){}a+="\n"+g+"\n"}return i?(i.value+=a+"\n-----\n",i.scrollTop=i.scrollHeight-i.clientHeight):h||l(a),!0},m.getInternetExplorerMajorVersion=function(){var a=m.getInternetExplorerMajorVersion.cached="undefined"!=typeof m.getInternetExplorerMajorVersion.cached?m.getInternetExplorerMajorVersion.cached:function(){for(var a=3,b=d.createElement("div"),c=b.getElementsByTagName("i");(b.innerHTML="<!--[if gt IE "+ ++a+"]><i></i><![endif]-->")&&c[0];);return a>4?a:!1}();return a},m.isInternetExplorer=function(){var a=m.isInternetExplorer.cached="undefined"!=typeof m.isInternetExplorer.cached?m.isInternetExplorer.cached:Boolean(m.getInternetExplorerMajorVersion());return a},m.emulated={pushState:!Boolean(a.history&&a.history.pushState&&a.history.replaceState&&!(/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(e.userAgent)||/AppleWebKit\/5([0-2]|3[0-2])/i.test(e.userAgent))),hashChange:Boolean(!("onhashchange"in a||"onhashchange"in d)||m.isInternetExplorer()&&m.getInternetExplorerMajorVersion()<8)},m.enabled=!m.emulated.pushState,m.bugs={setHash:Boolean(!m.emulated.pushState&&"Apple Computer, Inc."===e.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(e.userAgent)),safariPoll:Boolean(!m.emulated.pushState&&"Apple Computer, Inc."===e.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(e.userAgent)),ieDoubleCheck:Boolean(m.isInternetExplorer()&&m.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(m.isInternetExplorer()&&m.getInternetExplorerMajorVersion()<7)},m.isEmptyObject=function(a){for(var b in a)return!1;return!0},m.cloneObject=function(a){var b,c;return a?(b=k.stringify(a),c=k.parse(b)):c={},c},m.getRootUrl=function(){var a=d.location.protocol+"//"+(d.location.hostname||d.location.host);return d.location.port&&(a+=":"+d.location.port),a+="/"},m.getBaseHref=function(){var a=d.getElementsByTagName("base"),b=null,c="";return 1===a.length&&(b=a[0],c=b.href.replace(/[^\/]+$/,"")),c=c.replace(/\/+$/,""),c&&(c+="/"),c},m.getBaseUrl=function(){var a=m.getBaseHref()||m.getBasePageUrl()||m.getRootUrl();return a},m.getPageUrl=function(){var a,b=m.getState(!1,!1),c=(b||{}).url||d.location.href;return a=c.replace(/\/+$/,"").replace(/[^\/]+$/,function(a){return/\./.test(a)?a:a+"/"})},m.getBasePageUrl=function(){var a=d.location.href.replace(/[#\?].*/,"").replace(/[^\/]+$/,function(a){return/[^\/]$/.test(a)?"":a}).replace(/\/+$/,"")+"/";return a},m.getFullUrl=function(a,b){var c=a,d=a.substring(0,1);return b="undefined"==typeof b?!0:b,/[a-z]+\:\/\//.test(a)||(c="/"===d?m.getRootUrl()+a.replace(/^\/+/,""):"#"===d?m.getPageUrl().replace(/#.*/,"")+a:"?"===d?m.getPageUrl().replace(/[\?#].*/,"")+a:b?m.getBaseUrl()+a.replace(/^(\.\/)+/,""):m.getBasePageUrl()+a.replace(/^(\.\/)+/,"")),c.replace(/\#$/,"")},m.getShortUrl=function(a){var b=a,c=m.getBaseUrl(),d=m.getRootUrl();return m.emulated.pushState&&(b=b.replace(c,"")),b=b.replace(d,"/"),m.isTraditionalAnchor(b)&&(b="./"+b),b=b.replace(/^(\.\/)+/g,"./").replace(/\#$/,"")},m.store={},m.idToState=m.idToState||{},m.stateToId=m.stateToId||{},m.urlToId=m.urlToId||{},m.storedStates=m.storedStates||[],m.savedStates=m.savedStates||[],m.normalizeStore=function(){m.store.idToState=m.store.idToState||{},m.store.urlToId=m.store.urlToId||{},m.store.stateToId=m.store.stateToId||{}},m.getState=function(a,b){"undefined"==typeof a&&(a=!0),"undefined"==typeof b&&(b=!0);var c=m.getLastSavedState();return!c&&b&&(c=m.createStateObject()),a&&(c=m.cloneObject(c),c.url=c.cleanUrl||c.url),c},m.getIdByState=function(a){var b,c=m.extractId(a.url);if(!c)if(b=m.getStateString(a),"undefined"!=typeof m.stateToId[b])c=m.stateToId[b];else if("undefined"!=typeof m.store.stateToId[b])c=m.store.stateToId[b];else{for(;;)if(c=(new Date).getTime()+String(Math.random()).replace(/\D/g,""),"undefined"==typeof m.idToState[c]&&"undefined"==typeof m.store.idToState[c])break;m.stateToId[b]=c,m.idToState[c]=a}return c},m.normalizeState=function(a){var b,c;return a&&"object"==typeof a||(a={}),"undefined"!=typeof a.normalized?a:(a.data&&"object"==typeof a.data||(a.data={}),b={},b.normalized=!0,b.title=a.title||"",b.url=m.getFullUrl(m.unescapeString(a.url||d.location.href)),b.hash=m.getShortUrl(b.url),b.data=m.cloneObject(a.data),b.id=m.getIdByState(b),b.cleanUrl=b.url.replace(/\??\&_suid.*/,""),b.url=b.cleanUrl,c=!m.isEmptyObject(b.data),(b.title||c)&&(b.hash=m.getShortUrl(b.url).replace(/\??\&_suid.*/,""),/\?/.test(b.hash)||(b.hash+="?"),b.hash+="&_suid="+b.id),b.hashedUrl=m.getFullUrl(b.hash),(m.emulated.pushState||m.bugs.safariPoll)&&m.hasUrlDuplicate(b)&&(b.url=b.hashedUrl),b)},m.createStateObject=function(a,b,c){var d={data:a,title:b,url:c};
return d=m.normalizeState(d)},m.getStateById=function(a){a=String(a);var c=m.idToState[a]||m.store.idToState[a]||b;return c},m.getStateString=function(a){var b,c,d;return b=m.normalizeState(a),c={data:b.data,title:a.title,url:a.url},d=k.stringify(c)},m.getStateId=function(a){var b,c;return b=m.normalizeState(a),c=b.id},m.getHashByState=function(a){var b,c;return b=m.normalizeState(a),c=b.hash},m.extractId=function(a){var b,c,d;return c=/(.*)\&_suid=([0-9]+)$/.exec(a),d=c?c[1]||a:a,b=c?String(c[2]||""):"",b||!1},m.isTraditionalAnchor=function(a){var b=!/[\/\?\.]/.test(a);return b},m.extractState=function(a,b){var c,d,e=null;return b=b||!1,c=m.extractId(a),c&&(e=m.getStateById(c)),e||(d=m.getFullUrl(a),c=m.getIdByUrl(d)||!1,c&&(e=m.getStateById(c)),e||!b||m.isTraditionalAnchor(a)||(e=m.createStateObject(null,null,d))),e},m.getIdByUrl=function(a){var c=m.urlToId[a]||m.store.urlToId[a]||b;return c},m.getLastSavedState=function(){return m.savedStates[m.savedStates.length-1]||b},m.getLastStoredState=function(){return m.storedStates[m.storedStates.length-1]||b},m.hasUrlDuplicate=function(a){var b,c=!1;return b=m.extractState(a.url),c=b&&b.id!==a.id},m.storeState=function(a){return m.urlToId[a.url]=a.id,m.storedStates.push(m.cloneObject(a)),a},m.isLastSavedState=function(a){var b,c,d,e=!1;return m.savedStates.length&&(b=a.id,c=m.getLastSavedState(),d=c.id,e=b===d),e},m.saveState=function(a){return m.isLastSavedState(a)?!1:(m.savedStates.push(m.cloneObject(a)),!0)},m.getStateByIndex=function(a){var b=null;return b="undefined"==typeof a?m.savedStates[m.savedStates.length-1]:0>a?m.savedStates[m.savedStates.length+a]:m.savedStates[a]},m.getHash=function(){var a=m.unescapeHash(d.location.hash);return a},m.unescapeString=function(b){for(var c,d=b;;){if(c=a.unescape(d),c===d)break;d=c}return d},m.unescapeHash=function(a){var b=m.normalizeHash(a);return b=m.unescapeString(b)},m.normalizeHash=function(a){var b=a.replace(/[^#]*#/,"").replace(/#.*/,"");return b},m.setHash=function(a,b){var c,e,f;return b!==!1&&m.busy()?(m.pushQueue({scope:m,callback:m.setHash,args:arguments,queue:b}),!1):(c=m.escapeHash(a),m.busy(!0),e=m.extractState(a,!0),e&&!m.emulated.pushState?m.pushState(e.data,e.title,e.url,!1):d.location.hash!==c&&(m.bugs.setHash?(f=m.getPageUrl(),m.pushState(null,null,f+"#"+c,!1)):d.location.hash=c),m)},m.escapeHash=function(b){var c=m.normalizeHash(b);return c=a.escape(c),m.bugs.hashEscape||(c=c.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),c},m.getHashByUrl=function(a){var b=String(a).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return b=m.unescapeHash(b)},m.setTitle=function(a){var b,c=a.title;c||(b=m.getStateByIndex(0),b&&b.url===a.url&&(c=b.title||m.options.initialTitle));try{d.getElementsByTagName("title")[0].innerHTML=c.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(e){}return d.title=c,m},m.queues=[],m.busy=function(a){if("undefined"!=typeof a?m.busy.flag=a:"undefined"==typeof m.busy.flag&&(m.busy.flag=!1),!m.busy.flag){h(m.busy.timeout);var b=function(){var a,c,d;if(!m.busy.flag)for(a=m.queues.length-1;a>=0;--a)c=m.queues[a],0!==c.length&&(d=c.shift(),m.fireQueueItem(d),m.busy.timeout=g(b,m.options.busyDelay))};m.busy.timeout=g(b,m.options.busyDelay)}return m.busy.flag},m.busy.flag=!1,m.fireQueueItem=function(a){return a.callback.apply(a.scope||m,a.args||[])},m.pushQueue=function(a){return m.queues[a.queue||0]=m.queues[a.queue||0]||[],m.queues[a.queue||0].push(a),m},m.queue=function(a,b){return"function"==typeof a&&(a={callback:a}),"undefined"!=typeof b&&(a.queue=b),m.busy()?m.pushQueue(a):m.fireQueueItem(a),m},m.clearQueue=function(){return m.busy.flag=!1,m.queues=[],m},m.stateChanged=!1,m.doubleChecker=!1,m.doubleCheckComplete=function(){return m.stateChanged=!0,m.doubleCheckClear(),m},m.doubleCheckClear=function(){return m.doubleChecker&&(h(m.doubleChecker),m.doubleChecker=!1),m},m.doubleCheck=function(a){return m.stateChanged=!1,m.doubleCheckClear(),m.bugs.ieDoubleCheck&&(m.doubleChecker=g(function(){return m.doubleCheckClear(),m.stateChanged||a(),!0},m.options.doubleCheckInterval)),m},m.safariStatePoll=function(){var b,c=m.extractState(d.location.href);if(!m.isLastSavedState(c))return b=c,b||(b=m.createStateObject()),m.Adapter.trigger(a,"popstate"),m},m.back=function(a){return a!==!1&&m.busy()?(m.pushQueue({scope:m,callback:m.back,args:arguments,queue:a}),!1):(m.busy(!0),m.doubleCheck(function(){m.back(!1)}),n.go(-1),!0)},m.forward=function(a){return a!==!1&&m.busy()?(m.pushQueue({scope:m,callback:m.forward,args:arguments,queue:a}),!1):(m.busy(!0),m.doubleCheck(function(){m.forward(!1)}),n.go(1),!0)},m.go=function(a,b){var c;if(a>0)for(c=1;a>=c;++c)m.forward(b);else{if(!(0>a))throw new Error("History.go: History.go requires a positive or negative integer passed.");for(c=-1;c>=a;--c)m.back(b)}return m},m.emulated.pushState){var o=function(){};m.pushState=m.pushState||o,m.replaceState=m.replaceState||o}else m.onPopState=function(b,c){var e,f,g=!1,h=!1;return m.doubleCheckComplete(),(e=m.getHash())?(f=m.extractState(e||d.location.href,!0),f?m.replaceState(f.data,f.title,f.url,!1):(m.Adapter.trigger(a,"anchorchange"),m.busy(!1)),m.expectedStateId=!1,!1):(g=m.Adapter.extractEventData("state",b,c)||!1,h=g?m.getStateById(g):m.expectedStateId?m.getStateById(m.expectedStateId):m.extractState(d.location.href),h||(h=m.createStateObject(null,null,d.location.href)),m.expectedStateId=!1,m.isLastSavedState(h)?(m.busy(!1),!1):(m.storeState(h),m.saveState(h),m.setTitle(h),m.Adapter.trigger(a,"statechange"),m.busy(!1),!0))},m.Adapter.bind(a,"popstate",m.onPopState),m.pushState=function(b,c,d,e){if(m.getHashByUrl(d)&&m.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(e!==!1&&m.busy())return m.pushQueue({scope:m,callback:m.pushState,args:arguments,queue:e}),!1;m.busy(!0);var f=m.createStateObject(b,c,d);return m.isLastSavedState(f)?m.busy(!1):(m.storeState(f),m.expectedStateId=f.id,n.pushState(f.id,f.title,f.url),m.Adapter.trigger(a,"popstate")),!0},m.replaceState=function(b,c,d,e){if(m.getHashByUrl(d)&&m.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(e!==!1&&m.busy())return m.pushQueue({scope:m,callback:m.replaceState,args:arguments,queue:e}),!1;m.busy(!0);var f=m.createStateObject(b,c,d);return m.isLastSavedState(f)?m.busy(!1):(m.storeState(f),m.expectedStateId=f.id,n.replaceState(f.id,f.title,f.url),m.Adapter.trigger(a,"popstate")),!0};if(f){try{m.store=k.parse(f.getItem("History.store"))||{}}catch(p){m.store={}}m.normalizeStore()}else m.store={},m.normalizeStore();m.Adapter.bind(a,"beforeunload",m.clearAllIntervals),m.Adapter.bind(a,"unload",m.clearAllIntervals),m.saveState(m.storeState(m.extractState(d.location.href,!0))),f&&(m.onUnload=function(){var a,b;try{a=k.parse(f.getItem("History.store"))||{}}catch(c){a={}}a.idToState=a.idToState||{},a.urlToId=a.urlToId||{},a.stateToId=a.stateToId||{};for(b in m.idToState)m.idToState.hasOwnProperty(b)&&(a.idToState[b]=m.idToState[b]);for(b in m.urlToId)m.urlToId.hasOwnProperty(b)&&(a.urlToId[b]=m.urlToId[b]);for(b in m.stateToId)m.stateToId.hasOwnProperty(b)&&(a.stateToId[b]=m.stateToId[b]);m.store=a,m.normalizeStore(),f.setItem("History.store",k.stringify(a))},m.intervalList.push(i(m.onUnload,m.options.storeInterval)),m.Adapter.bind(a,"beforeunload",m.onUnload),m.Adapter.bind(a,"unload",m.onUnload)),m.emulated.pushState||(m.bugs.safariPoll&&m.intervalList.push(i(m.safariStatePoll,m.options.safariPollInterval)),("Apple Computer, Inc."===e.vendor||"Mozilla"===(e.appCodeName||""))&&(m.Adapter.bind(a,"hashchange",function(){m.Adapter.trigger(a,"popstate")}),m.getHash()&&m.Adapter.onDomLoad(function(){m.Adapter.trigger(a,"hashchange")})))},m.init()}(window)});return c}(),require._modules["/lib/history/html4.js"]=function(){var a="/lib/history/html4.js",b="/lib/history",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},d()},parent:null,children:[]},d=(c.require=window.require._bind(c),c.exports,function(){!function(a){"use strict";var b=a.document,c=a.setTimeout||c,d=a.clearTimeout||d,e=a.setInterval||e,f=a.History=a.History||{};if("undefined"!=typeof f.initHtml4)throw new Error("History.js HTML4 Support has already been loaded...");f.initHtml4=function(){return"undefined"!=typeof f.initHtml4.initialized?!1:(f.initHtml4.initialized=!0,f.enabled=!0,f.savedHashes=[],f.isLastHash=function(a){var b,c=f.getHashByIndex();return b=a===c},f.saveHash=function(a){return f.isLastHash(a)?!1:(f.savedHashes.push(a),!0)},f.getHashByIndex=function(a){var b=null;return b="undefined"==typeof a?f.savedHashes[f.savedHashes.length-1]:0>a?f.savedHashes[f.savedHashes.length+a]:f.savedHashes[a]},f.discardedHashes={},f.discardedStates={},f.discardState=function(a,b,c){var d,e=f.getHashByState(a);return d={discardedState:a,backState:c,forwardState:b},f.discardedStates[e]=d,!0},f.discardHash=function(a,b,c){var d={discardedHash:a,backState:c,forwardState:b};return f.discardedHashes[a]=d,!0},f.discardedState=function(a){var b,c=f.getHashByState(a);return b=f.discardedStates[c]||!1},f.discardedHash=function(a){var b=f.discardedHashes[a]||!1;return b},f.recycleState=function(a){var b=f.getHashByState(a);return f.discardedState(a)&&delete f.discardedStates[b],!0},f.emulated.hashChange&&(f.hashChangeInit=function(){f.checkerFunction=null;var c,d,g,h,i="";return f.isInternetExplorer()?(c="historyjs-iframe",d=b.createElement("iframe"),d.setAttribute("id",c),d.style.display="none",b.body.appendChild(d),d.contentWindow.document.open(),d.contentWindow.document.close(),g="",h=!1,f.checkerFunction=function(){if(h)return!1;h=!0;var b=f.getHash()||"",c=f.unescapeHash(d.contentWindow.document.location.hash)||"";return b!==i?(i=b,c!==b&&(g=c=b,d.contentWindow.document.open(),d.contentWindow.document.close(),d.contentWindow.document.location.hash=f.escapeHash(b)),f.Adapter.trigger(a,"hashchange")):c!==g&&(g=c,f.setHash(c,!1)),h=!1,!0}):f.checkerFunction=function(){var b=f.getHash();return b!==i&&(i=b,f.Adapter.trigger(a,"hashchange")),!0},f.intervalList.push(e(f.checkerFunction,f.options.hashChangeInterval)),!0},f.Adapter.onDomLoad(f.hashChangeInit)),f.emulated.pushState&&(f.onHashChange=function(c){var d,e=c&&c.newURL||b.location.href,g=f.getHashByUrl(e),h=null,i=null;return f.isLastHash(g)?(f.busy(!1),!1):(f.doubleCheckComplete(),f.saveHash(g),g&&f.isTraditionalAnchor(g)?(f.Adapter.trigger(a,"anchorchange"),f.busy(!1),!1):(h=f.extractState(f.getFullUrl(g||b.location.href,!1),!0),f.isLastSavedState(h)?(f.busy(!1),!1):(i=f.getHashByState(h),(d=f.discardedState(h))?(f.getHashByIndex(-2)===f.getHashByState(d.forwardState)?f.back(!1):f.forward(!1),!1):(f.pushState(h.data,h.title,h.url,!1),!0))))},f.Adapter.bind(a,"hashchange",f.onHashChange),f.pushState=function(c,d,e,g){if(f.getHashByUrl(e))throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(g!==!1&&f.busy())return f.pushQueue({scope:f,callback:f.pushState,args:arguments,queue:g}),!1;f.busy(!0);var h=f.createStateObject(c,d,e),i=f.getHashByState(h),j=f.getState(!1),k=f.getHashByState(j),l=f.getHash();return f.storeState(h),f.expectedStateId=h.id,f.recycleState(h),f.setTitle(h),i===k?(f.busy(!1),!1):i!==l&&i!==f.getShortUrl(b.location.href)?(f.setHash(i,!1),!1):(f.saveState(h),f.Adapter.trigger(a,"statechange"),f.busy(!1),!0)},f.replaceState=function(a,b,c,d){if(f.getHashByUrl(c))throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(d!==!1&&f.busy())return f.pushQueue({scope:f,callback:f.replaceState,args:arguments,queue:d}),!1;f.busy(!0);var e=f.createStateObject(a,b,c),g=f.getState(!1),h=f.getStateByIndex(-2);return f.discardState(g,e,h),f.pushState(e.data,e.title,e.url,!1),!0}),void(f.emulated.pushState&&f.getHash()&&!f.emulated.hashChange&&f.Adapter.onDomLoad(function(){f.Adapter.trigger(a,"hashchange")})))},"undefined"!=typeof f.init&&f.init()}(window)});return c}(),require._modules["/lib/history/index.js"]=function(){var a="/lib/history/index.js",b="/lib/history",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){window.jQuery=d("jquery"),d("./history"),d("./adapter.jquery"),d("./html4");try{window.jQuery=void 0,delete window.jQuery}catch(a){}c.exports=History});return c}(),require._modules["/lib/jquery.js"]=function(){var a="/lib/jquery.js",b="/lib",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},d()},parent:null,children:[]},d=(c.require=window.require._bind(c),c.exports,function(){!function(a,b){function d(a){var b=a.length,c=lb.type(a);return lb.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||"function"!==c&&(0===b||"number"==typeof b&&b>0&&b-1 in a)}function e(a){var b=Ab[a]={};return lb.each(a.match(nb)||[],function(a,c){b[c]=!0}),b}function f(a,c,d,e){if(lb.acceptData(a)){var f,g,h=lb.expando,i=a.nodeType,j=i?lb.cache:a,k=i?a[h]:a[h]&&h;if(k&&j[k]&&(e||j[k].data)||d!==b||"string"!=typeof c)return k||(k=i?a[h]=cb.pop()||lb.guid++:h),j[k]||(j[k]=i?{}:{toJSON:lb.noop}),("object"==typeof c||"function"==typeof c)&&(e?j[k]=lb.extend(j[k],c):j[k].data=lb.extend(j[k].data,c)),g=j[k],e||(g.data||(g.data={}),g=g.data),d!==b&&(g[lb.camelCase(c)]=d),"string"==typeof c?(f=g[c],null==f&&(f=g[lb.camelCase(c)])):f=g,f}}function g(a,b,c){if(lb.acceptData(a)){var d,e,f=a.nodeType,g=f?lb.cache:a,h=f?a[lb.expando]:lb.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){lb.isArray(b)?b=b.concat(lb.map(b,lb.camelCase)):b in d?b=[b]:(b=lb.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;for(;e--;)delete d[b[e]];if(c?!i(d):!lb.isEmptyObject(d))return}(c||(delete g[h].data,i(g[h])))&&(f?lb.cleanData([a],!0):lb.support.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}function h(a,c,d){if(d===b&&1===a.nodeType){var e="data-"+c.replace(Cb,"-$1").toLowerCase();if(d=a.getAttribute(e),"string"==typeof d){try{d="true"===d?!0:"false"===d?!1:"null"===d?null:+d+""===d?+d:Bb.test(d)?lb.parseJSON(d):d}catch(f){}lb.data(a,c,d)}else d=b}return d}function i(a){var b;for(b in a)if(("data"!==b||!lb.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function j(){return!0}function k(){return!1}function l(){try{return Z.activeElement}catch(a){}}function m(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function n(a,b,c){if(lb.isFunction(b))return lb.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return lb.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(Rb.test(b))return lb.filter(b,a,c);b=lb.filter(b,a)}return lb.grep(a,function(a){return lb.inArray(a,b)>=0!==c})}function o(a){var b=Vb.split("|"),c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function p(a,b){return lb.nodeName(a,"table")&&lb.nodeName(1===b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function q(a){return a.type=(null!==lb.find.attr(a,"type"))+"/"+a.type,a}function r(a){var b=fc.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function s(a,b){for(var c,d=0;null!=(c=a[d]);d++)lb._data(c,"globalEval",!b||lb._data(b[d],"globalEval"))}function t(a,b){if(1===b.nodeType&&lb.hasData(a)){var c,d,e,f=lb._data(a),g=lb._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)lb.event.add(b,c,h[c][d])}g.data&&(g.data=lb.extend({},g.data))}}function u(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!lb.support.noCloneEvent&&b[lb.expando]){e=lb._data(b);for(d in e.events)lb.removeEvent(b,d,e.handle);b.removeAttribute(lb.expando)}"script"===c&&b.text!==a.text?(q(b).text=a.text,r(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),lb.support.html5Clone&&a.innerHTML&&!lb.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&cc.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}}function v(a,c){var d,e,f=0,g=typeof a.getElementsByTagName!==X?a.getElementsByTagName(c||"*"):typeof a.querySelectorAll!==X?a.querySelectorAll(c||"*"):b;if(!g)for(g=[],d=a.childNodes||a;null!=(e=d[f]);f++)!c||lb.nodeName(e,c)?g.push(e):lb.merge(g,v(e,c));return c===b||c&&lb.nodeName(a,c)?lb.merge([a],g):g}function w(a){cc.test(a.type)&&(a.defaultChecked=a.checked)}function x(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=zc.length;e--;)if(b=zc[e]+c,b in a)return b;return d}function y(a,b){return a=b||a,"none"===lb.css(a,"display")||!lb.contains(a.ownerDocument,a)}function z(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=lb._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&y(d)&&(f[g]=lb._data(d,"olddisplay",D(d.nodeName)))):f[g]||(e=y(d),(c&&"none"!==c||!e)&&lb._data(d,"olddisplay",e?c:lb.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function A(a,b,c){var d=sc.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function B(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=lb.css(a,c+yc[f],!0,e)),d?("content"===c&&(g-=lb.css(a,"padding"+yc[f],!0,e)),"margin"!==c&&(g-=lb.css(a,"border"+yc[f]+"Width",!0,e))):(g+=lb.css(a,"padding"+yc[f],!0,e),"padding"!==c&&(g+=lb.css(a,"border"+yc[f]+"Width",!0,e)));return g}function C(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=lc(a),g=lb.support.boxSizing&&"border-box"===lb.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=mc(a,b,f),(0>e||null==e)&&(e=a.style[b]),tc.test(e))return e;d=g&&(lb.support.boxSizingReliable||e===a.style[b]),e=parseFloat(e)||0}return e+B(a,b,c||(g?"border":"content"),d,f)+"px"}function D(a){var b=Z,c=vc[a];return c||(c=E(a,b),"none"!==c&&c||(kc=(kc||lb("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(b.documentElement),b=(kc[0].contentWindow||kc[0].contentDocument).document,b.write("<!doctype html><html><body>"),b.close(),c=E(a,b),kc.detach()),vc[a]=c),c}function E(a,b){var c=lb(b.createElement(a)).appendTo(b.body),d=lb.css(c[0],"display");return c.remove(),d}function F(a,b,c,d){var e;if(lb.isArray(b))lb.each(b,function(b,e){c||Bc.test(a)?d(a,e):F(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==lb.type(b))d(a,b);else for(e in b)F(a+"["+e+"]",b[e],c,d)}function G(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(nb)||[];if(lb.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function H(a,b,c,d){function e(h){var i;return f[h]=!0,lb.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===Sc;return e(b.dataTypes[0])||!f["*"]&&e("*")}function I(a,c){var d,e,f=lb.ajaxSettings.flatOptions||{};for(e in c)c[e]!==b&&((f[e]?a:d||(d={}))[e]=c[e]);return d&&lb.extend(!0,a,d),a}function J(a,c,d){for(var e,f,g,h,i=a.contents,j=a.dataTypes;"*"===j[0];)j.shift(),f===b&&(f=a.mimeType||c.getResponseHeader("Content-Type"));if(f)for(h in i)if(i[h]&&i[h].test(f)){j.unshift(h);break}if(j[0]in d)g=j[0];else{for(h in d){if(!j[0]||a.converters[h+" "+j[0]]){g=h;break}e||(e=h)}g=g||e}return g?(g!==j[0]&&j.unshift(g),d[g]):void 0}function K(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function L(){try{return new a.XMLHttpRequest}catch(b){}}function M(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function N(){return setTimeout(function(){_c=b}),_c=lb.now()}function O(a,b,c){for(var d,e=(fd[b]||[]).concat(fd["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function P(a,b,c){var d,e,f=0,g=ed.length,h=lb.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=_c||N(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:lb.extend({},b),opts:lb.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:_c||N(),duration:c.duration,tweens:[],createTween:function(b,c){var d=lb.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(Q(k,j.opts.specialEasing);g>f;f++)if(d=ed[f].call(j,a,k,j.opts))return d;return lb.map(k,O,j),lb.isFunction(j.opts.start)&&j.opts.start.call(a,j),lb.fx.timer(lb.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function Q(a,b){var c,d,e,f,g;for(c in a)if(d=lb.camelCase(c),e=b[d],f=a[c],lb.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=lb.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function R(a,b,c){var d,e,f,g,h,i,j=this,k={},l=a.style,m=a.nodeType&&y(a),n=lb._data(a,"fxshow");c.queue||(h=lb._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,j.always(function(){j.always(function(){h.unqueued--,lb.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[l.overflow,l.overflowX,l.overflowY],"inline"===lb.css(a,"display")&&"none"===lb.css(a,"float")&&(lb.support.inlineBlockNeedsLayout&&"inline"!==D(a.nodeName)?l.zoom=1:l.display="inline-block")),c.overflow&&(l.overflow="hidden",lb.support.shrinkWrapBlocks||j.always(function(){l.overflow=c.overflow[0],l.overflowX=c.overflow[1],l.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],bd.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(m?"hide":"show"))continue;k[d]=n&&n[d]||lb.style(a,d)}if(!lb.isEmptyObject(k)){n?"hidden"in n&&(m=n.hidden):n=lb._data(a,"fxshow",{}),f&&(n.hidden=!m),m?lb(a).show():j.done(function(){lb(a).hide()}),j.done(function(){var b;lb._removeData(a,"fxshow");for(b in k)lb.style(a,b,k[b])});for(d in k)g=O(m?n[d]:0,d,j),d in n||(n[d]=g.start,m&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function S(a,b,c,d,e){return new S.prototype.init(a,b,c,d,e)}function T(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=yc[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function U(a){return lb.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var V,W,X=typeof b,Y=a.location,Z=a.document,$=Z.documentElement,_=a.jQuery,ab=a.$,bb={},cb=[],db="1.10.2",eb=cb.concat,fb=cb.push,gb=cb.slice,hb=cb.indexOf,ib=bb.toString,jb=bb.hasOwnProperty,kb=db.trim,lb=function(a,b){return new lb.fn.init(a,b,W)},mb=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,nb=/\S+/g,ob=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,pb=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,qb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,rb=/^[\],:{}\s]*$/,sb=/(?:^|:|,)(?:\s*\[)+/g,tb=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,ub=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,vb=/^-ms-/,wb=/-([\da-z])/gi,xb=function(a,b){return b.toUpperCase()},yb=function(a){(Z.addEventListener||"load"===a.type||"complete"===Z.readyState)&&(zb(),lb.ready())},zb=function(){Z.addEventListener?(Z.removeEventListener("DOMContentLoaded",yb,!1),a.removeEventListener("load",yb,!1)):(Z.detachEvent("onreadystatechange",yb),a.detachEvent("onload",yb))};lb.fn=lb.prototype={jquery:db,constructor:lb,init:function(a,c,d){var e,f;if(!a)return this;if("string"==typeof a){if(e="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:pb.exec(a),!e||!e[1]&&c)return!c||c.jquery?(c||d).find(a):this.constructor(c).find(a);if(e[1]){if(c=c instanceof lb?c[0]:c,lb.merge(this,lb.parseHTML(e[1],c&&c.nodeType?c.ownerDocument||c:Z,!0)),qb.test(e[1])&&lb.isPlainObject(c))for(e in c)lb.isFunction(this[e])?this[e](c[e]):this.attr(e,c[e]);return this}if(f=Z.getElementById(e[2]),f&&f.parentNode){if(f.id!==e[2])return d.find(a);this.length=1,this[0]=f}return this.context=Z,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):lb.isFunction(a)?d.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),lb.makeArray(a,this))},selector:"",length:0,toArray:function(){return gb.call(this)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a){var b=lb.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return lb.each(this,a,b)},ready:function(a){return lb.ready.promise().done(a),this},slice:function(){return this.pushStack(gb.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},map:function(a){return this.pushStack(lb.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:fb,sort:[].sort,splice:[].splice},lb.fn.init.prototype=lb.fn,lb.extend=lb.fn.extend=function(){var a,c,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!1;for("boolean"==typeof h&&(k=h,h=arguments[1]||{},i=2),"object"==typeof h||lb.isFunction(h)||(h={}),j===i&&(h=this,--i);j>i;i++)if(null!=(f=arguments[i]))for(e in f)a=h[e],d=f[e],h!==d&&(k&&d&&(lb.isPlainObject(d)||(c=lb.isArray(d)))?(c?(c=!1,g=a&&lb.isArray(a)?a:[]):g=a&&lb.isPlainObject(a)?a:{},h[e]=lb.extend(k,g,d)):d!==b&&(h[e]=d));return h},lb.extend({expando:"jQuery"+(db+Math.random()).replace(/\D/g,""),noConflict:function(b){return a.$===lb&&(a.$=ab),b&&a.jQuery===lb&&(a.jQuery=_),lb},isReady:!1,readyWait:1,holdReady:function(a){a?lb.readyWait++:lb.ready(!0)},ready:function(a){if(a===!0?!--lb.readyWait:!lb.isReady){if(!Z.body)return setTimeout(lb.ready);lb.isReady=!0,a!==!0&&--lb.readyWait>0||(V.resolveWith(Z,[lb]),lb.fn.trigger&&lb(Z).trigger("ready").off("ready"))}},isFunction:function(a){return"function"===lb.type(a)},isArray:Array.isArray||function(a){return"array"===lb.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?String(a):"object"==typeof a||"function"==typeof a?bb[ib.call(a)]||"object":typeof a},isPlainObject:function(a){var c;if(!a||"object"!==lb.type(a)||a.nodeType||lb.isWindow(a))return!1;try{if(a.constructor&&!jb.call(a,"constructor")&&!jb.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(d){return!1}if(lb.support.ownLast)for(c in a)return jb.call(a,c);for(c in a);return c===b||jb.call(a,c)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},error:function(a){throw new Error(a)},parseHTML:function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||Z;var d=qb.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=lb.buildFragment([a],b,e),e&&lb(e).remove(),lb.merge([],d.childNodes))},parseJSON:function(b){return a.JSON&&a.JSON.parse?a.JSON.parse(b):null===b?b:"string"==typeof b&&(b=lb.trim(b),b&&rb.test(b.replace(tb,"@").replace(ub,"]").replace(sb,"")))?new Function("return "+b)():void lb.error("Invalid JSON: "+b)},parseXML:function(c){var d,e;if(!c||"string"!=typeof c)return null;try{a.DOMParser?(e=new DOMParser,d=e.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(f){d=b}return d&&d.documentElement&&!d.getElementsByTagName("parsererror").length||lb.error("Invalid XML: "+c),d},noop:function(){},globalEval:function(b){b&&lb.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(vb,"ms-").replace(wb,xb)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var e,f=0,g=a.length,h=d(a);if(c){if(h)for(;g>f&&(e=b.apply(a[f],c),e!==!1);f++);else for(f in a)if(e=b.apply(a[f],c),e===!1)break}else if(h)for(;g>f&&(e=b.call(a[f],f,a[f]),e!==!1);f++);else for(f in a)if(e=b.call(a[f],f,a[f]),e===!1)break;return a},trim:kb&&!kb.call("﻿ ")?function(a){return null==a?"":kb.call(a)}:function(a){return null==a?"":(a+"").replace(ob,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(d(Object(a))?lb.merge(c,"string"==typeof a?[a]:a):fb.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(hb)return hb.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=c.length,e=a.length,f=0;if("number"==typeof d)for(;d>f;f++)a[e++]=c[f];else for(;c[f]!==b;)a[e++]=c[f++];return a.length=e,a},grep:function(a,b,c){var d,e=[],f=0,g=a.length;for(c=!!c;g>f;f++)d=!!b(a[f],f),c!==d&&e.push(a[f]);return e},map:function(a,b,c){var e,f=0,g=a.length,h=d(a),i=[];if(h)for(;g>f;f++)e=b(a[f],f,c),null!=e&&(i[i.length]=e);else for(f in a)e=b(a[f],f,c),null!=e&&(i[i.length]=e);return eb.apply([],i)},guid:1,proxy:function(a,c){var d,e,f;return"string"==typeof c&&(f=a[c],c=a,a=f),lb.isFunction(a)?(d=gb.call(arguments,2),e=function(){return a.apply(c||this,d.concat(gb.call(arguments)))},e.guid=a.guid=a.guid||lb.guid++,e):b},access:function(a,c,d,e,f,g,h){var i=0,j=a.length,k=null==d;if("object"===lb.type(d)){f=!0;for(i in d)lb.access(a,c,i,d[i],!0,g,h)}else if(e!==b&&(f=!0,lb.isFunction(e)||(h=!0),k&&(h?(c.call(a,e),c=null):(k=c,c=function(a,b,c){return k.call(lb(a),c)})),c))for(;j>i;i++)c(a[i],d,h?e:e.call(a[i],i,c(a[i],d)));return f?a:k?c.call(a):j?c(a[0],d):g},now:function(){return(new Date).getTime()},swap:function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e}}),lb.ready.promise=function(b){if(!V)if(V=lb.Deferred(),"complete"===Z.readyState)setTimeout(lb.ready);else if(Z.addEventListener)Z.addEventListener("DOMContentLoaded",yb,!1),a.addEventListener("load",yb,!1);else{Z.attachEvent("onreadystatechange",yb),a.attachEvent("onload",yb);var c=!1;try{c=null==a.frameElement&&Z.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!lb.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}zb(),lb.ready()}}()}return V.promise(b)},lb.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){bb["[object "+b+"]"]=b.toLowerCase()}),W=lb(Z),function(a,b){function c(a,b,c,d){var e,f,g,h,i,j,k,l,o,p;if((b?b.ownerDocument||b:O)!==G&&F(b),b=b||G,c=c||[],!a||"string"!=typeof a)return c;if(1!==(h=b.nodeType)&&9!==h)return[];if(I&&!d){if(e=tb.exec(a))if(g=e[1]){if(9===h){if(f=b.getElementById(g),!f||!f.parentNode)return c;if(f.id===g)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(g))&&M(b,f)&&f.id===g)return c.push(f),c}else{if(e[2])return ab.apply(c,b.getElementsByTagName(a)),c;if((g=e[3])&&x.getElementsByClassName&&b.getElementsByClassName)return ab.apply(c,b.getElementsByClassName(g)),c}if(x.qsa&&(!J||!J.test(a))){if(l=k=N,o=b,p=9===h&&a,1===h&&"object"!==b.nodeName.toLowerCase()){for(j=m(a),(k=b.getAttribute("id"))?l=k.replace(wb,"\\$&"):b.setAttribute("id",l),l="[id='"+l+"'] ",i=j.length;i--;)j[i]=l+n(j[i]);
o=nb.test(a)&&b.parentNode||b,p=j.join(",")}if(p)try{return ab.apply(c,o.querySelectorAll(p)),c}catch(q){}finally{k||b.removeAttribute("id")}}}return v(a.replace(jb,"$1"),b,c,d)}function d(){function a(c,d){return b.push(c+=" ")>z.cacheLength&&delete a[b.shift()],a[c]=d}var b=[];return a}function e(a){return a[N]=!0,a}function f(a){var b=G.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function g(a,b){for(var c=a.split("|"),d=a.length;d--;)z.attrHandle[c[d]]=b}function h(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||X)-(~a.sourceIndex||X);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function i(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function j(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function k(a){return e(function(b){return b=+b,e(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function l(){}function m(a,b){var d,e,f,g,h,i,j,k=S[a+" "];if(k)return b?0:k.slice(0);for(h=a,i=[],j=z.preFilter;h;){(!d||(e=kb.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=mb.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(jb," ")}),h=h.slice(d.length));for(g in z.filter)!(e=rb[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return b?h.length:h?c.error(a):S(a,i).slice(0)}function n(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function o(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=Q++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=P+" "+f;if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e)if(j=b[N]||(b[N]={}),(i=j[d])&&i[0]===k){if((h=i[1])===!0||h===y)return h===!0}else if(i=j[d]=[k],i[1]=a(b,c,g)||y,i[1]===!0)return!0}}function p(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function q(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function r(a,b,c,d,f,g){return d&&!d[N]&&(d=r(d)),f&&!f[N]&&(f=r(f,g)),e(function(e,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=e||u(b||"*",h.nodeType?[h]:h,[]),r=!a||!e&&b?p:q(p,m,a,h,i),s=c?f||(e?a:o||d)?[]:g:r;if(c&&c(r,s,h,i),d)for(j=q(s,n),d(j,[],h,i),k=j.length;k--;)(l=j[k])&&(s[n[k]]=!(r[n[k]]=l));if(e){if(f||a){if(f){for(j=[],k=s.length;k--;)(l=s[k])&&j.push(r[k]=l);f(null,s=[],j,i)}for(k=s.length;k--;)(l=s[k])&&(j=f?cb.call(e,l):m[k])>-1&&(e[j]=!(g[j]=l))}}else s=q(s===g?s.splice(o,s.length):s),f?f(null,g,s,i):ab.apply(g,s)})}function s(a){for(var b,c,d,e=a.length,f=z.relative[a[0].type],g=f||z.relative[" "],h=f?1:0,i=o(function(a){return a===b},g,!0),j=o(function(a){return cb.call(b,a)>-1},g,!0),k=[function(a,c,d){return!f&&(d||c!==D)||((b=c).nodeType?i(a,c,d):j(a,c,d))}];e>h;h++)if(c=z.relative[a[h].type])k=[o(p(k),c)];else{if(c=z.filter[a[h].type].apply(null,a[h].matches),c[N]){for(d=++h;e>d&&!z.relative[a[d].type];d++);return r(h>1&&p(k),h>1&&n(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(jb,"$1"),c,d>h&&s(a.slice(h,d)),e>d&&s(a=a.slice(d)),e>d&&n(a))}k.push(c)}return p(k)}function t(a,b){var d=0,f=b.length>0,g=a.length>0,h=function(e,h,i,j,k){var l,m,n,o=[],p=0,r="0",s=e&&[],t=null!=k,u=D,v=e||g&&z.find.TAG("*",k&&h.parentNode||h),w=P+=null==u?1:Math.random()||.1;for(t&&(D=h!==G&&h,y=d);null!=(l=v[r]);r++){if(g&&l){for(m=0;n=a[m++];)if(n(l,h,i)){j.push(l);break}t&&(P=w,y=++d)}f&&((l=!n&&l)&&p--,e&&s.push(l))}if(p+=r,f&&r!==p){for(m=0;n=b[m++];)n(s,o,h,i);if(e){if(p>0)for(;r--;)s[r]||o[r]||(o[r]=$.call(j));o=q(o)}ab.apply(j,o),t&&!e&&o.length>0&&p+b.length>1&&c.uniqueSort(j)}return t&&(P=w,D=u),s};return f?e(h):h}function u(a,b,d){for(var e=0,f=b.length;f>e;e++)c(a,b[e],d);return d}function v(a,b,c,d){var e,f,g,h,i,j=m(a);if(!d&&1===j.length){if(f=j[0]=j[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&x.getById&&9===b.nodeType&&I&&z.relative[f[1].type]){if(b=(z.find.ID(g.matches[0].replace(xb,yb),b)||[])[0],!b)return c;a=a.slice(f.shift().value.length)}for(e=rb.needsContext.test(a)?0:f.length;e--&&(g=f[e],!z.relative[h=g.type]);)if((i=z.find[h])&&(d=i(g.matches[0].replace(xb,yb),nb.test(f[0].type)&&b.parentNode||b))){if(f.splice(e,1),a=d.length&&n(f),!a)return ab.apply(c,d),c;break}}return C(a,j)(d,b,!I,c,nb.test(a)),c}var w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N="sizzle"+-new Date,O=a.document,P=0,Q=0,R=d(),S=d(),T=d(),U=!1,V=function(a,b){return a===b?(U=!0,0):0},W=typeof b,X=1<<31,Y={}.hasOwnProperty,Z=[],$=Z.pop,_=Z.push,ab=Z.push,bb=Z.slice,cb=Z.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},db="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",eb="[\\x20\\t\\r\\n\\f]",fb="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",gb=fb.replace("w","w#"),hb="\\["+eb+"*("+fb+")"+eb+"*(?:([*^$|!~]?=)"+eb+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+gb+")|)|)"+eb+"*\\]",ib=":("+fb+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+hb.replace(3,8)+")*)|.*)\\)|)",jb=new RegExp("^"+eb+"+|((?:^|[^\\\\])(?:\\\\.)*)"+eb+"+$","g"),kb=new RegExp("^"+eb+"*,"+eb+"*"),mb=new RegExp("^"+eb+"*([>+~]|"+eb+")"+eb+"*"),nb=new RegExp(eb+"*[+~]"),ob=new RegExp("="+eb+"*([^\\]'\"]*)"+eb+"*\\]","g"),pb=new RegExp(ib),qb=new RegExp("^"+gb+"$"),rb={ID:new RegExp("^#("+fb+")"),CLASS:new RegExp("^\\.("+fb+")"),TAG:new RegExp("^("+fb.replace("w","w*")+")"),ATTR:new RegExp("^"+hb),PSEUDO:new RegExp("^"+ib),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+eb+"*(even|odd|(([+-]|)(\\d*)n|)"+eb+"*(?:([+-]|)"+eb+"*(\\d+)|))"+eb+"*\\)|)","i"),bool:new RegExp("^(?:"+db+")$","i"),needsContext:new RegExp("^"+eb+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+eb+"*((?:-\\d)?\\d*)"+eb+"*\\)|)(?=[^-]|$)","i")},sb=/^[^{]+\{\s*\[native \w/,tb=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ub=/^(?:input|select|textarea|button)$/i,vb=/^h\d$/i,wb=/'|\\/g,xb=new RegExp("\\\\([\\da-f]{1,6}"+eb+"?|("+eb+")|.)","ig"),yb=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{ab.apply(Z=bb.call(O.childNodes),O.childNodes),Z[O.childNodes.length].nodeType}catch(zb){ab={apply:Z.length?function(a,b){_.apply(a,bb.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}B=c.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},x=c.support={},F=c.setDocument=function(a){var b=a?a.ownerDocument||a:O,c=b.defaultView;return b!==G&&9===b.nodeType&&b.documentElement?(G=b,H=b.documentElement,I=!B(b),c&&c.attachEvent&&c!==c.top&&c.attachEvent("onbeforeunload",function(){F()}),x.attributes=f(function(a){return a.className="i",!a.getAttribute("className")}),x.getElementsByTagName=f(function(a){return a.appendChild(b.createComment("")),!a.getElementsByTagName("*").length}),x.getElementsByClassName=f(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),x.getById=f(function(a){return H.appendChild(a).id=N,!b.getElementsByName||!b.getElementsByName(N).length}),x.getById?(z.find.ID=function(a,b){if(typeof b.getElementById!==W&&I){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},z.filter.ID=function(a){var b=a.replace(xb,yb);return function(a){return a.getAttribute("id")===b}}):(delete z.find.ID,z.filter.ID=function(a){var b=a.replace(xb,yb);return function(a){var c=typeof a.getAttributeNode!==W&&a.getAttributeNode("id");return c&&c.value===b}}),z.find.TAG=x.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==W?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},z.find.CLASS=x.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==W&&I?b.getElementsByClassName(a):void 0},K=[],J=[],(x.qsa=sb.test(b.querySelectorAll))&&(f(function(a){a.innerHTML="<select><option selected=''></option></select>",a.querySelectorAll("[selected]").length||J.push("\\["+eb+"*(?:value|"+db+")"),a.querySelectorAll(":checked").length||J.push(":checked")}),f(function(a){var c=b.createElement("input");c.setAttribute("type","hidden"),a.appendChild(c).setAttribute("t",""),a.querySelectorAll("[t^='']").length&&J.push("[*^$]="+eb+"*(?:''|\"\")"),a.querySelectorAll(":enabled").length||J.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),J.push(",.*:")})),(x.matchesSelector=sb.test(L=H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&f(function(a){x.disconnectedMatch=L.call(a,"div"),L.call(a,"[s!='']:x"),K.push("!=",ib)}),J=J.length&&new RegExp(J.join("|")),K=K.length&&new RegExp(K.join("|")),M=sb.test(H.contains)||H.compareDocumentPosition?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},V=H.compareDocumentPosition?function(a,c){if(a===c)return U=!0,0;var d=c.compareDocumentPosition&&a.compareDocumentPosition&&a.compareDocumentPosition(c);return d?1&d||!x.sortDetached&&c.compareDocumentPosition(a)===d?a===b||M(O,a)?-1:c===b||M(O,c)?1:E?cb.call(E,a)-cb.call(E,c):0:4&d?-1:1:a.compareDocumentPosition?-1:1}:function(a,c){var d,e=0,f=a.parentNode,g=c.parentNode,i=[a],j=[c];if(a===c)return U=!0,0;if(!f||!g)return a===b?-1:c===b?1:f?-1:g?1:E?cb.call(E,a)-cb.call(E,c):0;if(f===g)return h(a,c);for(d=a;d=d.parentNode;)i.unshift(d);for(d=c;d=d.parentNode;)j.unshift(d);for(;i[e]===j[e];)e++;return e?h(i[e],j[e]):i[e]===O?-1:j[e]===O?1:0},b):G},c.matches=function(a,b){return c(a,null,null,b)},c.matchesSelector=function(a,b){if((a.ownerDocument||a)!==G&&F(a),b=b.replace(ob,"='$1']"),!(!x.matchesSelector||!I||K&&K.test(b)||J&&J.test(b)))try{var d=L.call(a,b);if(d||x.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return c(b,G,null,[a]).length>0},c.contains=function(a,b){return(a.ownerDocument||a)!==G&&F(a),M(a,b)},c.attr=function(a,c){(a.ownerDocument||a)!==G&&F(a);var d=z.attrHandle[c.toLowerCase()],e=d&&Y.call(z.attrHandle,c.toLowerCase())?d(a,c,!I):b;return e===b?x.attributes||!I?a.getAttribute(c):(e=a.getAttributeNode(c))&&e.specified?e.value:null:e},c.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},c.uniqueSort=function(a){var b,c=[],d=0,e=0;if(U=!x.detectDuplicates,E=!x.sortStable&&a.slice(0),a.sort(V),U){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return a},A=c.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=A(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d];d++)c+=A(b);return c},z=c.selectors={cacheLength:50,createPseudo:e,match:rb,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(xb,yb),a[3]=(a[4]||a[5]||"").replace(xb,yb),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||c.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&c.error(a[0]),a},PSEUDO:function(a){var c,d=!a[5]&&a[2];return rb.CHILD.test(a[0])?null:(a[3]&&a[4]!==b?a[2]=a[4]:d&&pb.test(d)&&(c=m(d,!0))&&(c=d.indexOf(")",d.length-c)-d.length)&&(a[0]=a[0].slice(0,c),a[2]=d.slice(0,c)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(xb,yb).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=R[a+" "];return b||(b=new RegExp("(^|"+eb+")"+a+"("+eb+"|$)"))&&R(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==W&&a.getAttribute("class")||"")})},ATTR:function(a,b,d){return function(e){var f=c.attr(e,a);return null==f?"!="===b:b?(f+="","="===b?f===d:"!="===b?f!==d:"^="===b?d&&0===f.indexOf(d):"*="===b?d&&f.indexOf(d)>-1:"$="===b?d&&f.slice(-d.length)===d:"~="===b?(" "+f+" ").indexOf(d)>-1:"|="===b?f===d||f.slice(0,d.length+1)===d+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[N]||(q[N]={}),j=k[a]||[],n=j[0]===P&&j[1],m=j[0]===P&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[P,n,m];break}}else if(s&&(j=(b[N]||(b[N]={}))[a])&&j[0]===P)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[N]||(l[N]={}))[a]=[P,m]),l!==b)););return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var d,f=z.pseudos[a]||z.setFilters[a.toLowerCase()]||c.error("unsupported pseudo: "+a);return f[N]?f(b):f.length>1?(d=[a,a,"",b],z.setFilters.hasOwnProperty(a.toLowerCase())?e(function(a,c){for(var d,e=f(a,b),g=e.length;g--;)d=cb.call(a,e[g]),a[d]=!(c[d]=e[g])}):function(a){return f(a,0,d)}):f}},pseudos:{not:e(function(a){var b=[],c=[],d=C(a.replace(jb,"$1"));return d[N]?e(function(a,b,c,e){for(var f,g=d(a,null,e,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:e(function(a){return function(b){return c(a,b).length>0}}),contains:e(function(a){return function(b){return(b.textContent||b.innerText||A(b)).indexOf(a)>-1}}),lang:e(function(a){return qb.test(a||"")||c.error("unsupported lang: "+a),a=a.replace(xb,yb).toLowerCase(),function(b){var c;do if(c=I?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===H},focus:function(a){return a===G.activeElement&&(!G.hasFocus||G.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeName>"@"||3===a.nodeType||4===a.nodeType)return!1;return!0},parent:function(a){return!z.pseudos.empty(a)},header:function(a){return vb.test(a.nodeName)},input:function(a){return ub.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||b.toLowerCase()===a.type)},first:k(function(){return[0]}),last:k(function(a,b){return[b-1]}),eq:k(function(a,b,c){return[0>c?c+b:c]}),even:k(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:k(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:k(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:k(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},z.pseudos.nth=z.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})z.pseudos[w]=i(w);for(w in{submit:!0,reset:!0})z.pseudos[w]=j(w);l.prototype=z.filters=z.pseudos,z.setFilters=new l,C=c.compile=function(a,b){var c,d=[],e=[],f=T[a+" "];if(!f){for(b||(b=m(a)),c=b.length;c--;)f=s(b[c]),f[N]?d.push(f):e.push(f);f=T(a,t(e,d))}return f},x.sortStable=N.split("").sort(V).join("")===N,x.detectDuplicates=U,F(),x.sortDetached=f(function(a){return 1&a.compareDocumentPosition(G.createElement("div"))}),f(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||g("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),x.attributes&&f(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||g("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),f(function(a){return null==a.getAttribute("disabled")})||g(db,function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&d.specified?d.value:a[b]===!0?b.toLowerCase():null}),lb.find=c,lb.expr=c.selectors,lb.expr[":"]=lb.expr.pseudos,lb.unique=c.uniqueSort,lb.text=c.getText,lb.isXMLDoc=c.isXML,lb.contains=c.contains}(a);var Ab={};lb.Callbacks=function(a){a="string"==typeof a?Ab[a]||e(a):lb.extend({},a);var c,d,f,g,h,i,j=[],k=!a.once&&[],l=function(b){for(d=a.memory&&b,f=!0,h=i||0,i=0,g=j.length,c=!0;j&&g>h;h++)if(j[h].apply(b[0],b[1])===!1&&a.stopOnFalse){d=!1;break}c=!1,j&&(k?k.length&&l(k.shift()):d?j=[]:m.disable())},m={add:function(){if(j){var b=j.length;!function e(b){lb.each(b,function(b,c){var d=lb.type(c);"function"===d?a.unique&&m.has(c)||j.push(c):c&&c.length&&"string"!==d&&e(c)})}(arguments),c?g=j.length:d&&(i=b,l(d))}return this},remove:function(){return j&&lb.each(arguments,function(a,b){for(var d;(d=lb.inArray(b,j,d))>-1;)j.splice(d,1),c&&(g>=d&&g--,h>=d&&h--)}),this},has:function(a){return a?lb.inArray(a,j)>-1:!(!j||!j.length)},empty:function(){return j=[],g=0,this},disable:function(){return j=k=d=b,this},disabled:function(){return!j},lock:function(){return k=b,d||m.disable(),this},locked:function(){return!k},fireWith:function(a,b){return!j||f&&!k||(b=b||[],b=[a,b.slice?b.slice():b],c?k.push(b):l(b)),this},fire:function(){return m.fireWith(this,arguments),this},fired:function(){return!!f}};return m},lb.extend({Deferred:function(a){var b=[["resolve","done",lb.Callbacks("once memory"),"resolved"],["reject","fail",lb.Callbacks("once memory"),"rejected"],["notify","progress",lb.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return lb.Deferred(function(c){lb.each(b,function(b,f){var g=f[0],h=lb.isFunction(a[b])&&a[b];e[f[1]](function(){var a=h&&h.apply(this,arguments);a&&lb.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[g+"With"](this===d?c.promise():this,h?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?lb.extend(a,d):d}},e={};return d.pipe=d.then,lb.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=gb.call(arguments),g=f.length,h=1!==g||a&&lb.isFunction(a.promise)?g:0,i=1===h?a:lb.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?gb.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);g>e;e++)f[e]&&lb.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}}),lb.support=function(b){var c,d,e,f,g,h,i,j,k,l=Z.createElement("div");if(l.setAttribute("className","t"),l.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",c=l.getElementsByTagName("*")||[],d=l.getElementsByTagName("a")[0],!d||!d.style||!c.length)return b;f=Z.createElement("select"),h=f.appendChild(Z.createElement("option")),e=l.getElementsByTagName("input")[0],d.style.cssText="top:1px;float:left;opacity:.5",b.getSetAttribute="t"!==l.className,b.leadingWhitespace=3===l.firstChild.nodeType,b.tbody=!l.getElementsByTagName("tbody").length,b.htmlSerialize=!!l.getElementsByTagName("link").length,b.style=/top/.test(d.getAttribute("style")),b.hrefNormalized="/a"===d.getAttribute("href"),b.opacity=/^0.5/.test(d.style.opacity),b.cssFloat=!!d.style.cssFloat,b.checkOn=!!e.value,b.optSelected=h.selected,b.enctype=!!Z.createElement("form").enctype,b.html5Clone="<:nav></:nav>"!==Z.createElement("nav").cloneNode(!0).outerHTML,b.inlineBlockNeedsLayout=!1,b.shrinkWrapBlocks=!1,b.pixelPosition=!1,b.deleteExpando=!0,b.noCloneEvent=!0,b.reliableMarginRight=!0,b.boxSizingReliable=!0,e.checked=!0,b.noCloneChecked=e.cloneNode(!0).checked,f.disabled=!0,b.optDisabled=!h.disabled;try{delete l.test}catch(m){b.deleteExpando=!1}e=Z.createElement("input"),e.setAttribute("value",""),b.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),b.radioValue="t"===e.value,e.setAttribute("checked","t"),e.setAttribute("name","t"),g=Z.createDocumentFragment(),g.appendChild(e),b.appendChecked=e.checked,b.checkClone=g.cloneNode(!0).cloneNode(!0).lastChild.checked,l.attachEvent&&(l.attachEvent("onclick",function(){b.noCloneEvent=!1}),l.cloneNode(!0).click());for(k in{submit:!0,change:!0,focusin:!0})l.setAttribute(i="on"+k,"t"),b[k+"Bubbles"]=i in a||l.attributes[i].expando===!1;l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",b.clearCloneStyle="content-box"===l.style.backgroundClip;for(k in lb(b))break;return b.ownLast="0"!==k,lb(function(){var c,d,e,f="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",g=Z.getElementsByTagName("body")[0];g&&(c=Z.createElement("div"),c.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",g.appendChild(c).appendChild(l),l.innerHTML="<table><tr><td></td><td>t</td></tr></table>",e=l.getElementsByTagName("td"),e[0].style.cssText="padding:0;margin:0;border:0;display:none",j=0===e[0].offsetHeight,e[0].style.display="",e[1].style.display="none",b.reliableHiddenOffsets=j&&0===e[0].offsetHeight,l.innerHTML="",l.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",lb.swap(g,null!=g.style.zoom?{zoom:1}:{},function(){b.boxSizing=4===l.offsetWidth}),a.getComputedStyle&&(b.pixelPosition="1%"!==(a.getComputedStyle(l,null)||{}).top,b.boxSizingReliable="4px"===(a.getComputedStyle(l,null)||{width:"4px"}).width,d=l.appendChild(Z.createElement("div")),d.style.cssText=l.style.cssText=f,d.style.marginRight=d.style.width="0",l.style.width="1px",b.reliableMarginRight=!parseFloat((a.getComputedStyle(d,null)||{}).marginRight)),typeof l.style.zoom!==X&&(l.innerHTML="",l.style.cssText=f+"width:1px;padding:1px;display:inline;zoom:1",b.inlineBlockNeedsLayout=3===l.offsetWidth,l.style.display="block",l.innerHTML="<div></div>",l.firstChild.style.width="5px",b.shrinkWrapBlocks=3!==l.offsetWidth,b.inlineBlockNeedsLayout&&(g.style.zoom=1)),g.removeChild(c),c=l=e=d=null)}),c=f=g=h=d=e=null,b}({});var Bb=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Cb=/([A-Z])/g;lb.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?lb.cache[a[lb.expando]]:a[lb.expando],!!a&&!i(a)},data:function(a,b,c){return f(a,b,c)},removeData:function(a,b){return g(a,b)},_data:function(a,b,c){return f(a,b,c,!0)},_removeData:function(a,b){return g(a,b,!0)},acceptData:function(a){if(a.nodeType&&1!==a.nodeType&&9!==a.nodeType)return!1;var b=a.nodeName&&lb.noData[a.nodeName.toLowerCase()];return!b||b!==!0&&a.getAttribute("classid")===b}}),lb.fn.extend({data:function(a,c){var d,e,f=null,g=0,i=this[0];if(a===b){if(this.length&&(f=lb.data(i),1===i.nodeType&&!lb._data(i,"parsedAttrs"))){for(d=i.attributes;g<d.length;g++)e=d[g].name,0===e.indexOf("data-")&&(e=lb.camelCase(e.slice(5)),h(i,e,f[e]));lb._data(i,"parsedAttrs",!0)}return f}return"object"==typeof a?this.each(function(){lb.data(this,a)}):arguments.length>1?this.each(function(){lb.data(this,a,c)}):i?h(i,a,lb.data(i,a)):null},removeData:function(a){return this.each(function(){lb.removeData(this,a)})}}),lb.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=lb._data(a,b),c&&(!d||lb.isArray(c)?d=lb._data(a,b,lb.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=lb.queue(a,b),d=c.length,e=c.shift(),f=lb._queueHooks(a,b),g=function(){lb.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return lb._data(a,c)||lb._data(a,c,{empty:lb.Callbacks("once memory").add(function(){lb._removeData(a,b+"queue"),lb._removeData(a,c)})})}}),lb.fn.extend({queue:function(a,c){var d=2;return"string"!=typeof a&&(c=a,a="fx",d--),arguments.length<d?lb.queue(this[0],a):c===b?this:this.each(function(){var b=lb.queue(this,a,c);lb._queueHooks(this,a),"fx"===a&&"inprogress"!==b[0]&&lb.dequeue(this,a)})},dequeue:function(a){return this.each(function(){lb.dequeue(this,a)})},delay:function(a,b){return a=lb.fx?lb.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){var d,e=1,f=lb.Deferred(),g=this,h=this.length,i=function(){--e||f.resolveWith(g,[g])};for("string"!=typeof a&&(c=a,a=b),a=a||"fx";h--;)d=lb._data(g[h],a+"queueHooks"),d&&d.empty&&(e++,d.empty.add(i));return i(),f.promise(c)}});var Db,Eb,Fb=/[\t\r\n\f]/g,Gb=/\r/g,Hb=/^(?:input|select|textarea|button|object)$/i,Ib=/^(?:a|area)$/i,Jb=/^(?:checked|selected)$/i,Kb=lb.support.getSetAttribute,Lb=lb.support.input;lb.fn.extend({attr:function(a,b){return lb.access(this,lb.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){lb.removeAttr(this,a)})},prop:function(a,b){return lb.access(this,lb.prop,a,b,arguments.length>1)},removeProp:function(a){return a=lb.propFix[a]||a,this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,f,g=0,h=this.length,i="string"==typeof a&&a;if(lb.isFunction(a))return this.each(function(b){lb(this).addClass(a.call(this,b,this.className))});if(i)for(b=(a||"").match(nb)||[];h>g;g++)if(c=this[g],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Fb," "):" ")){for(f=0;e=b[f++];)d.indexOf(" "+e+" ")<0&&(d+=e+" ");c.className=lb.trim(d)}return this},removeClass:function(a){var b,c,d,e,f,g=0,h=this.length,i=0===arguments.length||"string"==typeof a&&a;if(lb.isFunction(a))return this.each(function(b){lb(this).removeClass(a.call(this,b,this.className))});if(i)for(b=(a||"").match(nb)||[];h>g;g++)if(c=this[g],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Fb," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");c.className=a?lb.trim(d):""}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(lb.isFunction(a)?function(c){lb(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c)for(var b,d=0,e=lb(this),f=a.match(nb)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else(c===X||"boolean"===c)&&(this.className&&lb._data(this,"__className__",this.className),this.className=this.className||a===!1?"":lb._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(Fb," ").indexOf(b)>=0)return!0;return!1},val:function(a){var c,d,e,f=this[0];{if(arguments.length)return e=lb.isFunction(a),this.each(function(c){var f;1===this.nodeType&&(f=e?a.call(this,c,lb(this).val()):a,null==f?f="":"number"==typeof f?f+="":lb.isArray(f)&&(f=lb.map(f,function(a){return null==a?"":a+""})),d=lb.valHooks[this.type]||lb.valHooks[this.nodeName.toLowerCase()],d&&"set"in d&&d.set(this,f,"value")!==b||(this.value=f))});if(f)return d=lb.valHooks[f.type]||lb.valHooks[f.nodeName.toLowerCase()],d&&"get"in d&&(c=d.get(f,"value"))!==b?c:(c=f.value,"string"==typeof c?c.replace(Gb,""):null==c?"":c)}}}),lb.extend({valHooks:{option:{get:function(a){var b=lb.find.attr(a,"value");return null!=b?b:a.text}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(lb.support.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&lb.nodeName(c.parentNode,"optgroup"))){if(b=lb(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=lb.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=lb.inArray(lb(d).val(),f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}},attr:function(a,c,d){var e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return typeof a.getAttribute===X?lb.prop(a,c,d):(1===g&&lb.isXMLDoc(a)||(c=c.toLowerCase(),e=lb.attrHooks[c]||(lb.expr.match.bool.test(c)?Eb:Db)),d===b?e&&"get"in e&&null!==(f=e.get(a,c))?f:(f=lb.find.attr(a,c),null==f?b:f):null!==d?e&&"set"in e&&(f=e.set(a,d,c))!==b?f:(a.setAttribute(c,d+""),d):void lb.removeAttr(a,c))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(nb);if(f&&1===a.nodeType)for(;c=f[e++];)d=lb.propFix[c]||c,lb.expr.match.bool.test(c)?Lb&&Kb||!Jb.test(c)?a[d]=!1:a[lb.camelCase("default-"+c)]=a[d]=!1:lb.attr(a,c,""),a.removeAttribute(Kb?c:d)},attrHooks:{type:{set:function(a,b){if(!lb.support.radioValue&&"radio"===b&&lb.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(a,c,d){var e,f,g,h=a.nodeType;if(a&&3!==h&&8!==h&&2!==h)return g=1!==h||!lb.isXMLDoc(a),g&&(c=lb.propFix[c]||c,f=lb.propHooks[c]),d!==b?f&&"set"in f&&(e=f.set(a,d,c))!==b?e:a[c]=d:f&&"get"in f&&null!==(e=f.get(a,c))?e:a[c]},propHooks:{tabIndex:{get:function(a){var b=lb.find.attr(a,"tabindex");return b?parseInt(b,10):Hb.test(a.nodeName)||Ib.test(a.nodeName)&&a.href?0:-1}}}}),Eb={set:function(a,b,c){return b===!1?lb.removeAttr(a,c):Lb&&Kb||!Jb.test(c)?a.setAttribute(!Kb&&lb.propFix[c]||c,c):a[lb.camelCase("default-"+c)]=a[c]=!0,c}},lb.each(lb.expr.match.bool.source.match(/\w+/g),function(a,c){var d=lb.expr.attrHandle[c]||lb.find.attr;lb.expr.attrHandle[c]=Lb&&Kb||!Jb.test(c)?function(a,c,e){var f=lb.expr.attrHandle[c],g=e?b:(lb.expr.attrHandle[c]=b)!=d(a,c,e)?c.toLowerCase():null;return lb.expr.attrHandle[c]=f,g}:function(a,c,d){return d?b:a[lb.camelCase("default-"+c)]?c.toLowerCase():null}}),Lb&&Kb||(lb.attrHooks.value={set:function(a,b,c){return lb.nodeName(a,"input")?void(a.defaultValue=b):Db&&Db.set(a,b,c)}}),Kb||(Db={set:function(a,c,d){var e=a.getAttributeNode(d);return e||a.setAttributeNode(e=a.ownerDocument.createAttribute(d)),e.value=c+="","value"===d||c===a.getAttribute(d)?c:b}},lb.expr.attrHandle.id=lb.expr.attrHandle.name=lb.expr.attrHandle.coords=function(a,c,d){var e;return d?b:(e=a.getAttributeNode(c))&&""!==e.value?e.value:null},lb.valHooks.button={get:function(a,c){var d=a.getAttributeNode(c);return d&&d.specified?d.value:b},set:Db.set},lb.attrHooks.contenteditable={set:function(a,b,c){Db.set(a,""===b?!1:b,c)}},lb.each(["width","height"],function(a,b){lb.attrHooks[b]={set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}}})),lb.support.hrefNormalized||lb.each(["href","src"],function(a,b){lb.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),lb.support.style||(lb.attrHooks.style={get:function(a){return a.style.cssText||b},set:function(a,b){return a.style.cssText=b+""}}),lb.support.optSelected||(lb.propHooks.selected={get:function(a){var b=a.parentNode;
return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),lb.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){lb.propFix[this.toLowerCase()]=this}),lb.support.enctype||(lb.propFix.enctype="encoding"),lb.each(["radio","checkbox"],function(){lb.valHooks[this]={set:function(a,b){return lb.isArray(b)?a.checked=lb.inArray(lb(a).val(),b)>=0:void 0}},lb.support.checkOn||(lb.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var Mb=/^(?:input|select|textarea)$/i,Nb=/^key/,Ob=/^(?:mouse|contextmenu)|click/,Pb=/^(?:focusinfocus|focusoutblur)$/,Qb=/^([^.]*)(?:\.(.+)|)$/;lb.event={global:{},add:function(a,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r=lb._data(a);if(r){for(d.handler&&(j=d,d=j.handler,f=j.selector),d.guid||(d.guid=lb.guid++),(h=r.events)||(h=r.events={}),(l=r.handle)||(l=r.handle=function(a){return typeof lb===X||a&&lb.event.triggered===a.type?b:lb.event.dispatch.apply(l.elem,arguments)},l.elem=a),c=(c||"").match(nb)||[""],i=c.length;i--;)g=Qb.exec(c[i])||[],o=q=g[1],p=(g[2]||"").split(".").sort(),o&&(k=lb.event.special[o]||{},o=(f?k.delegateType:k.bindType)||o,k=lb.event.special[o]||{},m=lb.extend({type:o,origType:q,data:e,handler:d,guid:d.guid,selector:f,needsContext:f&&lb.expr.match.needsContext.test(f),namespace:p.join(".")},j),(n=h[o])||(n=h[o]=[],n.delegateCount=0,k.setup&&k.setup.call(a,e,p,l)!==!1||(a.addEventListener?a.addEventListener(o,l,!1):a.attachEvent&&a.attachEvent("on"+o,l))),k.add&&(k.add.call(a,m),m.handler.guid||(m.handler.guid=d.guid)),f?n.splice(n.delegateCount++,0,m):n.push(m),lb.event.global[o]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=lb.hasData(a)&&lb._data(a);if(q&&(k=q.events)){for(b=(b||"").match(nb)||[""],j=b.length;j--;)if(h=Qb.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=lb.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=k[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=m.length;f--;)g=m[f],!e&&p!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(m.splice(f,1),g.selector&&m.delegateCount--,l.remove&&l.remove.call(a,g));i&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||lb.removeEvent(a,n,q.handle),delete k[n])}else for(n in k)lb.event.remove(a,n+b[j],c,d,!0);lb.isEmptyObject(k)&&(delete q.handle,lb._removeData(a,"events"))}},trigger:function(c,d,e,f){var g,h,i,j,k,l,m,n=[e||Z],o=jb.call(c,"type")?c.type:c,p=jb.call(c,"namespace")?c.namespace.split("."):[];if(i=l=e=e||Z,3!==e.nodeType&&8!==e.nodeType&&!Pb.test(o+lb.event.triggered)&&(o.indexOf(".")>=0&&(p=o.split("."),o=p.shift(),p.sort()),h=o.indexOf(":")<0&&"on"+o,c=c[lb.expando]?c:new lb.Event(o,"object"==typeof c&&c),c.isTrigger=f?2:3,c.namespace=p.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c.result=b,c.target||(c.target=e),d=null==d?[c]:lb.makeArray(d,[c]),k=lb.event.special[o]||{},f||!k.trigger||k.trigger.apply(e,d)!==!1)){if(!f&&!k.noBubble&&!lb.isWindow(e)){for(j=k.delegateType||o,Pb.test(j+o)||(i=i.parentNode);i;i=i.parentNode)n.push(i),l=i;l===(e.ownerDocument||Z)&&n.push(l.defaultView||l.parentWindow||a)}for(m=0;(i=n[m++])&&!c.isPropagationStopped();)c.type=m>1?j:k.bindType||o,g=(lb._data(i,"events")||{})[c.type]&&lb._data(i,"handle"),g&&g.apply(i,d),g=h&&i[h],g&&lb.acceptData(i)&&g.apply&&g.apply(i,d)===!1&&c.preventDefault();if(c.type=o,!f&&!c.isDefaultPrevented()&&(!k._default||k._default.apply(n.pop(),d)===!1)&&lb.acceptData(e)&&h&&e[o]&&!lb.isWindow(e)){l=e[h],l&&(e[h]=null),lb.event.triggered=o;try{e[o]()}catch(q){}lb.event.triggered=b,l&&(e[h]=l)}return c.result}},dispatch:function(a){a=lb.event.fix(a);var c,d,e,f,g,h=[],i=gb.call(arguments),j=(lb._data(this,"events")||{})[a.type]||[],k=lb.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){for(h=lb.event.handlers.call(this,a,j),c=0;(f=h[c++])&&!a.isPropagationStopped();)for(a.currentTarget=f.elem,g=0;(e=f.handlers[g++])&&!a.isImmediatePropagationStopped();)(!a.namespace_re||a.namespace_re.test(e.namespace))&&(a.handleObj=e,a.data=e.data,d=((lb.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i),d!==b&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()));return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,c){var d,e,f,g,h=[],i=c.delegateCount,j=a.target;if(i&&j.nodeType&&(!a.button||"click"!==a.type))for(;j!=this;j=j.parentNode||this)if(1===j.nodeType&&(j.disabled!==!0||"click"!==a.type)){for(f=[],g=0;i>g;g++)e=c[g],d=e.selector+" ",f[d]===b&&(f[d]=e.needsContext?lb(d,this).index(j)>=0:lb.find(d,this,null,[j]).length),f[d]&&f.push(e);f.length&&h.push({elem:j,handlers:f})}return i<c.length&&h.push({elem:this,handlers:c.slice(i)}),h},fix:function(a){if(a[lb.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=Ob.test(e)?this.mouseHooks:Nb.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new lb.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||Z),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,c){var d,e,f,g=c.button,h=c.fromElement;return null==a.pageX&&null!=c.clientX&&(e=a.target.ownerDocument||Z,f=e.documentElement,d=e.body,a.pageX=c.clientX+(f&&f.scrollLeft||d&&d.scrollLeft||0)-(f&&f.clientLeft||d&&d.clientLeft||0),a.pageY=c.clientY+(f&&f.scrollTop||d&&d.scrollTop||0)-(f&&f.clientTop||d&&d.clientTop||0)),!a.relatedTarget&&h&&(a.relatedTarget=h===a.target?c.toElement:h),a.which||g===b||(a.which=1&g?1:2&g?3:4&g?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==l()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===l()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return lb.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return lb.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){a.result!==b&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=lb.extend(new lb.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?lb.event.trigger(e,null,b):lb.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},lb.removeEvent=Z.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===X&&(a[d]=null),a.detachEvent(d,c))},lb.Event=function(a,b){return this instanceof lb.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?j:k):this.type=a,b&&lb.extend(this,b),this.timeStamp=a&&a.timeStamp||lb.now(),void(this[lb.expando]=!0)):new lb.Event(a,b)},lb.Event.prototype={isDefaultPrevented:k,isPropagationStopped:k,isImmediatePropagationStopped:k,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=j,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=j,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=j,this.stopPropagation()}},lb.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){lb.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!lb.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),lb.support.submitBubbles||(lb.event.special.submit={setup:function(){return lb.nodeName(this,"form")?!1:void lb.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=lb.nodeName(c,"input")||lb.nodeName(c,"button")?c.form:b;d&&!lb._data(d,"submitBubbles")&&(lb.event.add(d,"submit._submit",function(a){a._submit_bubble=!0}),lb._data(d,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&lb.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return lb.nodeName(this,"form")?!1:void lb.event.remove(this,"._submit")}}),lb.support.changeBubbles||(lb.event.special.change={setup:function(){return Mb.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(lb.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),lb.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),lb.event.simulate("change",this,a,!0)})),!1):void lb.event.add(this,"beforeactivate._change",function(a){var b=a.target;Mb.test(b.nodeName)&&!lb._data(b,"changeBubbles")&&(lb.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||lb.event.simulate("change",this.parentNode,a,!0)}),lb._data(b,"changeBubbles",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return lb.event.remove(this,"._change"),!Mb.test(this.nodeName)}}),lb.support.focusinBubbles||lb.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){lb.event.simulate(b,a.target,lb.event.fix(a),!0)};lb.event.special[b]={setup:function(){0===c++&&Z.addEventListener(a,d,!0)},teardown:function(){0===--c&&Z.removeEventListener(a,d,!0)}}}),lb.fn.extend({on:function(a,c,d,e,f){var g,h;if("object"==typeof a){"string"!=typeof c&&(d=d||c,c=b);for(g in a)this.on(g,c,d,a[g],f);return this}if(null==d&&null==e?(e=c,d=c=b):null==e&&("string"==typeof c?(e=d,d=b):(e=d,d=c,c=b)),e===!1)e=k;else if(!e)return this;return 1===f&&(h=e,e=function(a){return lb().off(a),h.apply(this,arguments)},e.guid=h.guid||(h.guid=lb.guid++)),this.each(function(){lb.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,c,d){var e,f;if(a&&a.preventDefault&&a.handleObj)return e=a.handleObj,lb(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if("object"==typeof a){for(f in a)this.off(f,c,a[f]);return this}return(c===!1||"function"==typeof c)&&(d=c,c=b),d===!1&&(d=k),this.each(function(){lb.event.remove(this,a,d,c)})},trigger:function(a,b){return this.each(function(){lb.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?lb.event.trigger(a,b,c,!0):void 0}});var Rb=/^.[^:#\[\.,]*$/,Sb=/^(?:parents|prev(?:Until|All))/,Tb=lb.expr.match.needsContext,Ub={children:!0,contents:!0,next:!0,prev:!0};lb.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(lb(a).filter(function(){for(b=0;e>b;b++)if(lb.contains(d[b],this))return!0}));for(b=0;e>b;b++)lb.find(a,d[b],c);return c=this.pushStack(e>1?lb.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},has:function(a){var b,c=lb(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(lb.contains(this,c[b]))return!0})},not:function(a){return this.pushStack(n(this,a||[],!0))},filter:function(a){return this.pushStack(n(this,a||[],!1))},is:function(a){return!!n(this,"string"==typeof a&&Tb.test(a)?lb(a):a||[],!1).length},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=Tb.test(a)||"string"!=typeof a?lb(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&lb.find.matchesSelector(c,a))){c=f.push(c);break}return this.pushStack(f.length>1?lb.unique(f):f)},index:function(a){return a?"string"==typeof a?lb.inArray(this[0],lb(a)):lb.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){var c="string"==typeof a?lb(a,b):lb.makeArray(a&&a.nodeType?[a]:a),d=lb.merge(this.get(),c);return this.pushStack(lb.unique(d))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),lb.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return lb.dir(a,"parentNode")},parentsUntil:function(a,b,c){return lb.dir(a,"parentNode",c)},next:function(a){return m(a,"nextSibling")},prev:function(a){return m(a,"previousSibling")},nextAll:function(a){return lb.dir(a,"nextSibling")},prevAll:function(a){return lb.dir(a,"previousSibling")},nextUntil:function(a,b,c){return lb.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return lb.dir(a,"previousSibling",c)},siblings:function(a){return lb.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return lb.sibling(a.firstChild)},contents:function(a){return lb.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:lb.merge([],a.childNodes)}},function(a,b){lb.fn[a]=function(c,d){var e=lb.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=lb.filter(d,e)),this.length>1&&(Ub[a]||(e=lb.unique(e)),Sb.test(a)&&(e=e.reverse())),this.pushStack(e)}}),lb.extend({filter:function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?lb.find.matchesSelector(d,a)?[d]:[]:lb.find.matches(a,lb.grep(b,function(a){return 1===a.nodeType}))},dir:function(a,c,d){for(var e=[],f=a[c];f&&9!==f.nodeType&&(d===b||1!==f.nodeType||!lb(f).is(d));)1===f.nodeType&&e.push(f),f=f[c];return e},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var Vb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Wb=/ jQuery\d+="(?:null|\d+)"/g,Xb=new RegExp("<(?:"+Vb+")[\\s/>]","i"),Yb=/^\s+/,Zb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,$b=/<([\w:]+)/,_b=/<tbody/i,ac=/<|&#?\w+;/,bc=/<(?:script|style|link)/i,cc=/^(?:checkbox|radio)$/i,dc=/checked\s*(?:[^=]|=\s*.checked.)/i,ec=/^$|\/(?:java|ecma)script/i,fc=/^true\/(.*)/,gc=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,hc={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:lb.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ic=o(Z),jc=ic.appendChild(Z.createElement("div"));hc.optgroup=hc.option,hc.tbody=hc.tfoot=hc.colgroup=hc.caption=hc.thead,hc.th=hc.td,lb.fn.extend({text:function(a){return lb.access(this,function(a){return a===b?lb.text(this):this.empty().append((this[0]&&this[0].ownerDocument||Z).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=p(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=p(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?lb.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||lb.cleanData(v(c)),c.parentNode&&(b&&lb.contains(c.ownerDocument,c)&&s(v(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&lb.cleanData(v(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&lb.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return lb.clone(this,a,b)})},html:function(a){return lb.access(this,function(a){var c=this[0]||{},d=0,e=this.length;if(a===b)return 1===c.nodeType?c.innerHTML.replace(Wb,""):b;if(!("string"!=typeof a||bc.test(a)||!lb.support.htmlSerialize&&Xb.test(a)||!lb.support.leadingWhitespace&&Yb.test(a)||hc[($b.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(Zb,"<$1></$2>");try{for(;e>d;d++)c=this[d]||{},1===c.nodeType&&(lb.cleanData(v(c,!1)),c.innerHTML=a);c=0}catch(f){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=lb.map(this,function(a){return[a.nextSibling,a.parentNode]}),b=0;return this.domManip(arguments,function(c){var d=a[b++],e=a[b++];e&&(d&&d.parentNode!==e&&(d=this.nextSibling),lb(this).remove(),e.insertBefore(c,d))},!0),b?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b,c){a=eb.apply([],a);var d,e,f,g,h,i,j=0,k=this.length,l=this,m=k-1,n=a[0],o=lb.isFunction(n);if(o||!(1>=k||"string"!=typeof n||lb.support.checkClone)&&dc.test(n))return this.each(function(d){var e=l.eq(d);o&&(a[0]=n.call(this,d,e.html())),e.domManip(a,b,c)});if(k&&(i=lb.buildFragment(a,this[0].ownerDocument,!1,!c&&this),d=i.firstChild,1===i.childNodes.length&&(i=d),d)){for(g=lb.map(v(i,"script"),q),f=g.length;k>j;j++)e=i,j!==m&&(e=lb.clone(e,!0,!0),f&&lb.merge(g,v(e,"script"))),b.call(this[j],e,j);if(f)for(h=g[g.length-1].ownerDocument,lb.map(g,r),j=0;f>j;j++)e=g[j],ec.test(e.type||"")&&!lb._data(e,"globalEval")&&lb.contains(h,e)&&(e.src?lb._evalUrl(e.src):lb.globalEval((e.text||e.textContent||e.innerHTML||"").replace(gc,"")));i=d=null}return this}}),lb.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){lb.fn[a]=function(a){for(var c,d=0,e=[],f=lb(a),g=f.length-1;g>=d;d++)c=d===g?this:this.clone(!0),lb(f[d])[b](c),fb.apply(e,c.get());return this.pushStack(e)}}),lb.extend({clone:function(a,b,c){var d,e,f,g,h,i=lb.contains(a.ownerDocument,a);if(lb.support.html5Clone||lb.isXMLDoc(a)||!Xb.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(jc.innerHTML=a.outerHTML,jc.removeChild(f=jc.firstChild)),!(lb.support.noCloneEvent&&lb.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||lb.isXMLDoc(a)))for(d=v(f),h=v(a),g=0;null!=(e=h[g]);++g)d[g]&&u(e,d[g]);if(b)if(c)for(h=h||v(a),d=d||v(f),g=0;null!=(e=h[g]);g++)t(e,d[g]);else t(a,f);return d=v(f,"script"),d.length>0&&s(d,!i&&v(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k,l=a.length,m=o(b),n=[],p=0;l>p;p++)if(f=a[p],f||0===f)if("object"===lb.type(f))lb.merge(n,f.nodeType?[f]:f);else if(ac.test(f)){for(h=h||m.appendChild(b.createElement("div")),i=($b.exec(f)||["",""])[1].toLowerCase(),k=hc[i]||hc._default,h.innerHTML=k[1]+f.replace(Zb,"<$1></$2>")+k[2],e=k[0];e--;)h=h.lastChild;if(!lb.support.leadingWhitespace&&Yb.test(f)&&n.push(b.createTextNode(Yb.exec(f)[0])),!lb.support.tbody)for(f="table"!==i||_b.test(f)?"<table>"!==k[1]||_b.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;e--;)lb.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j);for(lb.merge(n,h.childNodes),h.textContent="";h.firstChild;)h.removeChild(h.firstChild);h=m.lastChild}else n.push(b.createTextNode(f));for(h&&m.removeChild(h),lb.support.appendChecked||lb.grep(v(n,"input"),w),p=0;f=n[p++];)if((!d||-1===lb.inArray(f,d))&&(g=lb.contains(f.ownerDocument,f),h=v(m.appendChild(f),"script"),g&&s(h),c))for(e=0;f=h[e++];)ec.test(f.type||"")&&c.push(f);return h=null,m},cleanData:function(a,b){for(var c,d,e,f,g=0,h=lb.expando,i=lb.cache,j=lb.support.deleteExpando,k=lb.event.special;null!=(c=a[g]);g++)if((b||lb.acceptData(c))&&(e=c[h],f=e&&i[e])){if(f.events)for(d in f.events)k[d]?lb.event.remove(c,d):lb.removeEvent(c,d,f.handle);i[e]&&(delete i[e],j?delete c[h]:typeof c.removeAttribute!==X?c.removeAttribute(h):c[h]=null,cb.push(e))}},_evalUrl:function(a){return lb.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),lb.fn.extend({wrapAll:function(a){if(lb.isFunction(a))return this.each(function(b){lb(this).wrapAll(a.call(this,b))});if(this[0]){var b=lb(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return this.each(lb.isFunction(a)?function(b){lb(this).wrapInner(a.call(this,b))}:function(){var b=lb(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=lb.isFunction(a);return this.each(function(c){lb(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){lb.nodeName(this,"body")||lb(this).replaceWith(this.childNodes)}).end()}});var kc,lc,mc,nc=/alpha\([^)]*\)/i,oc=/opacity\s*=\s*([^)]*)/,pc=/^(top|right|bottom|left)$/,qc=/^(none|table(?!-c[ea]).+)/,rc=/^margin/,sc=new RegExp("^("+mb+")(.*)$","i"),tc=new RegExp("^("+mb+")(?!px)[a-z%]+$","i"),uc=new RegExp("^([+-])=("+mb+")","i"),vc={BODY:"block"},wc={position:"absolute",visibility:"hidden",display:"block"},xc={letterSpacing:0,fontWeight:400},yc=["Top","Right","Bottom","Left"],zc=["Webkit","O","Moz","ms"];lb.fn.extend({css:function(a,c){return lb.access(this,function(a,c,d){var e,f,g={},h=0;if(lb.isArray(c)){for(f=lc(a),e=c.length;e>h;h++)g[c[h]]=lb.css(a,c[h],!1,f);return g}return d!==b?lb.style(a,c,d):lb.css(a,c)},a,c,arguments.length>1)},show:function(){return z(this,!0)},hide:function(){return z(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){y(this)?lb(this).show():lb(this).hide()})}}),lb.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=mc(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":lb.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var f,g,h,i=lb.camelCase(c),j=a.style;if(c=lb.cssProps[i]||(lb.cssProps[i]=x(j,i)),h=lb.cssHooks[c]||lb.cssHooks[i],d===b)return h&&"get"in h&&(f=h.get(a,!1,e))!==b?f:j[c];if(g=typeof d,"string"===g&&(f=uc.exec(d))&&(d=(f[1]+1)*f[2]+parseFloat(lb.css(a,c)),g="number"),!(null==d||"number"===g&&isNaN(d)||("number"!==g||lb.cssNumber[i]||(d+="px"),lb.support.clearCloneStyle||""!==d||0!==c.indexOf("background")||(j[c]="inherit"),h&&"set"in h&&(d=h.set(a,d,e))===b)))try{j[c]=d}catch(k){}}},css:function(a,c,d,e){var f,g,h,i=lb.camelCase(c);return c=lb.cssProps[i]||(lb.cssProps[i]=x(a.style,i)),h=lb.cssHooks[c]||lb.cssHooks[i],h&&"get"in h&&(g=h.get(a,!0,d)),g===b&&(g=mc(a,c,e)),"normal"===g&&c in xc&&(g=xc[c]),""===d||d?(f=parseFloat(g),d===!0||lb.isNumeric(f)?f||0:g):g}}),a.getComputedStyle?(lc=function(b){return a.getComputedStyle(b,null)},mc=function(a,c,d){var e,f,g,h=d||lc(a),i=h?h.getPropertyValue(c)||h[c]:b,j=a.style;return h&&(""!==i||lb.contains(a.ownerDocument,a)||(i=lb.style(a,c)),tc.test(i)&&rc.test(c)&&(e=j.width,f=j.minWidth,g=j.maxWidth,j.minWidth=j.maxWidth=j.width=i,i=h.width,j.width=e,j.minWidth=f,j.maxWidth=g)),i}):Z.documentElement.currentStyle&&(lc=function(a){return a.currentStyle},mc=function(a,c,d){var e,f,g,h=d||lc(a),i=h?h[c]:b,j=a.style;return null==i&&j&&j[c]&&(i=j[c]),tc.test(i)&&!pc.test(c)&&(e=j.left,f=a.runtimeStyle,g=f&&f.left,g&&(f.left=a.currentStyle.left),j.left="fontSize"===c?"1em":i,i=j.pixelLeft+"px",j.left=e,g&&(f.left=g)),""===i?"auto":i}),lb.each(["height","width"],function(a,b){lb.cssHooks[b]={get:function(a,c,d){return c?0===a.offsetWidth&&qc.test(lb.css(a,"display"))?lb.swap(a,wc,function(){return C(a,b,d)}):C(a,b,d):void 0},set:function(a,c,d){var e=d&&lc(a);return A(a,c,d?B(a,b,d,lb.support.boxSizing&&"border-box"===lb.css(a,"boxSizing",!1,e),e):0)}}}),lb.support.opacity||(lb.cssHooks.opacity={get:function(a,b){return oc.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=lb.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===lb.trim(f.replace(nc,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=nc.test(f)?f.replace(nc,e):f+" "+e)}}),lb(function(){lb.support.reliableMarginRight||(lb.cssHooks.marginRight={get:function(a,b){return b?lb.swap(a,{display:"inline-block"},mc,[a,"marginRight"]):void 0}}),!lb.support.pixelPosition&&lb.fn.position&&lb.each(["top","left"],function(a,b){lb.cssHooks[b]={get:function(a,c){return c?(c=mc(a,b),tc.test(c)?lb(a).position()[b]+"px":c):void 0}}})}),lb.expr&&lb.expr.filters&&(lb.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!lb.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||lb.css(a,"display"))},lb.expr.filters.visible=function(a){return!lb.expr.filters.hidden(a)}),lb.each({margin:"",padding:"",border:"Width"},function(a,b){lb.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+yc[d]+b]=f[d]||f[d-2]||f[0];return e}},rc.test(a)||(lb.cssHooks[a+b].set=A)});var Ac=/%20/g,Bc=/\[\]$/,Cc=/\r?\n/g,Dc=/^(?:submit|button|image|reset|file)$/i,Ec=/^(?:input|select|textarea|keygen)/i;lb.fn.extend({serialize:function(){return lb.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=lb.prop(this,"elements");return a?lb.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!lb(this).is(":disabled")&&Ec.test(this.nodeName)&&!Dc.test(a)&&(this.checked||!cc.test(a))}).map(function(a,b){var c=lb(this).val();return null==c?null:lb.isArray(c)?lb.map(c,function(a){return{name:b.name,value:a.replace(Cc,"\r\n")}}):{name:b.name,value:c.replace(Cc,"\r\n")}}).get()}}),lb.param=function(a,c){var d,e=[],f=function(a,b){b=lb.isFunction(b)?b():null==b?"":b,e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(c===b&&(c=lb.ajaxSettings&&lb.ajaxSettings.traditional),lb.isArray(a)||a.jquery&&!lb.isPlainObject(a))lb.each(a,function(){f(this.name,this.value)});else for(d in a)F(d,a[d],c,f);return e.join("&").replace(Ac,"+")},lb.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){lb.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),lb.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var Fc,Gc,Hc=lb.now(),Ic=/\?/,Jc=/#.*$/,Kc=/([?&])_=[^&]*/,Lc=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Mc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Nc=/^(?:GET|HEAD)$/,Oc=/^\/\//,Pc=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Qc=lb.fn.load,Rc={},Sc={},Tc="*/".concat("*");try{Gc=Y.href}catch(Uc){Gc=Z.createElement("a"),Gc.href="",Gc=Gc.href}Fc=Pc.exec(Gc.toLowerCase())||[],lb.fn.load=function(a,c,d){if("string"!=typeof a&&Qc)return Qc.apply(this,arguments);var e,f,g,h=this,i=a.indexOf(" ");return i>=0&&(e=a.slice(i,a.length),a=a.slice(0,i)),lb.isFunction(c)?(d=c,c=b):c&&"object"==typeof c&&(g="POST"),h.length>0&&lb.ajax({url:a,type:g,dataType:"html",data:c}).done(function(a){f=arguments,h.html(e?lb("<div>").append(lb.parseHTML(a)).find(e):a)}).complete(d&&function(a,b){h.each(d,f||[a.responseText,b,a])}),this},lb.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){lb.fn[b]=function(a){return this.on(b,a)}}),lb.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Gc,type:"GET",isLocal:Mc.test(Fc[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Tc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":lb.parseJSON,"text xml":lb.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?I(I(a,lb.ajaxSettings),b):I(lb.ajaxSettings,a)},ajaxPrefilter:G(Rc),ajaxTransport:G(Sc),ajax:function(a,c){function d(a,c,d,e){var f,l,s,t,v,x=c;2!==u&&(u=2,i&&clearTimeout(i),k=b,h=e||"",w.readyState=a>0?4:0,f=a>=200&&300>a||304===a,d&&(t=J(m,w,d)),t=K(m,t,w,f),f?(m.ifModified&&(v=w.getResponseHeader("Last-Modified"),v&&(lb.lastModified[g]=v),v=w.getResponseHeader("etag"),v&&(lb.etag[g]=v)),204===a||"HEAD"===m.type?x="nocontent":304===a?x="notmodified":(x=t.state,l=t.data,s=t.error,f=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),w.status=a,w.statusText=(c||x)+"",f?p.resolveWith(n,[l,x,w]):p.rejectWith(n,[w,x,s]),w.statusCode(r),r=b,j&&o.trigger(f?"ajaxSuccess":"ajaxError",[w,m,f?l:s]),q.fireWith(n,[w,x]),j&&(o.trigger("ajaxComplete",[w,m]),--lb.active||lb.event.trigger("ajaxStop")))}"object"==typeof a&&(c=a,a=b),c=c||{};var e,f,g,h,i,j,k,l,m=lb.ajaxSetup({},c),n=m.context||m,o=m.context&&(n.nodeType||n.jquery)?lb(n):lb.event,p=lb.Deferred(),q=lb.Callbacks("once memory"),r=m.statusCode||{},s={},t={},u=0,v="canceled",w={readyState:0,getResponseHeader:function(a){var b;if(2===u){if(!l)for(l={};b=Lc.exec(h);)l[b[1].toLowerCase()]=b[2];b=l[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===u?h:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return u||(a=t[c]=t[c]||a,s[a]=b),this},overrideMimeType:function(a){return u||(m.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>u)for(b in a)r[b]=[r[b],a[b]];else w.always(a[w.status]);return this},abort:function(a){var b=a||v;return k&&k.abort(b),d(0,b),this}};if(p.promise(w).complete=q.add,w.success=w.done,w.error=w.fail,m.url=((a||m.url||Gc)+"").replace(Jc,"").replace(Oc,Fc[1]+"//"),m.type=c.method||c.type||m.method||m.type,m.dataTypes=lb.trim(m.dataType||"*").toLowerCase().match(nb)||[""],null==m.crossDomain&&(e=Pc.exec(m.url.toLowerCase()),m.crossDomain=!(!e||e[1]===Fc[1]&&e[2]===Fc[2]&&(e[3]||("http:"===e[1]?"80":"443"))===(Fc[3]||("http:"===Fc[1]?"80":"443")))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=lb.param(m.data,m.traditional)),H(Rc,m,c,w),2===u)return w;j=m.global,j&&0===lb.active++&&lb.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!Nc.test(m.type),g=m.url,m.hasContent||(m.data&&(g=m.url+=(Ic.test(g)?"&":"?")+m.data,delete m.data),m.cache===!1&&(m.url=Kc.test(g)?g.replace(Kc,"$1_="+Hc++):g+(Ic.test(g)?"&":"?")+"_="+Hc++)),m.ifModified&&(lb.lastModified[g]&&w.setRequestHeader("If-Modified-Since",lb.lastModified[g]),lb.etag[g]&&w.setRequestHeader("If-None-Match",lb.etag[g])),(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&w.setRequestHeader("Content-Type",m.contentType),w.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Tc+"; q=0.01":""):m.accepts["*"]);for(f in m.headers)w.setRequestHeader(f,m.headers[f]);if(m.beforeSend&&(m.beforeSend.call(n,w,m)===!1||2===u))return w.abort();v="abort";for(f in{success:1,error:1,complete:1})w[f](m[f]);if(k=H(Sc,m,c,w)){w.readyState=1,j&&o.trigger("ajaxSend",[w,m]),m.async&&m.timeout>0&&(i=setTimeout(function(){w.abort("timeout")},m.timeout));try{u=1,k.send(s,d)
}catch(x){if(!(2>u))throw x;d(-1,x)}}else d(-1,"No Transport");return w},getJSON:function(a,b,c){return lb.get(a,b,c,"json")},getScript:function(a,c){return lb.get(a,b,c,"script")}}),lb.each(["get","post"],function(a,c){lb[c]=function(a,d,e,f){return lb.isFunction(d)&&(f=f||e,e=d,d=b),lb.ajax({url:a,type:c,dataType:f,data:d,success:e})}}),lb.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return lb.globalEval(a),a}}}),lb.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),lb.ajaxTransport("script",function(a){if(a.crossDomain){var c,d=Z.head||lb("head")[0]||Z.documentElement;return{send:function(b,e){c=Z.createElement("script"),c.async=!0,a.scriptCharset&&(c.charset=a.scriptCharset),c.src=a.url,c.onload=c.onreadystatechange=function(a,b){(b||!c.readyState||/loaded|complete/.test(c.readyState))&&(c.onload=c.onreadystatechange=null,c.parentNode&&c.parentNode.removeChild(c),c=null,b||e(200,"success"))},d.insertBefore(c,d.firstChild)},abort:function(){c&&c.onload(b,!0)}}}});var Vc=[],Wc=/(=)\?(?=&|$)|\?\?/;lb.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Vc.pop()||lb.expando+"_"+Hc++;return this[a]=!0,a}}),lb.ajaxPrefilter("json jsonp",function(c,d,e){var f,g,h,i=c.jsonp!==!1&&(Wc.test(c.url)?"url":"string"==typeof c.data&&!(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&Wc.test(c.data)&&"data");return i||"jsonp"===c.dataTypes[0]?(f=c.jsonpCallback=lb.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,i?c[i]=c[i].replace(Wc,"$1"+f):c.jsonp!==!1&&(c.url+=(Ic.test(c.url)?"&":"?")+c.jsonp+"="+f),c.converters["script json"]=function(){return h||lb.error(f+" was not called"),h[0]},c.dataTypes[0]="json",g=a[f],a[f]=function(){h=arguments},e.always(function(){a[f]=g,c[f]&&(c.jsonpCallback=d.jsonpCallback,Vc.push(f)),h&&lb.isFunction(g)&&g(h[0]),h=g=b}),"script"):void 0});var Xc,Yc,Zc=0,$c=a.ActiveXObject&&function(){var a;for(a in Xc)Xc[a](b,!0)};lb.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&L()||M()}:L,Yc=lb.ajaxSettings.xhr(),lb.support.cors=!!Yc&&"withCredentials"in Yc,Yc=lb.support.ajax=!!Yc,Yc&&lb.ajaxTransport(function(c){if(!c.crossDomain||lb.support.cors){var d;return{send:function(e,f){var g,h,i=c.xhr();if(c.username?i.open(c.type,c.url,c.async,c.username,c.password):i.open(c.type,c.url,c.async),c.xhrFields)for(h in c.xhrFields)i[h]=c.xhrFields[h];c.mimeType&&i.overrideMimeType&&i.overrideMimeType(c.mimeType),c.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");try{for(h in e)i.setRequestHeader(h,e[h])}catch(j){}i.send(c.hasContent&&c.data||null),d=function(a,e){var h,j,k,l;try{if(d&&(e||4===i.readyState))if(d=b,g&&(i.onreadystatechange=lb.noop,$c&&delete Xc[g]),e)4!==i.readyState&&i.abort();else{l={},h=i.status,j=i.getAllResponseHeaders(),"string"==typeof i.responseText&&(l.text=i.responseText);try{k=i.statusText}catch(m){k=""}h||!c.isLocal||c.crossDomain?1223===h&&(h=204):h=l.text?200:404}}catch(n){e||f(-1,n)}l&&f(h,k,l,j)},c.async?4===i.readyState?setTimeout(d):(g=++Zc,$c&&(Xc||(Xc={},lb(a).unload($c)),Xc[g]=d),i.onreadystatechange=d):d()},abort:function(){d&&d(b,!0)}}}});var _c,ad,bd=/^(?:toggle|show|hide)$/,cd=new RegExp("^(?:([+-])=|)("+mb+")([a-z%]*)$","i"),dd=/queueHooks$/,ed=[R],fd={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=cd.exec(b),f=e&&e[3]||(lb.cssNumber[a]?"":"px"),g=(lb.cssNumber[a]||"px"!==f&&+d)&&cd.exec(lb.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,lb.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};lb.Animation=lb.extend(P,{tweener:function(a,b){lb.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],fd[c]=fd[c]||[],fd[c].unshift(b)},prefilter:function(a,b){b?ed.unshift(a):ed.push(a)}}),lb.Tween=S,S.prototype={constructor:S,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(lb.cssNumber[c]?"":"px")},cur:function(){var a=S.propHooks[this.prop];return a&&a.get?a.get(this):S.propHooks._default.get(this)},run:function(a){var b,c=S.propHooks[this.prop];return this.pos=b=this.options.duration?lb.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):S.propHooks._default.set(this),this}},S.prototype.init.prototype=S.prototype,S.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=lb.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){lb.fx.step[a.prop]?lb.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[lb.cssProps[a.prop]]||lb.cssHooks[a.prop])?lb.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},S.propHooks.scrollTop=S.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},lb.each(["toggle","show","hide"],function(a,b){var c=lb.fn[b];lb.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(T(b,!0),a,d,e)}}),lb.fn.extend({fadeTo:function(a,b,c,d){return this.filter(y).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=lb.isEmptyObject(a),f=lb.speed(b,c,d),g=function(){var b=P(this,lb.extend({},a),f);(e||lb._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,c,d){var e=function(a){var b=a.stop;delete a.stop,b(d)};return"string"!=typeof a&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,c=null!=a&&a+"queueHooks",f=lb.timers,g=lb._data(this);if(c)g[c]&&g[c].stop&&e(g[c]);else for(c in g)g[c]&&g[c].stop&&dd.test(c)&&e(g[c]);for(c=f.length;c--;)f[c].elem!==this||null!=a&&f[c].queue!==a||(f[c].anim.stop(d),b=!1,f.splice(c,1));(b||!d)&&lb.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=lb._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=lb.timers,g=d?d.length:0;for(c.finish=!0,lb.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),lb.each({slideDown:T("show"),slideUp:T("hide"),slideToggle:T("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){lb.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),lb.speed=function(a,b,c){var d=a&&"object"==typeof a?lb.extend({},a):{complete:c||!c&&b||lb.isFunction(a)&&a,duration:a,easing:c&&b||b&&!lb.isFunction(b)&&b};return d.duration=lb.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in lb.fx.speeds?lb.fx.speeds[d.duration]:lb.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){lb.isFunction(d.old)&&d.old.call(this),d.queue&&lb.dequeue(this,d.queue)},d},lb.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},lb.timers=[],lb.fx=S.prototype.init,lb.fx.tick=function(){var a,c=lb.timers,d=0;for(_c=lb.now();d<c.length;d++)a=c[d],a()||c[d]!==a||c.splice(d--,1);c.length||lb.fx.stop(),_c=b},lb.fx.timer=function(a){a()&&lb.timers.push(a)&&lb.fx.start()},lb.fx.interval=13,lb.fx.start=function(){ad||(ad=setInterval(lb.fx.tick,lb.fx.interval))},lb.fx.stop=function(){clearInterval(ad),ad=null},lb.fx.speeds={slow:600,fast:200,_default:400},lb.fx.step={},lb.expr&&lb.expr.filters&&(lb.expr.filters.animated=function(a){return lb.grep(lb.timers,function(b){return a===b.elem}).length}),lb.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(b){lb.offset.setOffset(this,a,b)});var c,d,e={top:0,left:0},f=this[0],g=f&&f.ownerDocument;if(g)return c=g.documentElement,lb.contains(c,f)?(typeof f.getBoundingClientRect!==X&&(e=f.getBoundingClientRect()),d=U(g),{top:e.top+(d.pageYOffset||c.scrollTop)-(c.clientTop||0),left:e.left+(d.pageXOffset||c.scrollLeft)-(c.clientLeft||0)}):e},lb.offset={setOffset:function(a,b,c){var d=lb.css(a,"position");"static"===d&&(a.style.position="relative");var e,f,g=lb(a),h=g.offset(),i=lb.css(a,"top"),j=lb.css(a,"left"),k=("absolute"===d||"fixed"===d)&&lb.inArray("auto",[i,j])>-1,l={},m={};k?(m=g.position(),e=m.top,f=m.left):(e=parseFloat(i)||0,f=parseFloat(j)||0),lb.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(l.top=b.top-h.top+e),null!=b.left&&(l.left=b.left-h.left+f),"using"in b?b.using.call(a,l):g.css(l)}},lb.fn.extend({position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===lb.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),lb.nodeName(a[0],"html")||(c=a.offset()),c.top+=lb.css(a[0],"borderTopWidth",!0),c.left+=lb.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-lb.css(d,"marginTop",!0),left:b.left-c.left-lb.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||$;a&&!lb.nodeName(a,"html")&&"static"===lb.css(a,"position");)a=a.offsetParent;return a||$})}}),lb.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,c){var d=/Y/.test(c);lb.fn[a]=function(e){return lb.access(this,function(a,e,f){var g=U(a);return f===b?g?c in g?g[c]:g.document.documentElement[e]:a[e]:void(g?g.scrollTo(d?lb(g).scrollLeft():f,d?f:lb(g).scrollTop()):a[e]=f)},a,e,arguments.length,null)}}),lb.each({Height:"height",Width:"width"},function(a,c){lb.each({padding:"inner"+a,content:c,"":"outer"+a},function(d,e){lb.fn[e]=function(e,f){var g=arguments.length&&(d||"boolean"!=typeof e),h=d||(e===!0||f===!0?"margin":"border");return lb.access(this,function(c,d,e){var f;return lb.isWindow(c)?c.document.documentElement["client"+a]:9===c.nodeType?(f=c.documentElement,Math.max(c.body["scroll"+a],f["scroll"+a],c.body["offset"+a],f["offset"+a],f["client"+a])):e===b?lb.css(c,d,h):lb.style(c,d,e,h)},c,g?e:b,g,null)}})}),lb.fn.size=function(){return this.length},lb.fn.andSelf=lb.fn.addBack,"object"==typeof c&&c&&"object"==typeof c.exports?c.exports=lb:(a.jQuery=a.$=lb,"function"==typeof define&&define.amd&&define("jquery",[],function(){return lb}))}(window)});return c}(),require._modules["/lib/json2.js"]=function(){var __filename="/lib/json2.js",__dirname="/lib",module={loaded:!1,exports:{},filename:__filename,dirname:__dirname,require:null,call:function(){module.loaded=!0,module.call=function(){},__module__()},parent:null,children:[]},process={title:"browser",nextTick:function(a){setTimeout(a,0)}},require=module.require=window.require._bind(module),exports=module.exports,__module__=function(){"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(a){return 10>a?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g,h=gap,i=b[a];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(a)),"function"==typeof rep&&(i=rep.call(b,a,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(gap+=indent,g=[],"[object Array]"===Object.prototype.toString.apply(i)){for(f=i.length,c=0;f>c;c+=1)g[c]=str(c,i)||"null";return e=0===g.length?"[]":gap?"[\n"+gap+g.join(",\n"+gap)+"\n"+h+"]":"["+g.join(",")+"]",gap=h,e}if(rep&&"object"==typeof rep)for(f=rep.length,c=0;f>c;c+=1)"string"==typeof rep[c]&&(d=rep[c],e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));else for(d in i)Object.prototype.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));return e=0===g.length?"{}":gap?"{\n"+gap+g.join(",\n"+gap)+"\n"+h+"}":"{"+g.join(",")+"}",gap=h,e}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(a,b,c){var d;if(gap="",indent="","number"==typeof c)for(d=0;c>d;d+=1)indent+=" ";else"string"==typeof c&&(indent=c);if(rep=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return str("",{"":a})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()};return module}(),require._modules["/lib/object-search.js"]=function(){var a="/lib/object-search.js",b="/lib",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=(c.require=window.require._bind(c),c.exports),e=function(){d.get=function(a,b){return d.find(a,b).get()},d.set=function(a,b,c){return d.find(a,b).set(c)},d.del=function(a,b){return d.find(a,b).del()},d.find=function(a,b){var c=b.split("."),d=c.pop(),e=a;try{for(var f=0,g=c.length;g>f;f++)e=e[c[f]];if(!e)throw null}catch(h){return{get:function(){},set:function(){},del:function(){},object:a,key:b,keys:c,lastKey:d,scope:e,error:h}}return{get:function(){return e[d]},set:function(a){return e[d]=a},del:function(){delete e[d]},object:a,key:b,keys:c,lastKey:d,scope:e}}};return c}(),require._modules["/lib/promise/index.js"]=function(){var a="/lib/promise/index.js",b="/lib/promise",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},f()},parent:null,children:[]},d=c.require=window.require._bind(c),e=c.exports,f=function(){function a(a,d){b(a,d)||c(a,d)}function b(b,c){var d,e;try{if(!(e=k.thenable(c)))return!1}catch(g){return f(b,g),!0}if(b===c)return f(b,new TypeError("Circular resolution of promises")),!0;try{e.call(c,function(e){if(!d){if(d=!0,c===e)return void f(b,new TypeError("Circular resolution of promises"));a(b,e)}},function(a){d||(d=!0,f(b,a))})}catch(g){d||(d=!0,f(b,g))}return!0}function c(a,b){a.state===m&&(h(a,b),g(a,n),setImmediate(function(){g(a,o),i(a)}))}function f(a,b){a.state===m&&(h(a,b),g(a,n),setImmediate(function(){g(a,p),i(a)}))}function g(a,b){k.defineProperty(a,"state",{enumerable:!1,configurable:!b,writable:!1,value:b})}function h(a,b){k.defineProperty(a,"value",{enumerable:!1,configurable:!1,writable:!1,value:b})}function i(a){for(var b=a.funcs,c=0,d=b.length;d>c;c+=3)j(a,b[c],b[c+a.state]);a.funcs.length=0}function j(b,c,d){var e=b.value,g=b.state;if("function"==typeof d){try{e=d(e)}catch(h){return void f(c,h)}a(c,e)}else g===o?a(c,e):g===p&&f(c,e)}var k=d("./utils"),l=function(){return this}.call();if(e.install=function(){l.Promise||(l.Promise=q)},e.uninstall=function(){l.Promise&&l.Promise===q&&(l.Promise=void 0,delete l.Promise)},"Promise"in l)return void(e.Promise=l.Promise);var m=void 0,n=0,o=1,p=2,q=e.Promise=function(b){function c(b){a(e,b)}function d(a){f(e,a)}if("function"!=typeof b)throw new TypeError("Promise constructor takes a function argument");if(!(this instanceof q))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var e=this;k.defineProperty(this,"funcs",{enumerable:!1,configurable:!1,writable:!1,value:[]}),k.defineProperty(this,"value",{enumerable:!1,configurable:!0,writable:!1,value:void 0});try{b(c,d)}catch(g){d(g)}};q.prototype.then=function(a,b){var c=this,d=new q(function(){});return this.state?setImmediate(function(){j(c,d,c.state===o?a:b)}):this.funcs.push(d,a,b),d},q.prototype.catch=function(a){return this.then(null,a)},q.resolve=function(a){function b(b){b(a)}try{var c=k.thenable(a)}catch(d){return new q(b)}var e=c?function(b,d){c.call(a,b,d)}:b;return new q(e)},q.reject=function(a){return new q(function(b,c){c(a)})},q.all=function(a){return new q(function(b,c){function d(){f||g||(f=!0,b(e))}if(!Array.isArray(a))return void b([]);var e=[],f=!1,g=a.length;a.forEach(function(a,b){var h=k.thenable(a);return h?void h.call(a,function(a){g--,e[b]=a,d()},function(a){f=!0,c(a)}):void onResolve(a)})})},q.race=function(b){var c=new q(function(){});return b.forEach(function(b){b.then(function(b){a(c,b)},function(a){f(c,a)})}),c}};return c}(),require._modules["/lib/promise/utils.js"]=function(){var a="/lib/promise/utils.js",b="/lib/promise",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},f()},parent:null,children:[]},d=c.require=window.require._bind(c),e=c.exports,f=function(){var a=function(){return this}.call();e.thenable=function(a){if(a&&("object"==typeof a||"function"==typeof a)){try{var b=a.then}catch(c){throw c}if("function"==typeof b)return b}return!1},e.defineProperty=function(a,b,c){if(Object.defineProperty)try{return Object.defineProperty(a,b,c)}catch(d){}c.value&&(a[b]=c.value)},a.setImmediate||(a.setImmediate=function(a){setTimeout(a,0)}),e.log=function(a){console.log(d("util").inspect(a,{colors:!0,showHidden:!0,depth:2}))}};return c}(),require._modules["/lib/rich-text/Gruntfile.js"]=function(){var a="/lib/rich-text/Gruntfile.js",b="/lib/rich-text",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){var a=d("fs");c.exports=function(b){var c=["test/is.js","test/attributes.js","test/op.js","test/delta/builder.js","test/delta/helpers.js","test/delta/compose.js","test/delta/transform.js","test/delta/transform-position.js","test/delta/diff.js"];b.registerTask("coverage",function(){b.util.spawn({cmd:"./node_modules/.bin/istanbul",args:["cover","./node_modules/.bin/_mocha"].concat(c).concat(["--dir",".coverage"]),opts:{stdio:"inherit"}},this.async())}),b.registerTask("coverage:fuzzer",function(){b.util.spawn({cmd:"./node_modules/.bin/istanbul",args:["cover","./node_modules/.bin/_mocha","test/fuzzer.js","--dir",".coverage"],opts:{stdio:"inherit"}},this.async())}),b.registerTask("coverage:report",function(){var c=a.createReadStream(".coverage/lcov.info"),d=b.util.spawn({cmd:"./node_modules/coveralls/bin/coveralls.js"},this.async());c.pipe(d.stdin)}),b.registerTask("test",function(){b.util.spawn({cmd:"./node_modules/.bin/mocha",args:c.concat(["test/fuzzer.js"]),opts:{stdio:"inherit"}},this.async())}),b.registerTask("test:unit",function(){b.util.spawn({cmd:"./node_modules/.bin/mocha",args:c,opts:{stdio:"inherit"}},this.async())}),b.registerTask("test:fuzzer",function(){b.util.spawn({cmd:"./node_modules/.bin/mocha",args:["test/fuzzer.js"],opts:{stdio:"inherit"}},this.async())})}});return c}(),require._modules["/lib/rich-text/index.js"]=function(){var a="/lib/rich-text/index.js",b="/lib/rich-text",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){c.exports=d("./lib/type")});return c}(),require._modules["/lib/rich-text/lib/delta.js"]=function(){var a="/lib/rich-text/lib/delta.js",b="/lib/rich-text/lib",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){var a=d("fast-diff"),b=d("./is"),e=d("./op"),f=String.fromCharCode(0),g=function(a){this.ops=b.array(a)?a:b.object(a)&&b.array(a.ops)?a.ops:[]};g.prototype.insert=function(a,c){var d={};if(b.string(a)){if(0===a.length)return this;d.insert=a}else b.number(a)&&(d.insert=a);return b.object(c)&&Object.keys(c).length>0&&(d.attributes=c),this.push(d)},g.prototype["delete"]=function(a){return 0>=a?this:this.push({"delete":a})},g.prototype.retain=function(a,c){if(0>=a)return this;var d={retain:a};return b.object(c)&&Object.keys(c).length>0&&(d.attributes=c),this.push(d)},g.prototype.push=function(a){var c=this.ops.length,d=this.ops[c-1];if(a=e.clone(a),b.object(d)){if(b.number(a["delete"])&&b.number(d["delete"]))return this.ops[c-1]={"delete":d["delete"]+a["delete"]},this;if(b.number(d["delete"])&&(b.string(a.insert)||b.number(a.insert))&&(c-=1,d=this.ops[c-1],!b.object(d)))return this.ops.unshift(a),this;if(b.equal(a.attributes,d.attributes)){if(b.string(a.insert)&&b.string(d.insert))return this.ops[c-1]={insert:d.insert+a.insert},b.object(a.attributes)&&(this.ops[c-1].attributes=a.attributes),this;if(b.number(a.retain)&&b.number(d.retain))return this.ops[c-1]={retain:d.retain+a.retain},b.object(a.attributes)&&(this.ops[c-1].attributes=a.attributes),this}}return this.ops.splice(c,0,a),this},g.prototype.chop=function(){var a=this.ops[this.ops.length-1];return a&&a.retain&&!a.attributes&&this.ops.pop(),this},g.prototype.length=function(){return this.ops.reduce(function(a,b){return a+e.length(b)},0)},g.prototype.slice=function(a,c){a=a||0,b.number(c)||(c=1/0);for(var d=new g,f=e.iterator(this.ops),h=0;c>h&&f.hasNext();){var i;a>h?i=f.next(a-h):(i=f.next(c-h),d.push(i)),h+=e.length(i)}return d},g.prototype.compose=function(a){var c=e.iterator(this.ops),d=e.iterator(a.ops);for(this.ops=[];c.hasNext()||d.hasNext();)if("insert"===d.peekType())this.push(d.next());else if("delete"===c.peekType())this.push(c.next());else{var f=Math.min(c.peekLength(),d.peekLength()),g=c.next(f),h=d.next(f);if(b.number(h.retain)){var i={};b.number(g.retain)?i.retain=f:i.insert=g.insert;var j=e.attributes.compose(g.attributes,h.attributes,b.number(g.retain));j&&(i.attributes=j),this.push(i)}else b.number(h["delete"])&&b.number(g.retain)&&this.push(h)}return this.chop()},g.prototype.diff=function(c){var d=[this.ops,c.ops].map(function(a){return a.map(function(d){if(b.string(d.insert))return d.insert;if(b.number(d.insert))return f;var e=a===c.ops?"on":"with";throw new Error("diff() called "+e+" non-document")}).join("")}),h=a(d[0],d[1]),i=e.iterator(this.ops),j=e.iterator(c.ops),k=new g;return h.forEach(function(b){for(var c=b[1].length;c>0;){var d=0;switch(b[0]){case a.INSERT:d=Math.min(j.peekLength(),c),k.push(j.next(d));break;case a.DELETE:d=Math.min(c,i.peekLength()),i.next(d),k["delete"](d);break;case a.EQUAL:d=Math.min(i.peekLength(),j.peekLength(),c);var f=i.next(d),g=j.next(d);f.insert===g.insert?k.retain(d,e.attributes.diff(f.attributes,g.attributes)):k.push(g)["delete"](d)}c-=d}}),k.chop()},g.prototype.transform=function(a,c){if(c=!!c,b.number(a))return this.transformPosition(a,c);for(var d=e.iterator(this.ops),f=e.iterator(a.ops),h=new g;d.hasNext()||f.hasNext();)if("insert"!==d.peekType()||!c&&"insert"===f.peekType())if("insert"===f.peekType())h.push(f.next());else{var i=Math.min(d.peekLength(),f.peekLength()),j=d.next(i),k=f.next(i);if(j["delete"])continue;k["delete"]?h.push(k):h.retain(i,e.attributes.transform(j.attributes,k.attributes,c))}else h.retain(e.length(d.next()));return h.chop()},g.prototype.transformPosition=function(a,b){b=!!b;for(var c=e.iterator(this.ops),d=0;c.hasNext()&&a>=d;){var f=c.peekLength(),g=c.peekType();c.next(),"delete"!==g?("insert"===g&&(a>d||!b)&&(a+=f),d+=f):a-=Math.min(f,a-d)}return a},c.exports=g});return c}(),require._modules["/lib/rich-text/lib/is.js"]=function(){var a="/lib/rich-text/lib/is.js",b="/lib/rich-text/lib",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},d()},parent:null,children:[]},d=(c.require=window.require._bind(c),c.exports,function(){c.exports={equal:function(a,b){if(a===b)return!0;if(null==a&&null==b)return!0;if(null==a||null==b)return!1;if(Object.keys(a).length!=Object.keys(b).length)return!1;for(var c in a)if(a[c]!==b[c])return!1;return!0},array:function(a){return Array.isArray(a)},number:function(a){return"number"==typeof a?!0:"object"==typeof a&&"[object Number]"===Object.prototype.toString.call(a)?!0:!1},object:function(a){return a?"function"==typeof a||"object"==typeof a:!1},string:function(a){return"string"==typeof a?!0:"object"==typeof a&&"[object String]"===Object.prototype.toString.call(a)?!0:!1}}});return c}(),require._modules["/lib/rich-text/lib/op.js"]=function(){var a="/lib/rich-text/lib/op.js",b="/lib/rich-text/lib",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){function a(a){this.ops=a,this.index=0,this.offset=0}var b=d("./is"),e={attributes:{clone:function(a,c){return b.object(a)?Object.keys(a).reduce(function(b,d){return void 0===a[d]||null===a[d]&&!c||(b[d]=a[d]),b},{}):{}},compose:function(a,c,d){b.object(a)||(a={}),b.object(c)||(c={});var e=this.clone(c,d);for(var f in a)void 0!==a[f]&&void 0===c[f]&&(e[f]=a[f]);return Object.keys(e).length>0?e:void 0},diff:function(a,c){b.object(a)||(a={}),b.object(c)||(c={});var d=Object.keys(a).concat(Object.keys(c)).reduce(function(b,d){return a[d]!==c[d]&&(b[d]=void 0===c[d]?null:c[d]),b},{});return Object.keys(d).length>0?d:void 0},transform:function(a,c,d){if(!b.object(a))return c;if(!b.object(c))return void 0;if(!d)return c;var e=Object.keys(c).reduce(function(b,d){return void 0===a[d]&&(b[d]=c[d]),b},{});return Object.keys(e).length>0?e:void 0}},clone:function(a){var c=this.attributes.clone(a);return b.object(c.attributes)&&(c.attributes=this.attributes.clone(c.attributes,!0)),c},iterator:function(b){return new a(b)},length:function(a){return b.number(a["delete"])?a["delete"]:b.number(a.retain)?a.retain:b.string(a.insert)?a.insert.length:1}};a.prototype.hasNext=function(){return this.peekLength()<1/0},a.prototype.next=function(a){a||(a=1/0);var c=this.ops[this.index];if(c){var d=this.offset,f=e.length(c);if(a>=f-d?(a=f-d,this.index+=1,this.offset=0):this.offset+=a,b.number(c["delete"]))return{"delete":a};var g={};return c.attributes&&(g.attributes=c.attributes),b.number(c.retain)?g.retain=a:g.insert=b.string(c.insert)?c.insert.substr(d,a):c.insert,g}return{retain:1/0}},a.prototype.peekLength=function(){return this.ops[this.index]?e.length(this.ops[this.index])-this.offset:1/0},a.prototype.peekType=function(){return this.ops[this.index]?b.number(this.ops[this.index]["delete"])?"delete":b.number(this.ops[this.index].retain)?"retain":"insert":"retain"},c.exports=e});return c}(),require._modules["/lib/rich-text/lib/type.js"]=function(){var a="/lib/rich-text/lib/type.js",b="/lib/rich-text/lib",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){var a=d("./delta");c.exports={Delta:a,name:"rich-text",uri:"http://sharejs.org/types/rich-text/v1",create:function(b){return new a(b)},apply:function(b,c){return b=new a(b),c=new a(c),b.compose(c)},compose:function(b,c){return b=new a(b),c=new a(c),b.compose(c)},diff:function(b,c){return b=new a(b),c=new a(c),b.diff(c)},transform:function(b,c,d){return b=new a(b),c=new a(c),c.transform(b,"left"===d)}}});return c}(),require._modules["/lib/rich-text/test/attributes.js"]=function(){var a="/lib/rich-text/test/attributes.js",b="/lib/rich-text/test",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){var a=d("../lib/op"),b=d("chai").expect;describe("attributes",function(){describe("clone()",function(){var c={bold:!0,color:"red",italic:null};it("undefined",function(){b(a.attributes.clone(void 0)).to.deep.equal({})}),it("keep null",function(){var d=a.attributes.clone(c,!0);b(d===c).to.equal(!1),b(d).to.deep.equal(c)}),it("dont keep null",function(){var d=a.attributes.clone(c,!1);b(d===c).to.equal(!1),b(d).to.deep.equal({bold:!0,color:"red"})})}),describe("compose()",function(){var c={bold:!0,color:"red"};it("left is undefined",function(){b(a.attributes.compose(void 0,c)).to.deep.equal(c)}),it("right is undefined",function(){b(a.attributes.compose(c,void 0)).to.deep.equal(c)}),it("both are undefined",function(){b(a.attributes.compose(void 0,void 0)).to.equal(void 0)}),it("missing",function(){b(a.attributes.compose(c,{italic:!0})).to.deep.equal({bold:!0,italic:!0,color:"red"})}),it("overwrite",function(){b(a.attributes.compose(c,{bold:!1,color:"blue"})).to.deep.equal({bold:!1,color:"blue"})}),it("remove",function(){b(a.attributes.compose(c,{bold:null})).to.deep.equal({color:"red"})}),it("remove to none",function(){b(a.attributes.compose(c,{bold:null,color:null})).to.equal(void 0)}),it("remove missing",function(){b(a.attributes.compose(c,{italic:null})).to.deep.equal(c)})}),describe("diff()",function(){var c={bold:!0,color:"red"};it("left is undefined",function(){b(a.attributes.diff(void 0,c)).to.deep.equal(c)}),it("right is undefined",function(){var d={bold:null,color:null};b(a.attributes.diff(c,void 0)).to.deep.equal(d)}),it("same format",function(){b(a.attributes.diff(c,c)).to.equal(void 0)}),it("add format",function(){var d={bold:!0,italic:!0,color:"red"},e={italic:!0};b(a.attributes.diff(c,d)).to.deep.equal(e)}),it("remove format",function(){var d={bold:!0},e={color:null};b(a.attributes.diff(c,d)).to.deep.equal(e)}),it("overwrite format",function(){var d={bold:!0,color:"blue"},e={color:"blue"};b(a.attributes.diff(c,d)).to.deep.equal(e)})}),describe("transform()",function(){var c={bold:!0,color:"red",font:null},d={color:"blue",font:"serif",italic:!0};it("left is undefined",function(){b(a.attributes.transform(void 0,c,!1)).to.deep.equal(c)}),it("right is undefined",function(){b(a.attributes.transform(c,void 0,!1)).to.equal(void 0)}),it("both are undefined",function(){b(a.attributes.transform(void 0,void 0,!1)).to.equal(void 0)}),it("with priority",function(){b(a.attributes.transform(c,d,!0)).to.deep.equal({italic:!0})}),it("without priority",function(){b(a.attributes.transform(c,d,!1)).to.deep.equal(d)})})})});return c}(),require._modules["/lib/rich-text/test/delta/builder.js"]=function(){var a="/lib/rich-text/test/delta/builder.js",b="/lib/rich-text/test/delta",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){var a=d("../../lib/delta"),b=d("chai").expect;describe("constructor",function(){var c=[{insert:"abc"},{retain:1,attributes:{color:"red"}},{"delete":4},{insert:"def",attributes:{bold:!0}},{retain:6}];it("empty",function(){var c=new a;b(c).to.exist,b(c.ops).to.exist,b(c.ops.length).to.equal(0)}),it("empty ops",function(){var c=(new a).insert("").delete(0).retain(0);b(c).to.exist,b(c.ops).to.exist,b(c.ops.length).to.equal(0)}),it("array of ops",function(){var d=new a(c);
b(d.ops).to.deep.equal(c)}),it("delta in object form",function(){var d=new a({ops:c});b(d.ops).to.deep.equal(c)}),it("delta",function(){var d=new a(c),e=new a(d);b(e.ops).to.deep.equal(d.ops),b(e.ops).to.deep.equal(c)})}),describe("insert()",function(){it("insert(text)",function(){var c=(new a).insert("test");b(c.ops.length).to.equal(1),b(c.ops[0]).to.deep.equal({insert:"test"})}),it("insert(embed)",function(){var c=(new a).insert(1);b(c.ops.length).to.equal(1),b(c.ops[0]).to.deep.equal({insert:1})}),it("insert(embed, attributes)",function(){var c={url:"http://quilljs.com",alt:"Quill"},d=(new a).insert(1,c);b(d.ops.length).to.equal(1),b(d.ops[0]).to.deep.equal({insert:1,attributes:c})}),it("insert(text, attributes)",function(){var c=(new a).insert("test",{bold:!0});b(c.ops.length).to.equal(1),b(c.ops[0]).to.deep.equal({insert:"test",attributes:{bold:!0}})}),it("insert(text) after delete",function(){var c=(new a).delete(1).insert("a"),d=(new a).insert("a").delete(1);b(c).to.deep.equal(d)}),it("insert(text) after delete with merge",function(){var c=(new a).insert("a").delete(1).insert("b"),d=(new a).insert("ab").delete(1);b(c).to.deep.equal(d)}),it("insert(text) after delete no merge",function(){var c=(new a).insert(1).delete(1).insert("a"),d=(new a).insert(1).insert("a").delete(1);b(c).to.deep.equal(d)}),it("insert(text, {})",function(){var c=(new a).insert("a",{}),d=(new a).insert("a");b(c).to.deep.equal(d)})}),describe("delete()",function(){it("delete(0)",function(){var c=(new a).delete(0);b(c.ops.length).to.equal(0)}),it("delete(positive)",function(){var c=(new a).delete(1);b(c.ops.length).to.equal(1),b(c.ops[0]).to.deep.equal({"delete":1})})}),describe("retain()",function(){it("retain(0)",function(){var c=(new a).retain(0);b(c.ops.length).to.equal(0)}),it("retain(length)",function(){var c=(new a).retain(2);b(c.ops.length).to.equal(1),b(c.ops[0]).to.deep.equal({retain:2})}),it("retain(length, attributes)",function(){var c=(new a).retain(1,{bold:!0});b(c.ops.length).to.equal(1),b(c.ops[0]).to.deep.equal({retain:1,attributes:{bold:!0}})}),it("retain(length, {})",function(){var c=(new a).retain(2,{}).delete(1),d=(new a).retain(2).delete(1);b(c).to.deep.equal(d)})}),describe("push()",function(){it("push(op) into empty",function(){var c=new a;c.push({insert:"test"}),b(c.ops.length).to.equal(1)}),it("push(op) consecutive delete",function(){var c=(new a).delete(2);c.push({"delete":3}),b(c.ops.length).to.equal(1),b(c.ops[0]).to.deep.equal({"delete":5})}),it("push(op) consecutive text",function(){var c=(new a).insert("a");c.push({insert:"b"}),b(c.ops.length).to.equal(1),b(c.ops[0]).to.deep.equal({insert:"ab"})}),it("push(op) consecutive texts with matching attributes",function(){var c=(new a).insert("a",{bold:!0});c.push({insert:"b",attributes:{bold:!0}}),b(c.ops.length).to.equal(1),b(c.ops[0]).to.deep.equal({insert:"ab",attributes:{bold:!0}})}),it("push(op) consecutive retains with matching attributes",function(){var c=(new a).retain(1,{bold:!0});c.push({retain:3,attributes:{bold:!0}}),b(c.ops.length).to.equal(1),b(c.ops[0]).to.deep.equal({retain:4,attributes:{bold:!0}})}),it("push(op) consecutive texts with mismatched attributes",function(){var c=(new a).insert("a",{bold:!0});c.push({insert:"b"}),b(c.ops.length).to.equal(2)}),it("push(op) consecutive retains with mismatched attributes",function(){var c=(new a).retain(1,{bold:!0});c.push({retain:3}),b(c.ops.length).to.equal(2)}),it("push(op) consecutive embeds with matching attributes",function(){var c=(new a).insert({url:"http://quilljs.com"});c.push({attributes:{url:"http://quilljs.com"}}),b(c.ops.length).to.equal(2)})})});return c}(),require._modules["/lib/rich-text/test/delta/compose.js"]=function(){var a="/lib/rich-text/test/delta/compose.js",b="/lib/rich-text/test/delta",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){var a=d("../../lib/delta"),b=d("chai").expect;describe("compose()",function(){it("insert + insert",function(){var c=(new a).insert("A"),d=(new a).insert("B"),e=(new a).insert("B").insert("A");b(c.compose(d)).to.deep.equal(e)}),it("insert + retain",function(){var c=(new a).insert("A"),d=(new a).retain(1,{bold:!0,color:"red",font:null}),e=(new a).insert("A",{bold:!0,color:"red"});b(c.compose(d)).to.deep.equal(e)}),it("insert + delete",function(){var c=(new a).insert("A"),d=(new a).delete(1),e=new a;b(c.compose(d)).to.deep.equal(e)}),it("delete + insert",function(){var c=(new a).delete(1),d=(new a).insert("B"),e=(new a).insert("B").delete(1);b(c.compose(d)).to.deep.equal(e)}),it("delete + retain",function(){var c=(new a).delete(1),d=(new a).retain(1,{bold:!0,color:"red"}),e=(new a).delete(1).retain(1,{bold:!0,color:"red"});b(c.compose(d)).to.deep.equal(e)}),it("delete + delete",function(){var c=(new a).delete(1),d=(new a).delete(1),e=(new a).delete(2);b(c.compose(d)).to.deep.equal(e)}),it("retain + insert",function(){var c=(new a).retain(1,{color:"blue"}),d=(new a).insert("B"),e=(new a).insert("B").retain(1,{color:"blue"});b(c.compose(d)).to.deep.equal(e)}),it("retain + retain",function(){var c=(new a).retain(1,{color:"blue"}),d=(new a).retain(1,{bold:!0,color:"red",font:null}),e=(new a).retain(1,{bold:!0,color:"red",font:null});b(c.compose(d)).to.deep.equal(e)}),it("retain + delete",function(){var c=(new a).retain(1,{color:"blue"}),d=(new a).delete(1),e=(new a).delete(1);b(c.compose(d)).to.deep.equal(e)}),it("insert in middle of text",function(){var c=(new a).insert("Hello"),d=(new a).retain(3).insert("X"),e=(new a).insert("HelXlo");b(c.compose(d)).to.deep.equal(e)}),it("insert and delete ordering",function(){var c=(new a).insert("Hello"),d=(new a).insert("Hello"),e=(new a).retain(3).insert("X").delete(1),f=(new a).retain(3).delete(1).insert("X"),g=(new a).insert("HelXo");b(c.compose(e)).to.deep.equal(g),b(d.compose(f)).to.deep.equal(g)}),it("insert embed",function(){var c=(new a).insert(1,{src:"http://quilljs.com/image.png"}),d=(new a).retain(1,{alt:"logo"}),e=(new a).insert(1,{src:"http://quilljs.com/image.png",alt:"logo"});b(c.compose(d)).to.deep.equal(e)}),it("delete entire text",function(){var c=(new a).retain(4).insert("Hello"),d=(new a).delete(9),e=(new a).delete(4);b(c.compose(d)).to.deep.equal(e)}),it("retain more than length of text",function(){var c=(new a).insert("Hello"),d=(new a).retain(10),e=(new a).insert("Hello");b(c.compose(d)).to.deep.equal(e)}),it("retain empty embed",function(){var c=(new a).insert(1),d=(new a).retain(1),e=(new a).insert(1);b(c.compose(d)).to.deep.equal(e)}),it("remove all attributes",function(){var c=(new a).insert("A",{bold:!0}),d=(new a).retain(1,{bold:null}),e=(new a).insert("A");b(c.compose(d)).to.deep.equal(e)}),it("remove all embed attributes",function(){var c=(new a).insert(2,{bold:!0}),d=(new a).retain(1,{bold:null}),e=(new a).insert(2);b(c.compose(d)).to.deep.equal(e)})})});return c}(),require._modules["/lib/rich-text/test/delta/diff.js"]=function(){var a="/lib/rich-text/test/delta/diff.js",b="/lib/rich-text/test/delta",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){var a=d("../../lib/delta"),b=d("chai").expect;describe("diff()",function(){it("insert",function(){var c=(new a).insert("A"),d=(new a).insert("AB"),e=(new a).retain(1).insert("B");b(c.diff(d)).to.deep.equal(e)}),it("delete",function(){var c=(new a).insert("AB"),d=(new a).insert("A"),e=(new a).retain(1).delete(1);b(c.diff(d)).to.deep.equal(e)}),it("retain",function(){var c=(new a).insert("A"),d=(new a).insert("A"),e=new a;b(c.diff(d)).to.deep.equal(e)}),it("format",function(){var c=(new a).insert("A"),d=(new a).insert("A",{bold:!0}),e=(new a).retain(1,{bold:!0});b(c.diff(d)).to.deep.equal(e)}),it("embed match",function(){var c=(new a).insert(1),d=(new a).insert(1),e=new a;b(c.diff(d)).to.deep.equal(e)}),it("embed false positive",function(){var c=(new a).insert(1),d=(new a).insert(String.fromCharCode(0)),e=(new a).insert(String.fromCharCode(0)).delete(1);b(c.diff(d)).to.deep.equal(e)}),it("error on non-documents",function(){var c=(new a).insert("A"),d=(new a).retain(1).insert("B");b(function(){c.diff(d)}).to.throw(Error),b(function(){d.diff(c)}).to.throw(Error)}),it("inconvenient indexes",function(){var c=(new a).insert("12",{bold:!0}).insert("34",{italic:!0}),d=(new a).insert("123",{color:"red"}),e=(new a).retain(2,{bold:null,color:"red"}).retain(1,{italic:null,color:"red"}).delete(1);b(c.diff(d)).to.deep.equal(e)}),it("combination",function(){var c=(new a).insert("Bad",{color:"red"}).insert("cat",{color:"blue"}),d=(new a).insert("Good",{bold:!0}).insert("dog",{italic:!0}),e=(new a).insert("Good",{bold:!0}).delete(2).retain(1,{italic:!0,color:null}).delete(3).insert("og",{italic:!0});b(c.diff(d)).to.deep.equal(e)})})});return c}(),require._modules["/lib/rich-text/test/delta/helpers.js"]=function(){var a="/lib/rich-text/test/delta/helpers.js",b="/lib/rich-text/test/delta",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){var a=d("../../lib/delta"),b=d("chai").expect;describe("helpers",function(){describe("chop()",function(){it("retain",function(){var c=(new a).insert("Test").retain(4),d=(new a).insert("Test");b(c.chop()).to.deep.equal(d)}),it("insert",function(){var c=(new a).insert("Test"),d=(new a).insert("Test");b(c.chop()).to.deep.equal(d)}),it("formatted retain",function(){var c=(new a).insert("Test").retain(4,{bold:!0}),d=(new a).insert("Test").retain(4,{bold:!0});b(c.chop()).to.deep.equal(d)})}),describe("length()",function(){it("document",function(){var c=(new a).insert("AB",{bold:!0}).insert(1);b(c.length()).to.equal(3)}),it("mixed",function(){var c=(new a).insert("AB",{bold:!0}).insert(1).retain(2,{bold:null}).delete(1);b(c.length()).to.equal(6)})}),describe("slice()",function(){it("start",function(){var c=(new a).retain(2).insert("A").slice(2),d=(new a).insert("A");b(c).to.deep.equal(d)}),it("start and end chop",function(){var c=(new a).insert("0123456789").slice(2,7),d=(new a).insert("23456");b(c).to.deep.equal(d)}),it("start and end multiple chop",function(){var c=(new a).insert("0123",{bold:!0}).insert("4567").slice(3,5),d=(new a).insert("3",{bold:!0}).insert("4");b(c).to.deep.equal(d)}),it("start and end",function(){var c=(new a).retain(2).insert("A",{bold:!0}).insert("B").slice(2,3),d=(new a).insert("A",{bold:!0});b(c).to.deep.equal(d)}),it("no params",function(){var c=(new a).retain(2).insert("A",{bold:!0}).insert("B"),d=c.slice();b(d).to.deep.equal(c)}),it("split ops",function(){var c=(new a).insert("AB",{bold:!0}).insert("C").slice(1,2),d=(new a).insert("B",{bold:!0});b(c).to.deep.equal(d)}),it("split ops multiple times",function(){var c=(new a).insert("ABC",{bold:!0}).insert("D").slice(1,2),d=(new a).insert("B",{bold:!0});b(c).to.deep.equal(d)})})})});return c}(),require._modules["/lib/rich-text/test/delta/transform-position.js"]=function(){var a="/lib/rich-text/test/delta/transform-position.js",b="/lib/rich-text/test/delta",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){var a=d("../../lib/delta"),b=d("chai").expect;describe("transformPosition()",function(){it("insert before position",function(){var c=(new a).insert("A");b(c.transform(2)).to.equal(3)}),it("insert after position",function(){var c=(new a).retain(2).insert("A");b(c.transform(1)).to.equal(1)}),it("insert at position",function(){var c=(new a).retain(2).insert("A");b(c.transform(2,!0)).to.equal(2),b(c.transform(2,!1)).to.equal(3)}),it("delete before position",function(){var c=(new a).delete(2);b(c.transform(4)).to.equal(2)}),it("delete after position",function(){var c=(new a).retain(4).delete(2);b(c.transform(2)).to.equal(2)}),it("delete across position",function(){var c=(new a).retain(1).delete(4);b(c.transform(2)).to.equal(1)}),it("insert and delete before position",function(){var c=(new a).retain(2).insert("A").delete(2);b(c.transform(4)).to.equal(3)}),it("insert before and delete across position",function(){var c=(new a).retain(2).insert("A").delete(4);b(c.transform(4)).to.equal(3)}),it("delete before and delete across position",function(){var c=(new a).delete(1).retain(1).delete(4);b(c.transform(4)).to.equal(1)})})});return c}(),require._modules["/lib/rich-text/test/delta/transform.js"]=function(){var a="/lib/rich-text/test/delta/transform.js",b="/lib/rich-text/test/delta",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){var a=d("../../lib/delta"),b=d("chai").expect;describe("transform()",function(){it("insert + insert",function(){var c=(new a).insert("A"),d=(new a).insert("B"),e=new a(c),f=new a(d),g=(new a).retain(1).insert("B"),h=(new a).insert("B");b(c.transform(d,!0)).to.deep.equal(g),b(e.transform(f,!1)).to.deep.equal(h)}),it("insert + retain",function(){var c=(new a).insert("A"),d=(new a).retain(1,{bold:!0,color:"red"}),e=(new a).retain(1).retain(1,{bold:!0,color:"red"});b(c.transform(d,!0)).to.deep.equal(e)}),it("insert + delete",function(){var c=(new a).insert("A"),d=(new a).delete(1),e=(new a).retain(1).delete(1);b(c.transform(d,!0)).to.deep.equal(e)}),it("delete + insert",function(){var c=(new a).delete(1),d=(new a).insert("B"),e=(new a).insert("B");b(c.transform(d,!0)).to.deep.equal(e)}),it("delete + retain",function(){var c=(new a).delete(1),d=(new a).retain(1,{bold:!0,color:"red"}),e=new a;b(c.transform(d,!0)).to.deep.equal(e)}),it("delete + delete",function(){var c=(new a).delete(1),d=(new a).delete(1),e=new a;b(c.transform(d,!0)).to.deep.equal(e)}),it("retain + insert",function(){var c=(new a).retain(1,{color:"blue"}),d=(new a).insert("B"),e=(new a).insert("B");b(c.transform(d,!0)).to.deep.equal(e)}),it("retain + retain",function(){var c=(new a).retain(1,{color:"blue"}),d=(new a).retain(1,{bold:!0,color:"red"}),e=(new a).retain(1,{color:"blue"}),f=(new a).retain(1,{bold:!0,color:"red"}),g=(new a).retain(1,{bold:!0}),h=new a;b(c.transform(d,!0)).to.deep.equal(g),b(f.transform(e,!0)).to.deep.equal(h)}),it("retain + retain without priority",function(){var c=(new a).retain(1,{color:"blue"}),d=(new a).retain(1,{bold:!0,color:"red"}),e=(new a).retain(1,{color:"blue"}),f=(new a).retain(1,{bold:!0,color:"red"}),g=(new a).retain(1,{bold:!0,color:"red"}),h=(new a).retain(1,{color:"blue"});b(c.transform(d,!1)).to.deep.equal(g),b(f.transform(e,!1)).to.deep.equal(h)}),it("retain + delete",function(){var c=(new a).retain(1,{color:"blue"}),d=(new a).delete(1),e=(new a).delete(1);b(c.transform(d,!0)).to.deep.equal(e)}),it("alternating edits",function(){var c=(new a).retain(2).insert("si").delete(5),d=(new a).retain(1).insert("e").delete(5).retain(1).insert("ow"),e=new a(c),f=new a(d),g=(new a).retain(1).insert("e").delete(1).retain(2).insert("ow"),h=(new a).retain(2).insert("si").delete(1);b(c.transform(d,!1)).to.deep.equal(g),b(f.transform(e,!1)).to.deep.equal(h)}),it("conflicting appends",function(){var c=(new a).retain(3).insert("aa"),d=(new a).retain(3).insert("bb"),e=new a(c),f=new a(d),g=(new a).retain(5).insert("bb"),h=(new a).retain(3).insert("aa");b(c.transform(d,!0)).to.deep.equal(g),b(f.transform(e,!1)).to.deep.equal(h)}),it("prepend + append",function(){var c=(new a).insert("aa"),d=(new a).retain(3).insert("bb"),e=(new a).retain(5).insert("bb"),f=new a(c),g=new a(d),h=(new a).insert("aa");b(c.transform(d,!1)).to.deep.equal(e),b(g.transform(f,!1)).to.deep.equal(h)}),it("trailing deletes with differing lengths",function(){var c=(new a).retain(2).delete(1),d=(new a).delete(3),e=(new a).delete(2),f=new a(c),g=new a(d),h=new a;b(c.transform(d,!1)).to.deep.equal(e),b(g.transform(f,!1)).to.deep.equal(h)})})});return c}(),require._modules["/lib/rich-text/test/fuzzer.js"]=function(){var a="/lib/rich-text/test/fuzzer.js",b="/lib/rich-text/test",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){function a(a){var b={};for(var c in i)if(f.randomReal()<.5){var d=i[c][f.randomInt(i[c].length)];(d||a)&&(b[c]=d)}return Object.keys(b).length>0?b:void 0}function b(b){b=e.cloneDeep(b);var d=b.ops.reduce(function(a,c){if(!c.insert)throw console.error(b),new Error("Snapshot should only have inserts");return a+(e.isString(c.insert)?c.insert.length:1)},0),g=d>100?10:7,i=new h,j=new h;do{var k=f.randomInt(Math.min(d,5)+1);d-=k;var l=Math.min(d,f.randomInt(4)+1);i.retain(k);var m=c(b,k);for(var n in m)j.push(m[n]);switch(f.randomInt(g)){case 0:var o=f.randomWord();i.insert(o),j.insert(o);break;case 1:var o=f.randomWord(),p=a(!1);i.insert(o,p),j.insert(o,p);break;case 2:var q=f.randomInt(2)+1,p=a(!1);i.insert(q,p),j.insert(q,p);break;case 3:case 4:var r=a(!0);i.retain(l,r),m=c(b,l);for(var n in m){m[n].attributes=m[n].attributes||{};for(var s in r)m[n].attributes[s]=null===r[s]?void 0:r[s];m[n].attributes=e.reduce(m[n].attributes,function(a,b,c){return null!==b&&void 0!==b&&(a[c]=b),a},{});var t={insert:m[n].insert};e.keys(m[n].attributes).length>0&&(t.attributes=m[n].attributes),j.push(t)}d-=l;break;default:c(b,l),i.delete(l),d-=l}}while(d>0&&f.randomInt(2)>0);for(var n in b.ops)j.push(b.ops[n]);return[i,j]}function c(a,b){for(var c=[];b>0;){var d;if(e.isString(a.ops[0].insert))if(b>=a.ops[0].insert.length)d=a.ops[0].insert.length,c.push(a.ops.shift());else{var f=a.ops[0].insert.substr(0,b);a.ops[0].insert=a.ops[0].insert.substr(f.length),d=f.length;var g={insert:f};a.ops[0].attributes&&(g.attributes=e.clone(a.ops[0].attributes)),c.push(g)}else c.push(a.ops.shift()),d=1;b-=d}return c}var e=d("lodash"),f=d("ot-fuzzer"),g=d("../lib/type"),h=g.Delta,i={color:["red","orange","yellow","green","blue","purple",null],font:["serif","sans-serif","monospace",null],bold:[!0,null],italic:[!0,null]};f(g,b,100)});return c}(),require._modules["/lib/rich-text/test/is.js"]=function(){var a="/lib/rich-text/test/is.js",b="/lib/rich-text/test",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){var a=d("../lib/is"),b=d("chai").expect;describe("is",function(){describe("equal()",function(){it("exact objects",function(){var c={a:1,b:!0,c:"test"};b(a.equal(c,c)).to.equal(!0)}),it("deep equal objects",function(){var c={a:1,b:!0,c:"test"},d={a:1,c:"test",b:!0};b(a.equal(c,d)).to.equal(!0)}),it("different keys",function(){var c={a:1,b:!0,c:"test"},d={a:1,c:"test",b:!1};b(a.equal(c,d)).to.equal(!1)}),it("missing keys",function(){var c={a:1,b:!0,c:"test"},d={a:1,c:"test"};b(a.equal(c,d)).to.equal(!1)}),it("null and undefined",function(){b(a.equal(null,void 0)).to.equal(!0)}),it("existing with nonexisting",function(){b(a.equal({},null)).to.equal(!1)})}),describe("array()",function(){it("literal",function(){b(a.array([])).to.equal(!0)}),it("instance",function(){b(a.array(new Array)).to.equal(!0)}),it("null",function(){b(a.array(null)).to.equal(!1)})}),describe("number()",function(){it("literal",function(){b(a.number(11)).to.equal(!0)}),it("object",function(){b(a.number(new Number(0))).to.equal(!0)}),it("NaN",function(){b(a.number(0/0)).to.equal(!0)}),it("Infinity",function(){b(a.number(1/0)).to.equal(!0)}),it("null",function(){b(a.number(null)).to.equal(!1)}),it("wrong type",function(){b(a.number({})).to.equal(!1)})}),describe("object()",function(){it("literal",function(){b(a.object({})).to.equal(!0)}),it("instance",function(){function c(){}b(a.object(new c)).to.equal(!0)}),it("string literal",function(){b(a.object("test")).to.equal(!1)}),it("string instance",function(){b(a.object(new String("test"))).to.equal(!0)}),it("number literal",function(){b(a.object(1)).to.equal(!1)}),it("number instance",function(){b(a.object(new Number(1))).to.equal(!0)}),it("null",function(){b(a.object(null)).to.equal(!1)}),it("function",function(){b(a.object(function(){})).to.equal(!0)})}),describe("string()",function(){it("literal",function(){b(a.string("test")).to.equal(!0)}),it("object",function(){b(a.string(new String("test"))).to.equal(!0)}),it("null",function(){b(a.string(null)).to.equal(!1)}),it("wrong type",function(){b(a.string({})).to.equal(!1)})})})});return c}(),require._modules["/lib/rich-text/test/op.js"]=function(){var a="/lib/rich-text/test/op.js",b="/lib/rich-text/test",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){var a=d("../lib/delta"),b=d("../lib/op"),c=d("chai").expect;describe("op",function(){describe("length()",function(){it("delete",function(){c(b.length({"delete":5})).to.equal(5)}),it("retain",function(){c(b.length({retain:2})).to.equal(2)}),it("insert text",function(){c(b.length({insert:"text"})).to.equal(4)}),it("insert embed",function(){c(b.length({insert:2})).to.equal(1)})}),describe("iterator()",function(){beforeEach(function(){this.delta=(new a).insert("Hello",{bold:!0}).retain(3).insert(2,{src:"http://quilljs.com/"}).delete(4)}),it("hasNext() true",function(){var a=b.iterator(this.delta.ops);c(a.hasNext()).to.equal(!0)}),it("hasNext() false",function(){var a=b.iterator([]);c(a.hasNext()).to.equal(!1)}),it("peekLength() offset === 0",function(){var a=b.iterator(this.delta.ops);c(a.peekLength()).to.equal(5),a.next(),c(a.peekLength()).to.equal(3),a.next(),c(a.peekLength()).to.equal(1),a.next(),c(a.peekLength()).to.equal(4)}),it("peekLength() offset > 0",function(){var a=b.iterator(this.delta.ops);a.next(2),c(a.peekLength()).to.equal(3)}),it("peekLength() no ops left",function(){var a=b.iterator([]);c(a.peekLength()).to.equal(1/0)}),it("peekType()",function(){var a=b.iterator(this.delta.ops);c(a.peekType()).to.equal("insert"),a.next(),c(a.peekType()).to.equal("retain"),a.next(),c(a.peekType()).to.equal("insert"),a.next(),c(a.peekType()).to.equal("delete"),a.next(),c(a.peekType()).to.equal("retain")}),it("next()",function(){for(var a=b.iterator(this.delta.ops),d=0;d<this.delta.ops.length;d+=1)c(a.next()).to.deep.equal(this.delta.ops[d]);c(a.next()).to.deep.equal({retain:1/0}),c(a.next(4)).to.deep.equal({retain:1/0}),c(a.next()).to.deep.equal({retain:1/0})}),it("next(length)",function(){var a=b.iterator(this.delta.ops);c(a.next(2)).to.deep.equal({insert:"He",attributes:{bold:!0}}),c(a.next(10)).to.deep.equal({insert:"llo",attributes:{bold:!0}}),c(a.next(1)).to.deep.equal({retain:1}),c(a.next(2)).to.deep.equal({retain:2})})})})});return c}(),require._modules["/lib/socket.io.js"]=function(){var __filename="/lib/socket.io.js",__dirname="/lib",module={loaded:!1,exports:{},filename:__filename,dirname:__dirname,require:null,call:function(){module.loaded=!0,module.call=function(){},__module__()},parent:null,children:[]},process={title:"browser",nextTick:function(a){setTimeout(a,0)}},require=module.require=window.require._bind(module),exports=module.exports,__module__=function(){var io="undefined"==typeof module?{}:module.exports;!function(){if(function(a,b){var c=a;c.version="0.9.16",c.protocol=1,c.transports=[],c.j=[],c.sockets={},c.connect=function(a,d){var e,f,g=c.util.parseUri(a);b&&b.location&&(g.protocol=g.protocol||b.location.protocol.slice(0,-1),g.host=g.host||(b.document?b.document.domain:b.location.hostname),g.port=g.port||b.location.port),e=c.util.uniqueUri(g);var h={host:g.host,secure:"https"==g.protocol,port:g.port||("https"==g.protocol?443:80),query:g.query||""};return c.util.merge(h,d),(h["force new connection"]||!c.sockets[e])&&(f=new c.Socket(h)),!h["force new connection"]&&f&&(c.sockets[e]=f),f=f||c.sockets[e],f.of(g.path.length>1?g.path:"")}}("object"==typeof module?module.exports:this.io={},this),function(a,b){var c=a.util={},d=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,e=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];c.parseUri=function(a){for(var b=d.exec(a||""),c={},f=14;f--;)c[e[f]]=b[f]||"";return c},c.uniqueUri=function(a){var c=a.protocol,d=a.host,e=a.port;return"document"in b?(d=d||document.domain,e=e||("https"==c&&"https:"!==document.location.protocol?443:document.location.port)):(d=d||"localhost",e||"https"!=c||(e=443)),(c||"http")+"://"+d+":"+(e||80)},c.query=function(a,b){var d=c.chunkQuery(a||""),e=[];c.merge(d,c.chunkQuery(b||""));for(var f in d)d.hasOwnProperty(f)&&e.push(f+"="+d[f]);return e.length?"?"+e.join("&"):""},c.chunkQuery=function(a){for(var b,c={},d=a.split("&"),e=0,f=d.length;f>e;++e)b=d[e].split("="),b[0]&&(c[b[0]]=b[1]);return c};var f=!1;c.load=function(a){return"document"in b&&"complete"===document.readyState||f?a():void c.on(b,"load",a,!1)},c.on=function(a,b,c,d){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener&&a.addEventListener(b,c,d)},c.request=function(a){if(a&&"undefined"!=typeof XDomainRequest&&!c.ua.hasCORS)return new XDomainRequest;if("undefined"!=typeof XMLHttpRequest&&(!a||c.ua.hasCORS))return new XMLHttpRequest;if(!a)try{return new(window[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(b){}return null},"undefined"!=typeof window&&c.load(function(){f=!0}),c.defer=function(a){return c.ua.webkit&&"undefined"==typeof importScripts?void c.load(function(){setTimeout(a,100)}):a()},c.merge=function(a,b,d,e){var f,g=e||[],h="undefined"==typeof d?2:d;for(f in b)b.hasOwnProperty(f)&&c.indexOf(g,f)<0&&("object"==typeof a[f]&&h?c.merge(a[f],b[f],h-1,g):(a[f]=b[f],g.push(b[f])));return a},c.mixin=function(a,b){c.merge(a.prototype,b.prototype)},c.inherit=function(a,b){function c(){}c.prototype=b.prototype,a.prototype=new c},c.isArray=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},c.intersect=function(a,b){for(var d=[],e=a.length>b.length?a:b,f=a.length>b.length?b:a,g=0,h=f.length;h>g;g++)~c.indexOf(e,f[g])&&d.push(f[g]);return d},c.indexOf=function(a,b,c){for(var d=a.length,c=0>c?0>c+d?0:c+d:c||0;d>c&&a[c]!==b;c++);return c>=d?-1:c},c.toArray=function(a){for(var b=[],c=0,d=a.length;d>c;c++)b.push(a[c]);return b},c.ua={},c.ua.hasCORS="undefined"!=typeof XMLHttpRequest&&function(){try{var a=new XMLHttpRequest}catch(b){return!1}return void 0!=a.withCredentials}(),c.ua.webkit="undefined"!=typeof navigator&&/webkit/i.test(navigator.userAgent),c.ua.iDevice="undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)}("undefined"!=typeof io?io:module.exports,this),function(a,b){function c(){}a.EventEmitter=c,c.prototype.on=function(a,c){return this.$events||(this.$events={}),this.$events[a]?b.util.isArray(this.$events[a])?this.$events[a].push(c):this.$events[a]=[this.$events[a],c]:this.$events[a]=c,this},c.prototype.addListener=c.prototype.on,c.prototype.once=function(a,b){function c(){d.removeListener(a,c),b.apply(this,arguments)}var d=this;return c.listener=b,this.on(a,c),this},c.prototype.removeListener=function(a,c){if(this.$events&&this.$events[a]){var d=this.$events[a];if(b.util.isArray(d)){for(var e=-1,f=0,g=d.length;g>f;f++)if(d[f]===c||d[f].listener&&d[f].listener===c){e=f;break}if(0>e)return this;d.splice(e,1),d.length||delete this.$events[a]}else(d===c||d.listener&&d.listener===c)&&delete this.$events[a]}return this},c.prototype.removeAllListeners=function(a){return void 0===a?(this.$events={},this):(this.$events&&this.$events[a]&&(this.$events[a]=null),this)},c.prototype.listeners=function(a){return this.$events||(this.$events={}),this.$events[a]||(this.$events[a]=[]),b.util.isArray(this.$events[a])||(this.$events[a]=[this.$events[a]]),this.$events[a]},c.prototype.emit=function(a){if(!this.$events)return!1;var c=this.$events[a];if(!c)return!1;var d=Array.prototype.slice.call(arguments,1);if("function"==typeof c)c.apply(this,d);else{if(!b.util.isArray(c))return!1;for(var e=c.slice(),f=0,g=e.length;g>f;f++)e[f].apply(this,d)}return!0}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports),function(exports,nativeJSON){"use strict";function f(a){return 10>a?"0"+a:a}function date(a){return isFinite(a.valueOf())?a.getUTCFullYear()+"-"+f(a.getUTCMonth()+1)+"-"+f(a.getUTCDate())+"T"+f(a.getUTCHours())+":"+f(a.getUTCMinutes())+":"+f(a.getUTCSeconds())+"Z":null}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g,h=gap,i=b[a];switch(i instanceof Date&&(i=date(a)),"function"==typeof rep&&(i=rep.call(b,a,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(gap+=indent,g=[],"[object Array]"===Object.prototype.toString.apply(i)){for(f=i.length,c=0;f>c;c+=1)g[c]=str(c,i)||"null";return e=0===g.length?"[]":gap?"[\n"+gap+g.join(",\n"+gap)+"\n"+h+"]":"["+g.join(",")+"]",gap=h,e}if(rep&&"object"==typeof rep)for(f=rep.length,c=0;f>c;c+=1)"string"==typeof rep[c]&&(d=rep[c],e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));else for(d in i)Object.prototype.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));return e=0===g.length?"{}":gap?"{\n"+gap+g.join(",\n"+gap)+"\n"+h+"}":"{"+g.join(",")+"}",gap=h,e}}if(nativeJSON&&nativeJSON.parse)return exports.JSON={parse:nativeJSON.parse,stringify:nativeJSON.stringify};var JSON=exports.JSON={},cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;JSON.stringify=function(a,b,c){var d;if(gap="",indent="","number"==typeof c)for(d=0;c>d;d+=1)indent+=" ";else"string"==typeof c&&(indent=c);if(rep=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return str("",{"":a})},JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof JSON?JSON:void 0),function(a,b){var c=a.parser={},d=c.packets=["disconnect","connect","heartbeat","message","json","event","ack","error","noop"],e=c.reasons=["transport not supported","client not handshaken","unauthorized"],f=c.advice=["reconnect"],g=b.JSON,h=b.util.indexOf;c.encodePacket=function(a){var b=h(d,a.type),c=a.id||"",i=a.endpoint||"",j=a.ack,k=null;switch(a.type){case"error":var l=a.reason?h(e,a.reason):"",m=a.advice?h(f,a.advice):"";(""!==l||""!==m)&&(k=l+(""!==m?"+"+m:""));break;case"message":""!==a.data&&(k=a.data);break;case"event":var n={name:a.name};a.args&&a.args.length&&(n.args=a.args),k=g.stringify(n);break;case"json":k=g.stringify(a.data);
break;case"connect":a.qs&&(k=a.qs);break;case"ack":k=a.ackId+(a.args&&a.args.length?"+"+g.stringify(a.args):"")}var o=[b,c+("data"==j?"+":""),i];return null!==k&&void 0!==k&&o.push(k),o.join(":")},c.encodePayload=function(a){var b="";if(1==a.length)return a[0];for(var c=0,d=a.length;d>c;c++){var e=a[c];b+="�"+e.length+"�"+a[c]}return b};var i=/([^:]+):([0-9]+)?(\+)?:([^:]+)?:?([\s\S]*)?/;c.decodePacket=function(a){var b=a.match(i);if(!b)return{};var c=b[2]||"",a=b[5]||"",h={type:d[b[1]],endpoint:b[4]||""};switch(c&&(h.id=c,h.ack=b[3]?"data":!0),h.type){case"error":var b=a.split("+");h.reason=e[b[0]]||"",h.advice=f[b[1]]||"";break;case"message":h.data=a||"";break;case"event":try{var j=g.parse(a);h.name=j.name,h.args=j.args}catch(k){}h.args=h.args||[];break;case"json":try{h.data=g.parse(a)}catch(k){}break;case"connect":h.qs=a||"";break;case"ack":var b=a.match(/^([0-9]+)(\+)?(.*)/);if(b&&(h.ackId=b[1],h.args=[],b[3]))try{h.args=b[3]?g.parse(b[3]):[]}catch(k){}break;case"disconnect":case"heartbeat":}return h},c.decodePayload=function(a){if("�"==a.charAt(0)){for(var b=[],d=1,e="";d<a.length;d++)"�"==a.charAt(d)?(b.push(c.decodePacket(a.substr(d+1).substr(0,e))),d+=Number(e)+1,e=""):e+=a.charAt(d);return b}return[c.decodePacket(a)]}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports),function(a,b){function c(a,b){this.socket=a,this.sessid=b}a.Transport=c,b.util.mixin(c,b.EventEmitter),c.prototype.heartbeats=function(){return!0},c.prototype.onData=function(a){if(this.clearCloseTimeout(),(this.socket.connected||this.socket.connecting||this.socket.reconnecting)&&this.setCloseTimeout(),""!==a){var c=b.parser.decodePayload(a);if(c&&c.length)for(var d=0,e=c.length;e>d;d++)this.onPacket(c[d])}return this},c.prototype.onPacket=function(a){return this.socket.setHeartbeatTimeout(),"heartbeat"==a.type?this.onHeartbeat():("connect"==a.type&&""==a.endpoint&&this.onConnect(),"error"==a.type&&"reconnect"==a.advice&&(this.isOpen=!1),this.socket.onPacket(a),this)},c.prototype.setCloseTimeout=function(){if(!this.closeTimeout){var a=this;this.closeTimeout=setTimeout(function(){a.onDisconnect()},this.socket.closeTimeout)}},c.prototype.onDisconnect=function(){return this.isOpen&&this.close(),this.clearTimeouts(),this.socket.onDisconnect(),this},c.prototype.onConnect=function(){return this.socket.onConnect(),this},c.prototype.clearCloseTimeout=function(){this.closeTimeout&&(clearTimeout(this.closeTimeout),this.closeTimeout=null)},c.prototype.clearTimeouts=function(){this.clearCloseTimeout(),this.reopenTimeout&&clearTimeout(this.reopenTimeout)},c.prototype.packet=function(a){this.send(b.parser.encodePacket(a))},c.prototype.onHeartbeat=function(){this.packet({type:"heartbeat"})},c.prototype.onOpen=function(){this.isOpen=!0,this.clearCloseTimeout(),this.socket.onOpen()},c.prototype.onClose=function(){this.isOpen=!1,this.socket.onClose(),this.onDisconnect()},c.prototype.prepareUrl=function(){var a=this.socket.options;return this.scheme()+"://"+a.host+":"+a.port+"/"+a.resource+"/"+b.protocol+"/"+this.name+"/"+this.sessid},c.prototype.ready=function(a,b){b.call(this)}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports),function(a,b,c){function d(a){if(this.options={port:80,secure:!1,document:"document"in c?document:!1,resource:"socket.io",transports:b.transports,"connect timeout":1e4,"try multiple transports":!0,reconnect:!0,"reconnection delay":500,"reconnection limit":1/0,"reopen delay":3e3,"max reconnection attempts":10,"sync disconnect on unload":!1,"auto connect":!0,"flash policy port":10843,manualFlush:!1},b.util.merge(this.options,a),this.connected=!1,this.open=!1,this.connecting=!1,this.reconnecting=!1,this.namespaces={},this.buffer=[],this.doBuffer=!1,this.options["sync disconnect on unload"]&&(!this.isXDomain()||b.util.ua.hasCORS)){var d=this;b.util.on(c,"beforeunload",function(){d.disconnectSync()},!1)}this.options["auto connect"]&&this.connect()}function e(){}a.Socket=d,b.util.mixin(d,b.EventEmitter),d.prototype.of=function(a){return this.namespaces[a]||(this.namespaces[a]=new b.SocketNamespace(this,a),""!==a&&this.namespaces[a].packet({type:"connect"})),this.namespaces[a]},d.prototype.publish=function(){this.emit.apply(this,arguments);var a;for(var b in this.namespaces)this.namespaces.hasOwnProperty(b)&&(a=this.of(b),a.$emit.apply(a,arguments))},d.prototype.handshake=function(a){function c(b){b instanceof Error?(d.connecting=!1,d.onError(b.message)):a.apply(null,b.split(":"))}var d=this,f=this.options,g=["http"+(f.secure?"s":"")+":/",f.host+":"+f.port,f.resource,b.protocol,b.util.query(this.options.query,"t="+ +new Date)].join("/");if(this.isXDomain()&&!b.util.ua.hasCORS){var h=document.getElementsByTagName("script")[0],i=document.createElement("script");i.src=g+"&jsonp="+b.j.length,h.parentNode.insertBefore(i,h),b.j.push(function(a){c(a),i.parentNode.removeChild(i)})}else{var j=b.util.request();j.open("GET",g,!0),this.isXDomain()&&(j.withCredentials=!0),j.onreadystatechange=function(){4==j.readyState&&(j.onreadystatechange=e,200==j.status?c(j.responseText):403==j.status?d.onError(j.responseText):(d.connecting=!1,!d.reconnecting&&d.onError(j.responseText)))},j.send(null)}},d.prototype.getTransport=function(a){for(var c,d=a||this.transports,e=0;c=d[e];e++)if(b.Transport[c]&&b.Transport[c].check(this)&&(!this.isXDomain()||b.Transport[c].xdomainCheck(this)))return new b.Transport[c](this,this.sessionid);return null},d.prototype.connect=function(a){if(this.connecting)return this;var c=this;return c.connecting=!0,this.handshake(function(d,e,f,g){function h(a){return c.transport&&c.transport.clearTimeouts(),c.transport=c.getTransport(a),c.transport?void c.transport.ready(c,function(){c.connecting=!0,c.publish("connecting",c.transport.name),c.transport.open(),c.options["connect timeout"]&&(c.connectTimeoutTimer=setTimeout(function(){if(!c.connected&&(c.connecting=!1,c.options["try multiple transports"])){for(var a=c.transports;a.length>0&&a.splice(0,1)[0]!=c.transport.name;);a.length?h(a):c.publish("connect_failed")}},c.options["connect timeout"]))}):c.publish("connect_failed")}c.sessionid=d,c.closeTimeout=1e3*f,c.heartbeatTimeout=1e3*e,c.transports||(c.transports=c.origTransports=g?b.util.intersect(g.split(","),c.options.transports):c.options.transports),c.setHeartbeatTimeout(),h(c.transports),c.once("connect",function(){clearTimeout(c.connectTimeoutTimer),a&&"function"==typeof a&&a()})}),this},d.prototype.setHeartbeatTimeout=function(){if(clearTimeout(this.heartbeatTimeoutTimer),!this.transport||this.transport.heartbeats()){var a=this;this.heartbeatTimeoutTimer=setTimeout(function(){a.transport.onClose()},this.heartbeatTimeout)}},d.prototype.packet=function(a){return this.connected&&!this.doBuffer?this.transport.packet(a):this.buffer.push(a),this},d.prototype.setBuffer=function(a){this.doBuffer=a,!a&&this.connected&&this.buffer.length&&(this.options.manualFlush||this.flushBuffer())},d.prototype.flushBuffer=function(){this.transport.payload(this.buffer),this.buffer=[]},d.prototype.disconnect=function(){return(this.connected||this.connecting)&&(this.open&&this.of("").packet({type:"disconnect"}),this.onDisconnect("booted")),this},d.prototype.disconnectSync=function(){var a=b.util.request(),c=["http"+(this.options.secure?"s":"")+":/",this.options.host+":"+this.options.port,this.options.resource,b.protocol,"",this.sessionid].join("/")+"/?disconnect=1";a.open("GET",c,!1),a.send(null),this.onDisconnect("booted")},d.prototype.isXDomain=function(){var a=c.location.port||("https:"==c.location.protocol?443:80);return this.options.host!==c.location.hostname||this.options.port!=a},d.prototype.onConnect=function(){this.connected||(this.connected=!0,this.connecting=!1,this.doBuffer||this.setBuffer(!1),this.emit("connect"))},d.prototype.onOpen=function(){this.open=!0},d.prototype.onClose=function(){this.open=!1,clearTimeout(this.heartbeatTimeoutTimer)},d.prototype.onPacket=function(a){this.of(a.endpoint).onPacket(a)},d.prototype.onError=function(a){a&&a.advice&&"reconnect"===a.advice&&(this.connected||this.connecting)&&(this.disconnect(),this.options.reconnect&&this.reconnect()),this.publish("error",a&&a.reason?a.reason:a)},d.prototype.onDisconnect=function(a){var b=this.connected,c=this.connecting;this.connected=!1,this.connecting=!1,this.open=!1,(b||c)&&(this.transport.close(),this.transport.clearTimeouts(),b&&(this.publish("disconnect",a),"booted"!=a&&this.options.reconnect&&!this.reconnecting&&this.reconnect()))},d.prototype.reconnect=function(){function a(){if(c.connected){for(var a in c.namespaces)c.namespaces.hasOwnProperty(a)&&""!==a&&c.namespaces[a].packet({type:"connect"});c.publish("reconnect",c.transport.name,c.reconnectionAttempts)}clearTimeout(c.reconnectionTimer),c.removeListener("connect_failed",b),c.removeListener("connect",b),c.reconnecting=!1,delete c.reconnectionAttempts,delete c.reconnectionDelay,delete c.reconnectionTimer,delete c.redoTransports,c.options["try multiple transports"]=e}function b(){return c.reconnecting?c.connected?a():c.connecting&&c.reconnecting?c.reconnectionTimer=setTimeout(b,1e3):void(c.reconnectionAttempts++>=d?c.redoTransports?(c.publish("reconnect_failed"),a()):(c.on("connect_failed",b),c.options["try multiple transports"]=!0,c.transports=c.origTransports,c.transport=c.getTransport(),c.redoTransports=!0,c.connect()):(c.reconnectionDelay<f&&(c.reconnectionDelay*=2),c.connect(),c.publish("reconnecting",c.reconnectionDelay,c.reconnectionAttempts),c.reconnectionTimer=setTimeout(b,c.reconnectionDelay))):void 0}this.reconnecting=!0,this.reconnectionAttempts=0,this.reconnectionDelay=this.options["reconnection delay"];var c=this,d=this.options["max reconnection attempts"],e=this.options["try multiple transports"],f=this.options["reconnection limit"];this.options["try multiple transports"]=!1,this.reconnectionTimer=setTimeout(b,this.reconnectionDelay),this.on("connect",b)}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports,this),function(a,b){function c(a,b){this.socket=a,this.name=b||"",this.flags={},this.json=new d(this,"json"),this.ackPackets=0,this.acks={}}function d(a,b){this.namespace=a,this.name=b}a.SocketNamespace=c,b.util.mixin(c,b.EventEmitter),c.prototype.$emit=b.EventEmitter.prototype.emit,c.prototype.of=function(){return this.socket.of.apply(this.socket,arguments)},c.prototype.packet=function(a){return a.endpoint=this.name,this.socket.packet(a),this.flags={},this},c.prototype.send=function(a,b){var c={type:this.flags.json?"json":"message",data:a};return"function"==typeof b&&(c.id=++this.ackPackets,c.ack=!0,this.acks[c.id]=b),this.packet(c)},c.prototype.emit=function(a){var b=Array.prototype.slice.call(arguments,1),c=b[b.length-1],d={type:"event",name:a};return"function"==typeof c&&(d.id=++this.ackPackets,d.ack="data",this.acks[d.id]=c,b=b.slice(0,b.length-1)),d.args=b,this.packet(d)},c.prototype.disconnect=function(){return""===this.name?this.socket.disconnect():(this.packet({type:"disconnect"}),this.$emit("disconnect")),this},c.prototype.onPacket=function(a){function c(){d.packet({type:"ack",args:b.util.toArray(arguments),ackId:a.id})}var d=this;switch(a.type){case"connect":this.$emit("connect");break;case"disconnect":""===this.name?this.socket.onDisconnect(a.reason||"booted"):this.$emit("disconnect",a.reason);break;case"message":case"json":var e=["message",a.data];"data"==a.ack?e.push(c):a.ack&&this.packet({type:"ack",ackId:a.id}),this.$emit.apply(this,e);break;case"event":var e=[a.name].concat(a.args);"data"==a.ack&&e.push(c),this.$emit.apply(this,e);break;case"ack":this.acks[a.ackId]&&(this.acks[a.ackId].apply(this,a.args),delete this.acks[a.ackId]);break;case"error":a.advice?this.socket.onError(a):"unauthorized"==a.reason?this.$emit("connect_failed",a.reason):this.$emit("error",a.reason)}},d.prototype.send=function(){this.namespace.flags[this.name]=!0,this.namespace.send.apply(this.namespace,arguments)},d.prototype.emit=function(){this.namespace.flags[this.name]=!0,this.namespace.emit.apply(this.namespace,arguments)}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports),function(a,b,c){function d(){b.Transport.apply(this,arguments)}a.websocket=d,b.util.inherit(d,b.Transport),d.prototype.name="websocket",d.prototype.open=function(){var a,d=b.util.query(this.socket.options.query),e=this;return a||(a=c.MozWebSocket||c.WebSocket),this.websocket=new a(this.prepareUrl()+d),this.websocket.onopen=function(){e.onOpen(),e.socket.setBuffer(!1)},this.websocket.onmessage=function(a){e.onData(a.data)},this.websocket.onclose=function(){e.onClose(),e.socket.setBuffer(!0)},this.websocket.onerror=function(a){e.onError(a)},this},d.prototype.send=b.util.ua.iDevice?function(a){var b=this;return setTimeout(function(){b.websocket.send(a)},0),this}:function(a){return this.websocket.send(a),this},d.prototype.payload=function(a){for(var b=0,c=a.length;c>b;b++)this.packet(a[b]);return this},d.prototype.close=function(){return this.websocket.close(),this},d.prototype.onError=function(a){this.socket.onError(a)},d.prototype.scheme=function(){return this.socket.options.secure?"wss":"ws"},d.check=function(){return"WebSocket"in c&&!("__addTask"in WebSocket)||"MozWebSocket"in c},d.xdomainCheck=function(){return!0},b.transports.push("websocket")}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this),function(a,b){function c(){b.Transport.websocket.apply(this,arguments)}a.flashsocket=c,b.util.inherit(c,b.Transport.websocket),c.prototype.name="flashsocket",c.prototype.open=function(){var a=this,c=arguments;return WebSocket.__addTask(function(){b.Transport.websocket.prototype.open.apply(a,c)}),this},c.prototype.send=function(){var a=this,c=arguments;return WebSocket.__addTask(function(){b.Transport.websocket.prototype.send.apply(a,c)}),this},c.prototype.close=function(){return WebSocket.__tasks.length=0,b.Transport.websocket.prototype.close.call(this),this},c.prototype.ready=function(a,d){function e(){var b=a.options,e=b["flash policy port"],g=["http"+(b.secure?"s":"")+":/",b.host+":"+b.port,b.resource,"static/flashsocket","WebSocketMain"+(a.isXDomain()?"Insecure":"")+".swf"];c.loaded||("undefined"==typeof WEB_SOCKET_SWF_LOCATION&&(WEB_SOCKET_SWF_LOCATION=g.join("/")),843!==e&&WebSocket.loadFlashPolicyFile("xmlsocket://"+b.host+":"+e),WebSocket.__initialize(),c.loaded=!0),d.call(f)}var f=this;return document.body?e():void b.util.load(e)},c.check=function(){return"undefined"!=typeof WebSocket&&"__initialize"in WebSocket&&swfobject?swfobject.getFlashPlayerVersion().major>=10:!1},c.xdomainCheck=function(){return!0},"undefined"!=typeof window&&(WEB_SOCKET_DISABLE_AUTO_INITIALIZATION=!0),b.transports.push("flashsocket")}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports),"undefined"!=typeof window)var swfobject=function(){function a(){if(!R){try{var a=K.getElementsByTagName("body")[0].appendChild(q("span"));a.parentNode.removeChild(a)}catch(b){return}R=!0;for(var c=N.length,d=0;c>d;d++)N[d]()}}function b(a){R?a():N[N.length]=a}function c(a){if(typeof J.addEventListener!=C)J.addEventListener("load",a,!1);else if(typeof K.addEventListener!=C)K.addEventListener("load",a,!1);else if(typeof J.attachEvent!=C)r(J,"onload",a);else if("function"==typeof J.onload){var b=J.onload;J.onload=function(){b(),a()}}else J.onload=a}function d(){M?e():f()}function e(){var a=K.getElementsByTagName("body")[0],b=q(D);b.setAttribute("type",G);var c=a.appendChild(b);if(c){var d=0;!function(){if(typeof c.GetVariable!=C){var e=c.GetVariable("$version");e&&(e=e.split(" ")[1].split(","),U.pv=[parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10)])}else if(10>d)return d++,void setTimeout(arguments.callee,10);a.removeChild(b),c=null,f()}()}else f()}function f(){var a=O.length;if(a>0)for(var b=0;a>b;b++){var c=O[b].id,d=O[b].callbackFn,e={success:!1,id:c};if(U.pv[0]>0){var f=p(c);if(f)if(!s(O[b].swfVersion)||U.wk&&U.wk<312)if(O[b].expressInstall&&h()){var k={};k.data=O[b].expressInstall,k.width=f.getAttribute("width")||"0",k.height=f.getAttribute("height")||"0",f.getAttribute("class")&&(k.styleclass=f.getAttribute("class")),f.getAttribute("align")&&(k.align=f.getAttribute("align"));for(var l={},m=f.getElementsByTagName("param"),n=m.length,o=0;n>o;o++)"movie"!=m[o].getAttribute("name").toLowerCase()&&(l[m[o].getAttribute("name")]=m[o].getAttribute("value"));i(k,l,c,d)}else j(f),d&&d(e);else u(c,!0),d&&(e.success=!0,e.ref=g(c),d(e))}else if(u(c,!0),d){var q=g(c);q&&typeof q.SetVariable!=C&&(e.success=!0,e.ref=q),d(e)}}}function g(a){var b=null,c=p(a);if(c&&"OBJECT"==c.nodeName)if(typeof c.SetVariable!=C)b=c;else{var d=c.getElementsByTagName(D)[0];d&&(b=d)}return b}function h(){return!S&&s("6.0.65")&&(U.win||U.mac)&&!(U.wk&&U.wk<312)}function i(a,b,c,d){S=!0,y=d||null,z={success:!1,id:c};var e=p(c);if(e){"OBJECT"==e.nodeName?(w=k(e),x=null):(w=e,x=c),a.id=H,(typeof a.width==C||!/%$/.test(a.width)&&parseInt(a.width,10)<310)&&(a.width="310"),(typeof a.height==C||!/%$/.test(a.height)&&parseInt(a.height,10)<137)&&(a.height="137"),K.title=K.title.slice(0,47)+" - Flash Player Installation";var f=U.ie&&U.win?["Active"].concat("").join("X"):"PlugIn",g="MMredirectURL="+J.location.toString().replace(/&/g,"%26")+"&MMplayerType="+f+"&MMdoctitle="+K.title;if(typeof b.flashvars!=C?b.flashvars+="&"+g:b.flashvars=g,U.ie&&U.win&&4!=e.readyState){var h=q("div");c+="SWFObjectNew",h.setAttribute("id",c),e.parentNode.insertBefore(h,e),e.style.display="none",function(){4==e.readyState?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)}()}l(a,b,c)}}function j(a){if(U.ie&&U.win&&4!=a.readyState){var b=q("div");a.parentNode.insertBefore(b,a),b.parentNode.replaceChild(k(a),b),a.style.display="none",function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)}()}else a.parentNode.replaceChild(k(a),a)}function k(a){var b=q("div");if(U.win&&U.ie)b.innerHTML=a.innerHTML;else{var c=a.getElementsByTagName(D)[0];if(c){var d=c.childNodes;if(d)for(var e=d.length,f=0;e>f;f++)1==d[f].nodeType&&"PARAM"==d[f].nodeName||8==d[f].nodeType||b.appendChild(d[f].cloneNode(!0))}}return b}function l(a,b,c){var d,e=p(c);if(U.wk&&U.wk<312)return d;if(e)if(typeof a.id==C&&(a.id=c),U.ie&&U.win){var f="";for(var g in a)a[g]!=Object.prototype[g]&&("data"==g.toLowerCase()?b.movie=a[g]:"styleclass"==g.toLowerCase()?f+=' class="'+a[g]+'"':"classid"!=g.toLowerCase()&&(f+=" "+g+'="'+a[g]+'"'));var h="";for(var i in b)b[i]!=Object.prototype[i]&&(h+='<param name="'+i+'" value="'+b[i]+'" />');e.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+f+">"+h+"</object>",P[P.length]=a.id,d=p(a.id)}else{var j=q(D);j.setAttribute("type",G);for(var k in a)a[k]!=Object.prototype[k]&&("styleclass"==k.toLowerCase()?j.setAttribute("class",a[k]):"classid"!=k.toLowerCase()&&j.setAttribute(k,a[k]));for(var l in b)b[l]!=Object.prototype[l]&&"movie"!=l.toLowerCase()&&m(j,l,b[l]);e.parentNode.replaceChild(j,e),d=j}return d}function m(a,b,c){var d=q("param");d.setAttribute("name",b),d.setAttribute("value",c),a.appendChild(d)}function n(a){var b=p(a);b&&"OBJECT"==b.nodeName&&(U.ie&&U.win?(b.style.display="none",function(){4==b.readyState?o(a):setTimeout(arguments.callee,10)}()):b.parentNode.removeChild(b))}function o(a){var b=p(a);if(b){for(var c in b)"function"==typeof b[c]&&(b[c]=null);b.parentNode.removeChild(b)}}function p(a){var b=null;try{b=K.getElementById(a)}catch(c){}return b}function q(a){return K.createElement(a)}function r(a,b,c){a.attachEvent(b,c),Q[Q.length]=[a,b,c]}function s(a){var b=U.pv,c=a.split(".");return c[0]=parseInt(c[0],10),c[1]=parseInt(c[1],10)||0,c[2]=parseInt(c[2],10)||0,b[0]>c[0]||b[0]==c[0]&&b[1]>c[1]||b[0]==c[0]&&b[1]==c[1]&&b[2]>=c[2]?!0:!1}function t(a,b,c,d){if(!U.ie||!U.mac){var e=K.getElementsByTagName("head")[0];if(e){var f=c&&"string"==typeof c?c:"screen";if(d&&(A=null,B=null),!A||B!=f){var g=q("style");g.setAttribute("type","text/css"),g.setAttribute("media",f),A=e.appendChild(g),U.ie&&U.win&&typeof K.styleSheets!=C&&K.styleSheets.length>0&&(A=K.styleSheets[K.styleSheets.length-1]),B=f}U.ie&&U.win?A&&typeof A.addRule==D&&A.addRule(a,b):A&&typeof K.createTextNode!=C&&A.appendChild(K.createTextNode(a+" {"+b+"}"))}}}function u(a,b){if(T){var c=b?"visible":"hidden";R&&p(a)?p(a).style.visibility=c:t("#"+a,"visibility:"+c)}}function v(a){var b=/[\\\"<>\.;]/,c=null!=b.exec(a);return c&&typeof encodeURIComponent!=C?encodeURIComponent(a):a}{var w,x,y,z,A,B,C="undefined",D="object",E="Shockwave Flash",F="ShockwaveFlash.ShockwaveFlash",G="application/x-shockwave-flash",H="SWFObjectExprInst",I="onreadystatechange",J=window,K=document,L=navigator,M=!1,N=[d],O=[],P=[],Q=[],R=!1,S=!1,T=!0,U=function(){var a=typeof K.getElementById!=C&&typeof K.getElementsByTagName!=C&&typeof K.createElement!=C,b=L.userAgent.toLowerCase(),c=L.platform.toLowerCase(),d=/win/.test(c?c:b),e=/mac/.test(c?c:b),f=/webkit/.test(b)?parseFloat(b.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,g=!1,h=[0,0,0],i=null;if(typeof L.plugins!=C&&typeof L.plugins[E]==D)i=L.plugins[E].description,!i||typeof L.mimeTypes!=C&&L.mimeTypes[G]&&!L.mimeTypes[G].enabledPlugin||(M=!0,g=!1,i=i.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),h[0]=parseInt(i.replace(/^(.*)\..*$/,"$1"),10),h[1]=parseInt(i.replace(/^.*\.(.*)\s.*$/,"$1"),10),h[2]=/[a-zA-Z]/.test(i)?parseInt(i.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof J[["Active"].concat("Object").join("X")]!=C)try{var j=new(window[["Active"].concat("Object").join("X")])(F);j&&(i=j.GetVariable("$version"),i&&(g=!0,i=i.split(" ")[1].split(","),h=[parseInt(i[0],10),parseInt(i[1],10),parseInt(i[2],10)]))}catch(k){}return{w3:a,pv:h,wk:f,ie:g,win:d,mac:e}}();!function(){U.w3&&((typeof K.readyState!=C&&"complete"==K.readyState||typeof K.readyState==C&&(K.getElementsByTagName("body")[0]||K.body))&&a(),R||(typeof K.addEventListener!=C&&K.addEventListener("DOMContentLoaded",a,!1),U.ie&&U.win&&(K.attachEvent(I,function(){"complete"==K.readyState&&(K.detachEvent(I,arguments.callee),a())}),J==top&&!function(){if(!R){try{K.documentElement.doScroll("left")}catch(b){return void setTimeout(arguments.callee,0)}a()}}()),U.wk&&!function(){return R?void 0:/loaded|complete/.test(K.readyState)?void a():void setTimeout(arguments.callee,0)}(),c(a)))}(),function(){U.ie&&U.win&&window.attachEvent("onunload",function(){for(var a=Q.length,b=0;a>b;b++)Q[b][0].detachEvent(Q[b][1],Q[b][2]);for(var c=P.length,d=0;c>d;d++)n(P[d]);for(var e in U)U[e]=null;U=null;for(var f in swfobject)swfobject[f]=null;swfobject=null})}()}return{registerObject:function(a,b,c,d){if(U.w3&&a&&b){var e={};e.id=a,e.swfVersion=b,e.expressInstall=c,e.callbackFn=d,O[O.length]=e,u(a,!1)}else d&&d({success:!1,id:a})},getObjectById:function(a){return U.w3?g(a):void 0},embedSWF:function(a,c,d,e,f,g,j,k,m,n){var o={success:!1,id:c};U.w3&&!(U.wk&&U.wk<312)&&a&&c&&d&&e&&f?(u(c,!1),b(function(){d+="",e+="";var b={};if(m&&typeof m===D)for(var p in m)b[p]=m[p];b.data=a,b.width=d,b.height=e;var q={};if(k&&typeof k===D)for(var r in k)q[r]=k[r];if(j&&typeof j===D)for(var t in j)typeof q.flashvars!=C?q.flashvars+="&"+t+"="+j[t]:q.flashvars=t+"="+j[t];if(s(f)){var v=l(b,q,c);b.id==c&&u(c,!0),o.success=!0,o.ref=v}else{if(g&&h())return b.data=g,void i(b,q,c,n);u(c,!0)}n&&n(o)})):n&&n(o)},switchOffAutoHideShow:function(){T=!1},ua:U,getFlashPlayerVersion:function(){return{major:U.pv[0],minor:U.pv[1],release:U.pv[2]}},hasFlashPlayerVersion:s,createSWF:function(a,b,c){return U.w3?l(a,b,c):void 0},showExpressInstall:function(a,b,c,d){U.w3&&h()&&i(a,b,c,d)},removeSWF:function(a){U.w3&&n(a)},createCSS:function(a,b,c,d){U.w3&&t(a,b,c,d)},addDomLoadEvent:b,addLoadEvent:c,getQueryParamValue:function(a){var b=K.location.search||K.location.hash;if(b){if(/\?/.test(b)&&(b=b.split("?")[1]),null==a)return v(b);for(var c=b.split("&"),d=0;d<c.length;d++)if(c[d].substring(0,c[d].indexOf("="))==a)return v(c[d].substring(c[d].indexOf("=")+1))}return""},expressInstallCallback:function(){if(S){var a=p(H);a&&w&&(a.parentNode.replaceChild(w,a),x&&(u(x,!0),U.ie&&U.win&&(w.style.display="block")),y&&y(z)),S=!1}}}}();!function(){if("undefined"!=typeof window&&!window.WebSocket){var a=window.console;if(a&&a.log&&a.error||(a={log:function(){},error:function(){}}),!swfobject.hasFlashPlayerVersion("10.0.0"))return void a.error("Flash Player >= 10.0.0 is required.");"file:"==location.protocol&&a.error("WARNING: web-socket-js doesn't work in file:///... URL unless you set Flash Security Settings properly. Open the page via Web server i.e. http://..."),WebSocket=function(a,b,c,d,e){var f=this;f.__id=WebSocket.__nextId++,WebSocket.__instances[f.__id]=f,f.readyState=WebSocket.CONNECTING,f.bufferedAmount=0,f.__events={},b?"string"==typeof b&&(b=[b]):b=[],setTimeout(function(){WebSocket.__addTask(function(){WebSocket.__flash.create(f.__id,a,b,c||null,d||0,e||null)})},0)},WebSocket.prototype.send=function(a){if(this.readyState==WebSocket.CONNECTING)throw"INVALID_STATE_ERR: Web Socket connection has not been established";var b=WebSocket.__flash.send(this.__id,encodeURIComponent(a));return 0>b?!0:(this.bufferedAmount+=b,!1)},WebSocket.prototype.close=function(){this.readyState!=WebSocket.CLOSED&&this.readyState!=WebSocket.CLOSING&&(this.readyState=WebSocket.CLOSING,WebSocket.__flash.close(this.__id))},WebSocket.prototype.addEventListener=function(a,b){a in this.__events||(this.__events[a]=[]),this.__events[a].push(b)},WebSocket.prototype.removeEventListener=function(a,b){if(a in this.__events)for(var c=this.__events[a],d=c.length-1;d>=0;--d)if(c[d]===b){c.splice(d,1);break}},WebSocket.prototype.dispatchEvent=function(a){for(var b=this.__events[a.type]||[],c=0;c<b.length;++c)b[c](a);var d=this["on"+a.type];d&&d(a)},WebSocket.prototype.__handleEvent=function(a){"readyState"in a&&(this.readyState=a.readyState),"protocol"in a&&(this.protocol=a.protocol);var b;if("open"==a.type||"error"==a.type)b=this.__createSimpleEvent(a.type);else if("close"==a.type)b=this.__createSimpleEvent("close");else{if("message"!=a.type)throw"unknown event type: "+a.type;var c=decodeURIComponent(a.message);b=this.__createMessageEvent("message",c)}this.dispatchEvent(b)},WebSocket.prototype.__createSimpleEvent=function(a){if(document.createEvent&&window.Event){var b=document.createEvent("Event");return b.initEvent(a,!1,!1),b}return{type:a,bubbles:!1,cancelable:!1}},WebSocket.prototype.__createMessageEvent=function(a,b){if(document.createEvent&&window.MessageEvent&&!window.opera){var c=document.createEvent("MessageEvent");return c.initMessageEvent("message",!1,!1,b,null,null,window,null),c}return{type:a,data:b,bubbles:!1,cancelable:!1}},WebSocket.CONNECTING=0,WebSocket.OPEN=1,WebSocket.CLOSING=2,WebSocket.CLOSED=3,WebSocket.__flash=null,WebSocket.__instances={},WebSocket.__tasks=[],WebSocket.__nextId=0,WebSocket.loadFlashPolicyFile=function(a){WebSocket.__addTask(function(){WebSocket.__flash.loadManualPolicyFile(a)})},WebSocket.__initialize=function(){if(!WebSocket.__flash){if(WebSocket.__swfLocation&&(window.WEB_SOCKET_SWF_LOCATION=WebSocket.__swfLocation),!window.WEB_SOCKET_SWF_LOCATION)return void a.error("[WebSocket] set WEB_SOCKET_SWF_LOCATION to location of WebSocketMain.swf");var b=document.createElement("div");b.id="webSocketContainer",b.style.position="absolute",WebSocket.__isFlashLite()?(b.style.left="0px",b.style.top="0px"):(b.style.left="-100px",b.style.top="-100px");var c=document.createElement("div");c.id="webSocketFlash",b.appendChild(c),document.body.appendChild(b),swfobject.embedSWF(WEB_SOCKET_SWF_LOCATION,"webSocketFlash","1","1","10.0.0",null,null,{hasPriority:!0,swliveconnect:!0,allowScriptAccess:"always"},null,function(b){b.success||a.error("[WebSocket] swfobject.embedSWF failed")})}},WebSocket.__onFlashInitialized=function(){setTimeout(function(){WebSocket.__flash=document.getElementById("webSocketFlash"),WebSocket.__flash.setCallerUrl(location.href),WebSocket.__flash.setDebug(!!window.WEB_SOCKET_DEBUG);for(var a=0;a<WebSocket.__tasks.length;++a)WebSocket.__tasks[a]();WebSocket.__tasks=[]},0)},WebSocket.__onFlashEvent=function(){return setTimeout(function(){try{for(var b=WebSocket.__flash.receiveEvents(),c=0;c<b.length;++c)WebSocket.__instances[b[c].webSocketId].__handleEvent(b[c])}catch(d){a.error(d)}},0),!0},WebSocket.__log=function(b){a.log(decodeURIComponent(b))},WebSocket.__error=function(b){a.error(decodeURIComponent(b))},WebSocket.__addTask=function(a){WebSocket.__flash?a():WebSocket.__tasks.push(a)},WebSocket.__isFlashLite=function(){if(!window.navigator||!window.navigator.mimeTypes)return!1;var a=window.navigator.mimeTypes["application/x-shockwave-flash"];return a&&a.enabledPlugin&&a.enabledPlugin.filename&&a.enabledPlugin.filename.match(/flashlite/i)?!0:!1},window.WEB_SOCKET_DISABLE_AUTO_INITIALIZATION||(window.addEventListener?window.addEventListener("load",function(){WebSocket.__initialize()},!1):window.attachEvent("onload",function(){WebSocket.__initialize()}))}}(),function(a,b,c){function d(a){a&&(b.Transport.apply(this,arguments),this.sendBuffer=[])}function e(){}a.XHR=d,b.util.inherit(d,b.Transport),d.prototype.open=function(){return this.socket.setBuffer(!1),this.onOpen(),this.get(),this.setCloseTimeout(),this},d.prototype.payload=function(a){for(var c=[],d=0,e=a.length;e>d;d++)c.push(b.parser.encodePacket(a[d]));this.send(b.parser.encodePayload(c))},d.prototype.send=function(a){return this.post(a),this},d.prototype.post=function(a){function b(){4==this.readyState&&(this.onreadystatechange=e,f.posting=!1,200==this.status?f.socket.setBuffer(!1):f.onClose())}function d(){this.onload=e,f.socket.setBuffer(!1)}var f=this;this.socket.setBuffer(!0),this.sendXHR=this.request("POST"),c.XDomainRequest&&this.sendXHR instanceof XDomainRequest?this.sendXHR.onload=this.sendXHR.onerror=d:this.sendXHR.onreadystatechange=b,this.sendXHR.send(a)},d.prototype.close=function(){return this.onClose(),this},d.prototype.request=function(a){var c=b.util.request(this.socket.isXDomain()),d=b.util.query(this.socket.options.query,"t="+ +new Date);if(c.open(a||"GET",this.prepareUrl()+d,!0),"POST"==a)try{c.setRequestHeader?c.setRequestHeader("Content-type","text/plain;charset=UTF-8"):c.contentType="text/plain"}catch(e){}return c},d.prototype.scheme=function(){return this.socket.options.secure?"https":"http"},d.check=function(a,d){try{var e=b.util.request(d),f=c.XDomainRequest&&e instanceof XDomainRequest,g=a&&a.options&&a.options.secure?"https:":"http:",h=c.location&&g!=c.location.protocol;if(e&&(!f||!h))return!0}catch(i){}return!1},d.xdomainCheck=function(a){return d.check(a,!0)}}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this),function(a,b){function c(){b.Transport.XHR.apply(this,arguments)}a.htmlfile=c,b.util.inherit(c,b.Transport.XHR),c.prototype.name="htmlfile",c.prototype.get=function(){this.doc=new(window[["Active"].concat("Object").join("X")])("htmlfile"),this.doc.open(),this.doc.write("<html></html>"),this.doc.close(),this.doc.parentWindow.s=this;var a=this.doc.createElement("div");a.className="socketio",this.doc.body.appendChild(a),this.iframe=this.doc.createElement("iframe"),a.appendChild(this.iframe);var c=this,d=b.util.query(this.socket.options.query,"t="+ +new Date);this.iframe.src=this.prepareUrl()+d,b.util.on(window,"unload",function(){c.destroy()})},c.prototype._=function(a,b){a=a.replace(/\\\//g,"/"),this.onData(a);try{var c=b.getElementsByTagName("script")[0];c.parentNode.removeChild(c)}catch(d){}},c.prototype.destroy=function(){if(this.iframe){try{this.iframe.src="about:blank"}catch(a){}this.doc=null,this.iframe.parentNode.removeChild(this.iframe),this.iframe=null,CollectGarbage()}},c.prototype.close=function(){return this.destroy(),b.Transport.XHR.prototype.close.call(this)},c.check=function(a){if("undefined"!=typeof window&&["Active"].concat("Object").join("X")in window)try{var c=new(window[["Active"].concat("Object").join("X")])("htmlfile");return c&&b.Transport.XHR.check(a)
}catch(d){}return!1},c.xdomainCheck=function(){return!1},b.transports.push("htmlfile")}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports),function(a,b,c){function d(){b.Transport.XHR.apply(this,arguments)}function e(){}a["xhr-polling"]=d,b.util.inherit(d,b.Transport.XHR),b.util.merge(d,b.Transport.XHR),d.prototype.name="xhr-polling",d.prototype.heartbeats=function(){return!1},d.prototype.open=function(){var a=this;return b.Transport.XHR.prototype.open.call(a),!1},d.prototype.get=function(){function a(){4==this.readyState&&(this.onreadystatechange=e,200==this.status?(f.onData(this.responseText),f.get()):f.onClose())}function b(){this.onload=e,this.onerror=e,f.retryCounter=1,f.onData(this.responseText),f.get()}function d(){f.retryCounter++,!f.retryCounter||f.retryCounter>3?f.onClose():f.get()}if(this.isOpen){var f=this;this.xhr=this.request(),c.XDomainRequest&&this.xhr instanceof XDomainRequest?(this.xhr.onload=b,this.xhr.onerror=d):this.xhr.onreadystatechange=a,this.xhr.send(null)}},d.prototype.onClose=function(){if(b.Transport.XHR.prototype.onClose.call(this),this.xhr){this.xhr.onreadystatechange=this.xhr.onload=this.xhr.onerror=e;try{this.xhr.abort()}catch(a){}this.xhr=null}},d.prototype.ready=function(a,c){var d=this;b.util.defer(function(){c.call(d)})},b.transports.push("xhr-polling")}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this),function(a,b,c){function d(){b.Transport["xhr-polling"].apply(this,arguments),this.index=b.j.length;var a=this;b.j.push(function(b){a._(b)})}var e=c.document&&"MozAppearance"in c.document.documentElement.style;a["jsonp-polling"]=d,b.util.inherit(d,b.Transport["xhr-polling"]),d.prototype.name="jsonp-polling",d.prototype.post=function(a){function c(){d(),e.socket.setBuffer(!1)}function d(){e.iframe&&e.form.removeChild(e.iframe);try{g=document.createElement('<iframe name="'+e.iframeId+'">')}catch(a){g=document.createElement("iframe"),g.name=e.iframeId}g.id=e.iframeId,e.form.appendChild(g),e.iframe=g}var e=this,f=b.util.query(this.socket.options.query,"t="+ +new Date+"&i="+this.index);if(!this.form){var g,h=document.createElement("form"),i=document.createElement("textarea"),j=this.iframeId="socketio_iframe_"+this.index;h.className="socketio",h.style.position="absolute",h.style.top="0px",h.style.left="0px",h.style.display="none",h.target=j,h.method="POST",h.setAttribute("accept-charset","utf-8"),i.name="d",h.appendChild(i),document.body.appendChild(h),this.form=h,this.area=i}this.form.action=this.prepareUrl()+f,d(),this.area.value=b.JSON.stringify(a);try{this.form.submit()}catch(k){}this.iframe.attachEvent?g.onreadystatechange=function(){"complete"==e.iframe.readyState&&c()}:this.iframe.onload=c,this.socket.setBuffer(!0)},d.prototype.get=function(){var a=this,c=document.createElement("script"),d=b.util.query(this.socket.options.query,"t="+ +new Date+"&i="+this.index);this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),c.async=!0,c.src=this.prepareUrl()+d,c.onerror=function(){a.onClose()};var f=document.getElementsByTagName("script")[0];f.parentNode.insertBefore(c,f),this.script=c,e&&setTimeout(function(){var a=document.createElement("iframe");document.body.appendChild(a),document.body.removeChild(a)},100)},d.prototype._=function(a){return this.onData(a),this.isOpen&&this.get(),this},d.prototype.ready=function(a,c){var d=this;return e?void b.util.load(function(){c.call(d)}):c.call(this)},d.check=function(){return"document"in c},d.xdomainCheck=function(){return!0},b.transports.push("jsonp-polling")}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this),"function"==typeof define&&define.amd&&define([],function(){return io})}()};return module}(),require._modules["/lib/store.js"]=function(){var a="/lib/store.js",b="/lib",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},d()},parent:null,children:[]},d=(c.require=window.require._bind(c),c.exports,function(){!function(a){function b(){try{return i in a&&a[i]}catch(b){return!1}}function d(a){return function(){var b=Array.prototype.slice.call(arguments,0);b.unshift(f),k.appendChild(f),f.addBehavior("#default#userData"),f.load(i);var c=a.apply(g,b);return k.removeChild(f),c}}function e(a){return a.replace(/^d/,"___$&").replace(n,"___")}var f,g={},h=a.document,i="localStorage",j="script";if(g.disabled=!1,g.set=function(){},g.get=function(){},g.remove=function(){},g.clear=function(){},g.transact=function(a,b,c){var d=g.get(a);null==c&&(c=b,b=null),"undefined"==typeof d&&(d=b||{}),c(d),g.set(a,d)},g.getAll=function(){},g.forEach=function(){},g.serialize=function(a){return JSON.stringify(a)},g.deserialize=function(a){if("string"!=typeof a)return void 0;try{return JSON.parse(a)}catch(b){return a||void 0}},b())f=a[i],g.set=function(a,b){return void 0===b?g.remove(a):(f.setItem(a,g.serialize(b)),b)},g.get=function(a){return g.deserialize(f.getItem(a))},g.remove=function(a){f.removeItem(a)},g.clear=function(){f.clear()},g.getAll=function(){var a={};return g.forEach(function(b,c){a[b]=c}),a},g.forEach=function(a){for(var b=0;b<f.length;b++){var c=f.key(b);a(c,g.get(c))}};else if(h.documentElement.addBehavior){var k,l;try{l=new ActiveXObject("htmlfile"),l.open(),l.write("<"+j+">document.w=window</"+j+'><iframe src="/favicon.ico"></iframe>'),l.close(),k=l.w.frames[0].document,f=k.createElement("div")}catch(m){f=h.createElement("div"),k=h.body}var n=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");g.set=d(function(a,b,c){return b=e(b),void 0===c?g.remove(b):(a.setAttribute(b,g.serialize(c)),a.save(i),c)}),g.get=d(function(a,b){return b=e(b),g.deserialize(a.getAttribute(b))}),g.remove=d(function(a,b){b=e(b),a.removeAttribute(b),a.save(i)}),g.clear=d(function(a){var b=a.XMLDocument.documentElement.attributes;a.load(i);for(var c,d=0;c=b[d];d++)a.removeAttribute(c.name);a.save(i)}),g.getAll=function(){var a={};return g.forEach(function(b,c){a[b]=c}),a},g.forEach=d(function(a,b){for(var c,d=a.XMLDocument.documentElement.attributes,e=0;c=d[e];++e)b(c.name,g.deserialize(a.getAttribute(c.name)))})}try{var o="__storejs__";g.set(o,o),g.get(o)!=o&&(g.disabled=!0),g.remove(o)}catch(m){g.disabled=!0}g.enabled=!g.disabled,"undefined"!=typeof c&&c.exports&&this.module!==c?c.exports=g:"function"==typeof define&&define.amd?define(g):a.store=g}(Function("return this")())});return c}(),require._modules["/lib/underscore.js"]=function(){var a="/lib/underscore.js",b="/lib",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=(c.require=window.require._bind(c),c.exports),e=function(){(function(){var a=this,b=a._,e={},f=Array.prototype,g=Object.prototype,h=Function.prototype,i=f.push,j=f.slice,k=f.concat,l=g.toString,m=g.hasOwnProperty,n=f.forEach,o=f.map,p=f.reduce,q=f.reduceRight,r=f.filter,s=f.every,t=f.some,u=f.indexOf,v=f.lastIndexOf,w=Array.isArray,x=Object.keys,y=h.bind,z=function(a){return a instanceof z?a:this instanceof z?void(this._wrapped=a):new z(a)};"undefined"!=typeof d?("undefined"!=typeof c&&c.exports&&(d=c.exports=z),d._=z):a._=z,z.VERSION="1.6.0";var A=z.each=z.forEach=function(a,b,c){if(null==a)return a;if(n&&a.forEach===n)a.forEach(b,c);else if(a.length===+a.length){for(var d=0,f=a.length;f>d;d++)if(b.call(c,a[d],d,a)===e)return}else for(var g=z.keys(a),d=0,f=g.length;f>d;d++)if(b.call(c,a[g[d]],g[d],a)===e)return;return a};z.map=z.collect=function(a,b,c){var d=[];return null==a?d:o&&a.map===o?a.map(b,c):(A(a,function(a,e,f){d.push(b.call(c,a,e,f))}),d)};var B="Reduce of empty array with no initial value";z.reduce=z.foldl=z.inject=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),p&&a.reduce===p)return d&&(b=z.bind(b,d)),e?a.reduce(b,c):a.reduce(b);if(A(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)}),!e)throw new TypeError(B);return c},z.reduceRight=z.foldr=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),q&&a.reduceRight===q)return d&&(b=z.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=a.length;if(f!==+f){var g=z.keys(a);f=g.length}if(A(a,function(h,i,j){i=g?g[--f]:--f,e?c=b.call(d,c,a[i],i,j):(c=a[i],e=!0)}),!e)throw new TypeError(B);return c},z.find=z.detect=function(a,b,c){var d;return C(a,function(a,e,f){return b.call(c,a,e,f)?(d=a,!0):void 0}),d},z.filter=z.select=function(a,b,c){var d=[];return null==a?d:r&&a.filter===r?a.filter(b,c):(A(a,function(a,e,f){b.call(c,a,e,f)&&d.push(a)}),d)},z.reject=function(a,b,c){return z.filter(a,function(a,d,e){return!b.call(c,a,d,e)},c)},z.every=z.all=function(a,b,c){b||(b=z.identity);var d=!0;return null==a?d:s&&a.every===s?a.every(b,c):(A(a,function(a,f,g){return(d=d&&b.call(c,a,f,g))?void 0:e}),!!d)};var C=z.some=z.any=function(a,b,c){b||(b=z.identity);var d=!1;return null==a?d:t&&a.some===t?a.some(b,c):(A(a,function(a,f,g){return d||(d=b.call(c,a,f,g))?e:void 0}),!!d)};z.contains=z.include=function(a,b){return null==a?!1:u&&a.indexOf===u?-1!=a.indexOf(b):C(a,function(a){return a===b})},z.invoke=function(a,b){var c=j.call(arguments,2),d=z.isFunction(b);return z.map(a,function(a){return(d?b:a[b]).apply(a,c)})},z.pluck=function(a,b){return z.map(a,z.property(b))},z.where=function(a,b){return z.filter(a,z.matches(b))},z.findWhere=function(a,b){return z.find(a,z.matches(b))},z.max=function(a,b,c){if(!b&&z.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.max.apply(Math,a);var d=-1/0,e=-1/0;return A(a,function(a,f,g){var h=b?b.call(c,a,f,g):a;h>e&&(d=a,e=h)}),d},z.min=function(a,b,c){if(!b&&z.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.min.apply(Math,a);var d=1/0,e=1/0;return A(a,function(a,f,g){var h=b?b.call(c,a,f,g):a;e>h&&(d=a,e=h)}),d},z.shuffle=function(a){var b,c=0,d=[];return A(a,function(a){b=z.random(c++),d[c-1]=d[b],d[b]=a}),d},z.sample=function(a,b,c){return null==b||c?(a.length!==+a.length&&(a=z.values(a)),a[z.random(a.length-1)]):z.shuffle(a).slice(0,Math.max(0,b))};var D=function(a){return null==a?z.identity:z.isFunction(a)?a:z.property(a)};z.sortBy=function(a,b,c){return b=D(b),z.pluck(z.map(a,function(a,d,e){return{value:a,index:d,criteria:b.call(c,a,d,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index-b.index}),"value")};var E=function(a){return function(b,c,d){var e={};return c=D(c),A(b,function(f,g){var h=c.call(d,f,g,b);a(e,h,f)}),e}};z.groupBy=E(function(a,b,c){z.has(a,b)?a[b].push(c):a[b]=[c]}),z.indexBy=E(function(a,b,c){a[b]=c}),z.countBy=E(function(a,b){z.has(a,b)?a[b]++:a[b]=1}),z.sortedIndex=function(a,b,c,d){c=D(c);for(var e=c.call(d,b),f=0,g=a.length;g>f;){var h=f+g>>>1;c.call(d,a[h])<e?f=h+1:g=h}return f},z.toArray=function(a){return a?z.isArray(a)?j.call(a):a.length===+a.length?z.map(a,z.identity):z.values(a):[]},z.size=function(a){return null==a?0:a.length===+a.length?a.length:z.keys(a).length},z.first=z.head=z.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:0>b?[]:j.call(a,0,b)},z.initial=function(a,b,c){return j.call(a,0,a.length-(null==b||c?1:b))},z.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:j.call(a,Math.max(a.length-b,0))},z.rest=z.tail=z.drop=function(a,b,c){return j.call(a,null==b||c?1:b)},z.compact=function(a){return z.filter(a,z.identity)};var F=function(a,b,c){return b&&z.every(a,z.isArray)?k.apply(c,a):(A(a,function(a){z.isArray(a)||z.isArguments(a)?b?i.apply(c,a):F(a,b,c):c.push(a)}),c)};z.flatten=function(a,b){return F(a,b,[])},z.without=function(a){return z.difference(a,j.call(arguments,1))},z.partition=function(a,b){var c=[],d=[];return A(a,function(a){(b(a)?c:d).push(a)}),[c,d]},z.uniq=z.unique=function(a,b,c,d){z.isFunction(b)&&(d=c,c=b,b=!1);var e=c?z.map(a,c,d):a,f=[],g=[];return A(e,function(c,d){(b?d&&g[g.length-1]===c:z.contains(g,c))||(g.push(c),f.push(a[d]))}),f},z.union=function(){return z.uniq(z.flatten(arguments,!0))},z.intersection=function(a){var b=j.call(arguments,1);return z.filter(z.uniq(a),function(a){return z.every(b,function(b){return z.contains(b,a)})})},z.difference=function(a){var b=k.apply(f,j.call(arguments,1));return z.filter(a,function(a){return!z.contains(b,a)})},z.zip=function(){for(var a=z.max(z.pluck(arguments,"length").concat(0)),b=new Array(a),c=0;a>c;c++)b[c]=z.pluck(arguments,""+c);return b},z.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},z.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=z.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,e+c):c}if(u&&a.indexOf===u)return a.indexOf(b,c);for(;e>d;d++)if(a[d]===b)return d;return-1},z.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=null!=c;if(v&&a.lastIndexOf===v)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);for(var e=d?c:a.length;e--;)if(a[e]===b)return e;return-1},z.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=new Array(d);d>e;)f[e++]=a,a+=c;return f};var G=function(){};z.bind=function(a,b){var c,d;if(y&&a.bind===y)return y.apply(a,j.call(arguments,1));if(!z.isFunction(a))throw new TypeError;return c=j.call(arguments,2),d=function(){if(!(this instanceof d))return a.apply(b,c.concat(j.call(arguments)));G.prototype=a.prototype;var e=new G;G.prototype=null;var f=a.apply(e,c.concat(j.call(arguments)));return Object(f)===f?f:e}},z.partial=function(a){var b=j.call(arguments,1);return function(){for(var c=0,d=b.slice(),e=0,f=d.length;f>e;e++)d[e]===z&&(d[e]=arguments[c++]);for(;c<arguments.length;)d.push(arguments[c++]);return a.apply(this,d)}},z.bindAll=function(a){var b=j.call(arguments,1);if(0===b.length)throw new Error("bindAll must be passed function names");return A(b,function(b){a[b]=z.bind(a[b],a)}),a},z.memoize=function(a,b){var c={};return b||(b=z.identity),function(){var d=b.apply(this,arguments);return z.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},z.delay=function(a,b){var c=j.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},z.defer=function(a){return z.delay.apply(z,[a,1].concat(j.call(arguments,1)))},z.throttle=function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=c.leading===!1?0:z.now(),g=null,f=a.apply(d,e),d=e=null};return function(){var j=z.now();h||c.leading!==!1||(h=j);var k=b-(j-h);return d=this,e=arguments,0>=k?(clearTimeout(g),g=null,h=j,f=a.apply(d,e),d=e=null):g||c.trailing===!1||(g=setTimeout(i,k)),f}},z.debounce=function(a,b,c){var d,e,f,g,h,i=function(){var j=z.now()-g;b>j?d=setTimeout(i,b-j):(d=null,c||(h=a.apply(f,e),f=e=null))};return function(){f=this,e=arguments,g=z.now();var j=c&&!d;return d||(d=setTimeout(i,b)),j&&(h=a.apply(f,e),f=e=null),h}},z.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}},z.wrap=function(a,b){return z.partial(b,a)},z.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},z.after=function(a,b){return function(){return--a<1?b.apply(this,arguments):void 0}},z.keys=function(a){if(!z.isObject(a))return[];if(x)return x(a);var b=[];for(var c in a)z.has(a,c)&&b.push(c);return b},z.values=function(a){for(var b=z.keys(a),c=b.length,d=new Array(c),e=0;c>e;e++)d[e]=a[b[e]];return d},z.pairs=function(a){for(var b=z.keys(a),c=b.length,d=new Array(c),e=0;c>e;e++)d[e]=[b[e],a[b[e]]];return d},z.invert=function(a){for(var b={},c=z.keys(a),d=0,e=c.length;e>d;d++)b[a[c[d]]]=c[d];return b},z.functions=z.methods=function(a){var b=[];for(var c in a)z.isFunction(a[c])&&b.push(c);return b.sort()},z.extend=function(a){return A(j.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a},z.pick=function(a){var b={},c=k.apply(f,j.call(arguments,1));return A(c,function(c){c in a&&(b[c]=a[c])}),b},z.omit=function(a){var b={},c=k.apply(f,j.call(arguments,1));for(var d in a)z.contains(c,d)||(b[d]=a[d]);return b},z.defaults=function(a){return A(j.call(arguments,1),function(b){if(b)for(var c in b)void 0===a[c]&&(a[c]=b[c])}),a},z.clone=function(a){return z.isObject(a)?z.isArray(a)?a.slice():z.extend({},a):a},z.tap=function(a,b){return b(a),a};var H=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof z&&(a=a._wrapped),b instanceof z&&(b=b._wrapped);var e=l.call(a);if(e!=l.call(b))return!1;switch(e){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]==a)return d[f]==b;var g=a.constructor,h=b.constructor;if(g!==h&&!(z.isFunction(g)&&g instanceof g&&z.isFunction(h)&&h instanceof h)&&"constructor"in a&&"constructor"in b)return!1;c.push(a),d.push(b);var i=0,j=!0;if("[object Array]"==e){if(i=a.length,j=i==b.length)for(;i--&&(j=H(a[i],b[i],c,d)););}else{for(var k in a)if(z.has(a,k)&&(i++,!(j=z.has(b,k)&&H(a[k],b[k],c,d))))break;if(j){for(k in b)if(z.has(b,k)&&!i--)break;j=!i}}return c.pop(),d.pop(),j};z.isEqual=function(a,b){return H(a,b,[],[])},z.isEmpty=function(a){if(null==a)return!0;if(z.isArray(a)||z.isString(a))return 0===a.length;for(var b in a)if(z.has(a,b))return!1;return!0},z.isElement=function(a){return!(!a||1!==a.nodeType)},z.isArray=w||function(a){return"[object Array]"==l.call(a)},z.isObject=function(a){return a===Object(a)},A(["Arguments","Function","String","Number","Date","RegExp"],function(a){z["is"+a]=function(b){return l.call(b)=="[object "+a+"]"}}),z.isArguments(arguments)||(z.isArguments=function(a){return!(!a||!z.has(a,"callee"))}),"function"!=typeof/./&&(z.isFunction=function(a){return"function"==typeof a}),z.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},z.isNaN=function(a){return z.isNumber(a)&&a!=+a},z.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==l.call(a)},z.isNull=function(a){return null===a},z.isUndefined=function(a){return void 0===a},z.has=function(a,b){return m.call(a,b)},z.noConflict=function(){return a._=b,this},z.identity=function(a){return a},z.constant=function(a){return function(){return a}},z.property=function(a){return function(b){return b[a]}},z.matches=function(a){return function(b){if(b===a)return!0;for(var c in a)if(a[c]!==b[c])return!1;return!0}},z.times=function(a,b,c){for(var d=Array(Math.max(0,a)),e=0;a>e;e++)d[e]=b.call(c,e);return d},z.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))},z.now=Date.now||function(){return(new Date).getTime()};var I={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};I.unescape=z.invert(I.escape);var J={escape:new RegExp("["+z.keys(I.escape).join("")+"]","g"),unescape:new RegExp("("+z.keys(I.unescape).join("|")+")","g")};z.each(["escape","unescape"],function(a){z[a]=function(b){return null==b?"":(""+b).replace(J[a],function(b){return I[a][b]})}}),z.result=function(a,b){if(null==a)return void 0;var c=a[b];return z.isFunction(c)?c.call(a):c},z.mixin=function(a){A(z.functions(a),function(b){var c=z[b]=a[b];z.prototype[b]=function(){var a=[this._wrapped];return i.apply(a,arguments),O.call(this,c.apply(z,a))}})};var K=0;z.uniqueId=function(a){var b=++K+"";return a?a+b:b},z.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var L=/(.)^/,M={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},N=/\\|'|\r|\n|\t|\u2028|\u2029/g;z.template=function(a,b,c){var d;c=z.defaults({},c,z.templateSettings);var e=new RegExp([(c.escape||L).source,(c.interpolate||L).source,(c.evaluate||L).source].join("|")+"|$","g"),f=0,g="__p+='";a.replace(e,function(b,c,d,e,h){return g+=a.slice(f,h).replace(N,function(a){return"\\"+M[a]}),c&&(g+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'"),d&&(g+="'+\n((__t=("+d+"))==null?'':__t)+\n'"),e&&(g+="';\n"+e+"\n__p+='"),f=h+b.length,b}),g+="';\n",c.variable||(g="with(obj||{}){\n"+g+"}\n"),g="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+g+"return __p;\n";try{d=new Function(c.variable||"obj","_",g)}catch(h){throw h.source=g,h}if(b)return d(b,z);var i=function(a){return d.call(this,a,z)};return i.source="function("+(c.variable||"obj")+"){\n"+g+"}",i},z.chain=function(a){return z(a).chain()};var O=function(a){return this._chain?z(a).chain():a};z.mixin(z),A(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=f[a];z.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!=a&&"splice"!=a||0!==c.length||delete c[0],O.call(this,c)}}),A(["concat","join","slice"],function(a){var b=f[a];z.prototype[a]=function(){return O.call(this,b.apply(this._wrapped,arguments))}}),z.extend(z.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return z})}).call(this)};return c}(),require._modules["/lib/uuid-v4.js"]=function(){var a="/lib/uuid-v4.js",b="/lib",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=(c.require=window.require._bind(c),c.exports),e=function(){d=c.exports=function(){for(var a,b="",c=0;32>c;c++)a=16*d.random()|0,c>4&&21>c&&!(c%4)&&(b+="-"),b+=(12===c?4:16===c?3&a|8:a).toString(16);return b};var a=/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/;d.isUUID=function(b){return a.test(b)},d.random=function(){return Math.random()}};return c}(),require._modules["/models/comment.js"]=function(){var a="/models/comment.js",b="/models",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){{var a=d("cloak/model"),b=d("models/user"),e=d("models/document"),f=d("quilljs-renderer");c.exports=a.extend({url:"/documents/{document}/comments{/#}",attributes:{document:e,author:b,content:null,created:null,updated:null},render:function(){var a=new f.Document(this.get("content"));return a.convertTo("html",{line:'<p class="line" style="{lineStyle}">{content}</p>'})}})}});return c}(),require._modules["/models/document.js"]=function(){var a="/models/document.js",b="/models",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){var a=d("cloak/model"),b=d("cloak/model-stores/dagger").Request,e=d("models/user"),f=d("models/comment"),g=d("quilljs-renderer"),h=d("rich-text").Delta,i=c.exports=a.extend({url:"/documents{/#}",attributes:{name:"",description:"","public":!1,owner:e,created:null,updated:null,collaborators:e.Collection,adultContent:!1,allowComments:!0,tags:null,current:null,draft:null,history:null,isStarred:!1},star:function(){var a=this;return this.set("isStarred",!0),b.send("POST","/documents/"+this.id()+"/star").then(function(){},function(){a.set("isStarred",!1)})},unstar:function(){var a=this;return this.set("isStarred",!1),b.send("DELETE","/documents/"+this.id()+"/star").then(function(){},function(){a.set("isStarred",!0)})},hasDraft:function(){var a=this.get("draft");return!(!a||!a.created)},saveDraft:function(){},findComments:function(a){return b.send("GET",this.subUrl("/comments"),a).then(function(a){return(new f.Collection).add(a.body)})},postComment:function(a){return b.send("POST",this.subUrl("/comments"),{content:a}).then(function(a){return new f(a.body)})},render:function(a){var b=a?this.getCommitContent(a):this.get("current").composed;return b?new g.Document(b).convertTo("html",{line:'<p class="line" style="{lineStyle}">{content}</p>'}):""},getCommitContent:function(a){var b=this.get("history"),c=new h(b[0].ops);if(b[0]._id===a)return c.ops;for(var d=1,e=b.length;e>d;d++)if(c.compose(new h(b[d].ops)),b[d]._id===a)return c.ops;return null}});i.find=function(a){return b.send("GET","/documents",a).then(function(a){return(new i.Collection).add(a.body)})},i.findById=function(a,c){return b.send("GET","/documents/"+a,c).then(function(a){return i.create(a.body)})},i.findByOwner=function(a){return a instanceof e?a.fetchDocuments():i.find({filter:{owner:a}})}});return c}(),require._modules["/models/inbox.js"]=function(){var a="/models/inbox.js",b="/models",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){{var a=(d("common/auth"),d("cloak/model")),b=(d("cloak/model-stores/dagger").Request,d("models/user")),e=d("models/notification");c.exports=a.extend({url:"/inbox",attributes:{user:b,notifications:e.Collection},initialize:function(a){a instanceof b&&this.set("user",a)},fetchNotifications:function(){}})}});return c}(),require._modules["/models/user.js"]=function(){var a="/models/user.js",b="/models",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){var a,b=d("cloak/model"),e=d("cloak/underscore"),f=d("cloak/model-stores/dagger").Request,g=d("common/md5"),h=c.exports=b.extend({url:"/users{/#}",attributes:{username:"",email:"",phone:"",profile:null},gravatarHash:function(){return g(this.get("email").toLowerCase().replace(/^\s+/,"").replace(/\s+$/,""))},fetchDocuments:function(b){var c={filter:{owner:this.id()}};return c=e.extend(c,b),f.send("GET","/documents",c).then(function(b){return(new a.Collection).add(b.body)})},fetchRecentlyStarred:function(){var b={limit:5,fields:"-draft -current",sort:"-starredBy.datetime",filter:{"starredBy.user":this.id()}};return f.send("GET","/documents",b).then(function(b){return(new a.Collection).add(b.body)})}});a=d("models/document"),h.find=function(a){return f.send("GET","/users",a).then(function(a){return(new h.Collection).add(a.body)})},h.findByUsername=function(a){var b={filter:{username:a}};return f.send("GET","/users",b).then(function(a){if(a.body.length)return new h(a.body[0]);throw new Error("User not found")})},h.current=function(){var a=new h;return a.id("me"),a.load().then(function(){return a})}});return c}(),require._modules["/routers/dashboard.js"]=function(){var a="/routers/dashboard.js",b="/routers",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){function a(a){switch(a){case"any":return null;case"today":return e().subtract(1,"day").format();case"week":return e().subtract(1,"week").format();case"month":return e().subtract(1,"month").format()}}{var b=d("purl"),e=(d("cloak"),d("moment")),f=d("cloak/router"),g=d("common/auth"),h=d("models/user"),i=d("models/document"),j=d("views/dashboard/dashboard"),k=d("views/create-document/create-document"),l=d("views/profile/profile"),m=d("views/search/search"),n=d("views/search/results/results"),i=(d("views/quill/quill"),d("cloak/model-stores/dagger").Request,d("models/document"));c.exports=f.extend({routes:{"/dashboard":"dashboard","/create":"createDocument","/user/:username":"profile","/search":"search","/search/results":"searchResults"},initialize:function(){},dashboard:function(){if(document.title="Dashboard / Collabish",!g.user)return void this.redirectTo("/");var a=new j,b=this.parent.renderView(a);Promise.all([g.user.fetchDocuments({sort:"-updated",fields:"-current -draft"}),b]).then(function(b){a.documents=b[0],a.drawDocuments()}),Promise.all([g.user.fetchRecentlyStarred(),b]).then(function(b){a.recent=b[0],a.drawRecentlyStarred()})},createDocument:function(){return document.title="Create Document / Collabish",g.user?void this.parent.renderView(new k):void this.redirectTo("/")},profile:function(a){if(document.title=a.username+" / Profile / Collabish",!g.user)return void this.redirectTo("/");var b,c=new l(a.username),d=this.parent.renderView(c);Promise.all([h.findByUsername(a.username),d]).then(function(a){b=a[0]},function(){return c.showNotfound(),Promise.reject()}).then(function(){return i.findByOwner(b)}).then(function(a){c.user=b,c.documents=a,c.drawUser()})},search:function(){document.title="Search Documents / Collabish";var a=new m({query:b(location).param()});this.parent.renderView(a)},searchResults:function(){document.title="Search Results / Collabish";var c=new n,d=this.parent.renderView(c),e={},f=b(location).param();if(f.query&&(e.$or=f.query.split(/\s+/).map(function(a){return"/"+a+"/"})),f.tags){var g=[],h=[];e.tags={},f.tags.split(",").forEach(function(a){"-"===a[0]?h.push(a.slice(1)):g.push(a)}),g.length&&("any"===f.tagging?e.tags.$in=g:e.tags.$all=g),h.length&&(e.tags.$nin=h)}switch(f.adult||"no"){case"either":break;case"yes":e.adult={$eq:!0};break;case"no":e.adult={$eq:!1}}var j=a(f.created);j&&(e.created={$gte:j});var k=a(f.updated);k&&(e.updated={$gte:k}),e=i.find({filter:e,limit:10}),Promise.all([e,d]).then(function(a){c.documents=a[0],c.drawResults()})}})}});return c}(),require._modules["/routers/document.js"]=function(){var a="/routers/document.js",b="/routers",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){{var a=(d("purl"),d("cloak"),d("cloak/router")),b=d("common/auth"),e=(d("models/user"),d("views/document/document")),f=d("views/document/read/read"),g=(d("cloak/model-stores/dagger").Request,d("models/document"));c.exports=a.extend({routes:{"/document/:id":"overview","/document/:id/read":"readDocument","/document/:id/read/:commit":"readDocument","/document/:id/settings":"documentSettings"},initialize:function(){},overview:function(a){if(document.title="Document / Collabish",!b.user)return void this.redirectTo("/");var c=new e,d=this.parent.renderView(c),f=g.find({filter:{_id:a.id},populate:"owner,collaborators,history"});Promise.all([f,d]).then(function(a){return c.document=a[0].models[0],document.title=c.document.get("name")+" / Collabish",c.drawDocument(),c.document.findComments({populate:"author",sort:"-created"})}).then(function(a){c.drawComments(a)}).catch(function(a){console.error(a.stack||a)})},readDocument:function(a){if(document.title="Read Document / Collabish",!b.user)return void this.redirectTo("/");var c=new f,d=this.parent.renderView(c),e=g.findById(a.id,{populate:a.commit?"owner history":"owner"});Promise.all([e,d]).then(function(b){c.document=b[0],c.drawDocument(a.commit)}).catch(function(a){console.error(a.stack||a)})},documentSettings:function(){document.title="Document - Settings / Collabish"}})}});return c}(),require._modules["/routers/main.js"]=function(){var a="/routers/main.js",b="/routers",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){{var a=d("jquery"),b=(d("cloak"),d("common/auth")),e=d("cloak/router"),f=d("promise").Promise,g=d("views/header/header"),h=d("views/footer/footer"),i=d("views/notfound/notfound");c.exports=e.extend({routes:{},initialize:function(){this.$header=a("#wrapper > header"),this.$content=a("#wrapper > main"),this.$footer=a("#wrapper > footer"),this.header=null,this.footer=null,this.currentView=null,this.bind("notfound"),this.on("notfound",this.notfound),this.bind("drawHeader","removeHeader"),b.on("login",this.drawHeader),b.on("logout",this.removeHeader),b.user&&this.drawHeader(),this.drawFooter(),a("#wrapper").on("click",'a[href^="#"], a[href^="/#"]',this.handleAnchor),this.on("statechange",function(){ga("send","pageview")})},notfound:function(){document.title="Not Found / Collabish",this.renderView(new i)
},drawFooter:function(){this.footer||(this.footer=new h,this.footer.$elem=this.$footer,this.footer.draw())},drawHeader:function(){this.header||(this.header=new g,this.header.$elem.appendTo(this.$header),this.header.draw())},removeHeader:function(){this.header&&(this.header.remove(),this.header=null)},renderView:function(a,b){function c(a){return d.currentView?e?void d.$content.animate({opacity:0},g,function(){d.currentView.remove(),d.currentView=null,a()}):(d.currentView.remove(),d.currentView=null,a()):a()}var d=this,e=!(b&&b.animate===!1),g=b&&b.duration||600,h=b&&b.callback||function(){};return new f(function(b){c(function(){return d.currentView=a,a.draw(),a.$elem.appendTo(d.$content),e?void d.$content.animate({opacity:1},g,function(){h(),b()}):(h(),void b())})})}})}});return c}(),require._modules["/routers/settings.js"]=function(){var a="/routers/settings.js",b="/routers",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){{var a=(d("cloak"),d("cloak/router")),b=d("common/auth"),e=d("views/settings/settings"),f=d("views/settings/profile/profile"),g=d("views/settings/authentication/authentication"),h=d("views/settings/notification/notification"),i=d("views/settings/account/account");d("cloak/model-stores/dagger").Request,c.exports=a.extend({routes:{"/settings":"settings","/settings/profile":"profile","/settings/authentication":"authentication","/settings/notification":"notification","/settings/account":"account"},initialize:function(){},settings:function(){this.redirectTo(b.user?"/settings/profile":"/")},profile:function(){return document.title="Account Settings / Collabish",b.user?void this._ensureSettingsPage().then(function(a){a.showSubscreen(new f)}):void this.redirectTo("/")},authentication:function(){return document.title="Account Settings / Collabish",b.user?void this._ensureSettingsPage().then(function(a){a.showSubscreen(new g)}):void this.redirectTo("/")},notification:function(){return document.title="Account Settings / Collabish",b.user?void this._ensureSettingsPage().then(function(a){a.showSubscreen(new h)}):void this.redirectTo("/")},account:function(){return document.title="Account Settings / Collabish",b.user?void this._ensureSettingsPage().then(function(a){a.showSubscreen(new i)}):void this.redirectTo("/")},_ensureSettingsPage:function(){var a=this.parent;return a.currentView instanceof e?Promise.resolve(a.currentView):a.renderView(new e).then(function(){return a.currentView})}})}});return c}(),require._modules["/routers/welcome.js"]=function(){var a="/routers/welcome.js",b="/routers",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){{var a=(d("cloak"),d("cloak/router")),b=d("cloak/model-stores/dagger").Request,e=d("purl"),f=d("common/auth"),g=d("views/welcome/welcome"),h=d("views/welcome/signup/signup"),i=d("views/welcome/auth/twostep/twostep"),j=d("views/welcome/auth/email-confirmation/email-confirmation");c.exports=a.extend({routes:{"/":"welcome","/welcome":"welcome","/signup":"signup","/auth/email-confirm":"emailConfirm","/auth/twostep":"twostepAuth","/auth/ping-fail":"pingFail"},initialize:function(){},welcome:function(){return document.title="Collabish",f.user?void this.redirectTo("/dashboard"):void this.parent.renderView(new g)},signup:function(a,b,c){return document.title="Signup / Collabish",f.user?void this.redirectTo("/dashboard"):void this.parent.renderView(new h(c.state.data))},emailConfirm:function(){document.title="Email Confirmation / Collabish";var a=new j,c=e(location).param("token");this.parent.renderView(a),b.send("PUT","/auth/email-confirmation/"+c).then(function(){a.showSuccess()},function(){a.showError()})},twostepAuth:function(){return document.title="Two Step Auth / Collabish",f.user?void this.redirectTo("/dashboard"):void this.parent.renderView(new i)},pingFail:function(){setTimeout(function(){try{this.parent.currentView.nav.showLogin(),this.parent.currentView.nav.modal.showError("Your authentication token expired")}catch(a){}},3e3),this.parent.redirectTo("/")}})}});return c}(),require._modules["/startup.js"]=function(){var a="/startup.js",b="/",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},f()},parent:null,children:[]},d=c.require=window.require._bind(c),e=c.exports,f=function(){function a(){!function(a,b,c,d,e,f,g){a.GoogleAnalyticsObject=e,a[e]=a[e]||function(){(a[e].q=a[e].q||[]).push(arguments)},a[e].l=1*new Date,f=b.createElement(c),g=b.getElementsByTagName(c)[0],f.async=1,f.src=d,g.parentNode.insertBefore(f,g)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-55524086-1","auto"),d("history").enabled||ga("send","pageview")}function b(a){var b=d("socket.io"),c=d("cloak").config,e=location.protocol+"//"+a;c.socket=b.connect(e),c.modelStore=d("cloak/model-stores/dagger")}e.run=function(c){window.History={options:{html4Mode:!0}},"JSON"in window||d("json2"),"Promise"in window||d("promise").install(),a(),b(c.apiServer),d("cloak").config.viewTag="section",d("common/templates"),d("common/handlebars-helpers"),d("jquery.hotkeys"),d("jquery.atwho"),d("common/spin"),d("common/icons"),d("common/disable"),d("quilljs-renderer").loadFormat("html");var e=d("common/auth"),f=d("routers/main");e.check().then(function(){window.router=new f({autoStart:!1}).use(d("routers/welcome")).use(d("routers/dashboard")).use(d("routers/settings")).use(d("routers/document")).start()}).catch(function(a){console.error(a.stack||a)})}};return c}(),require._modules["/templates.js"]=function(){var a="/templates.js",b="/",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},f()},parent:null,children:[]},d=c.require=window.require._bind(c),e=c.exports,f=function(){var a="undefined"==typeof window?global:window,b=a.Handlebars||d("handlebars");this.exports=this.exports||{},this.exports["index.hbs"]=b.template(function(a,b,c,d,e){function f(){return".min"}function g(){return"'api.collabish.me'"}function h(){return"'localhost:3000'"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var i,j,k="",l="function",m=this.escapeExpression,n=this;return k+='<!doctype html>\n<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->\n<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->\n<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->\n<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->\n<!--[if gt IE 8]><!--> <html lang="en"> <!--<![endif]-->\n<head>\n\n	<title>Collabish</title>\n\n	<meta charset="utf-8" />\n	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">\n	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, maximum-scale=1.0" />\n\n	<link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,700,300,400,600,800" />\n	<link rel="stylesheet" type="text/css" href="//',(j=c["static"])?i=j.call(b,{hash:{},data:e}):(j=b&&b["static"],i=typeof j===l?j.call(b,{hash:{},data:e}):j),k+=m(i)+"/css/app",i=c["if"].call(b,b&&b.production,{hash:{},inverse:n.noop,fn:n.program(1,f,e),data:e}),(i||0===i)&&(k+=i),k+='.css" />\n\n</head>\n<body>\n\n	<div id="wrapper">\n		<header></header>\n		<main></main>\n		<footer></footer>\n	</div>\n\n	<script src="//',(j=c["static"])?i=j.call(b,{hash:{},data:e}):(j=b&&b["static"],i=typeof j===l?j.call(b,{hash:{},data:e}):j),k+=m(i)+"/build",i=c["if"].call(b,b&&b.production,{hash:{},inverse:n.noop,fn:n.program(1,f,e),data:e}),(i||0===i)&&(k+=i),k+=".js\"></script>\n	<script>\n		require.paths.push('/lib', '/vendor');\n		require('startup').run({\n			apiServer: ",i=c["if"].call(b,b&&b.production,{hash:{},inverse:n.program(5,h,e),fn:n.program(3,g,e),data:e}),(i||0===i)&&(k+=i),k+="\n		});\n	</script>\n\n</body>\n</html>"}),this.exports["views/create-document/create-document.hbs"]=b.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i=c.helperMissing,j=this.escapeExpression;return h+='<main class="row">\n	<div class="small-12 medium-6 medium-centered columns">\n		<h2>Create Document</h2>\n		<div class="error hide"></div>\n		<form>\n			<label class="name">\n				Name\n				<input type="text" />\n			</label>\n			<label class="description">\n				Description\n				<input type="text" />\n			</label>\n			<label class="adult-content">\n				Adult Content\n				<div>\n					<input type="checkbox" />\n					Will this document contain adult content?\n				</div>\n			</label>\n			<label class="privacy">\n				Privacy\n				<label for="privacy-public" class="row">\n					<div class="small-2 columns icon">\n						'+j((f=c.icon||b&&b.icon,g={hash:{},data:e},f?f.call(b,"users",g):i.call(b,"icon","users",g)))+'\n					</div>\n					<div class="small-10 columns">\n						<label class="public">\n							<input type="radio" id="privacy-public" name="privacy" checked />\n							<strong>Public</strong><br />\n							Anyone can view or comment on your document (you can still mark individual\n							revisions as private).\n						</label>\n					</div>\n				</label>\n				<label for="privacy-private" class="row">\n					<div class="small-2 columns icon">\n						'+j((f=c.icon||b&&b.icon,g={hash:{},data:e},f?f.call(b,"lock",g):i.call(b,"icon","lock",g)))+'\n					</div>\n					<div class="small-10 columns">\n						<label class="private">\n							<input type="radio" id="privacy-private" name="privacy" />\n							<strong>Private</strong><br />\n							Only you and specific users you select as collaborators can view or comment\n							on your document.\n						</label>\n					</div>\n				</label>\n			</label>\n			<label class="tags">\n				Tags\n				\n			</label>\n			<div class="button-wrapper">\n				<button class="submit action button">Create Document</button>\n			</div>\n		</form>\n	</div>\n</main>'}),this.exports["views/dashboard/dashboard.hbs"]=b.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f="";return f+='<h1>Dashboard</h1>\n<div class="row">\n	<div class="small-12 medium-6 columns">\n		<h2>Your Documents</h2>\n		<section class="documents">\n			\n		</section>\n	</div>\n	<div class="small-12 medium-6 columns">\n		<h2>Recently Starred Documents</h2>\n		<section class="recent">\n			\n		</section>\n	</div>\n</div>'}),this.exports["views/dashboard/no-docs.hbs"]=b.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<div class="no-results panel">\n	<h3>You haven\'t created any documents</h3>\n	<p>\n		Why not <a href="/#create">create one</a>?\n	</p>\n</div>'}),this.exports["views/dashboard/no-recents.hbs"]=b.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<div class="no-results panel">\n	<h3>You haven\'t starred any documents</h3>\n	<p>\n		Why not <a href="/#search">take a look around</a>?\n	</p>\n</div>'}),this.exports["views/document/comment/comment.hbs"]=b.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+='\n			<a class="edit" data-tooltip="Edit">'+l((d=c.icon||a&&a.icon,e={hash:{},data:b},d?d.call(a,"edit",e):k.call(a,"icon","edit",e)))+'</a>\n			<a class="delete" data-tooltip="Delete">'+l((d=c.icon||a&&a.icon,e={hash:{},data:b},d?d.call(a,"trash-o",e):k.call(a,"icon","trash-o",e)))+"</a>\n			"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g,h,i,j="",k=c.helperMissing,l=this.escapeExpression,m="function",n=this;return j+='<div class="gravatar">\n	<img src="'+l((h=c.gravatar||b&&b.gravatar,i={hash:{},data:e},h?h.call(b,b&&b.gravatarHash,"s=48",i):k.call(b,"gravatar",b&&b.gravatarHash,"s=48",i)))+'" width="48" height="48" alt="" title="" />\n</div>\n<div class="content">\n	<a href="/#user/'+l((g=b&&b.comment,g=null==g||g===!1?g:g.author,g=null==g||g===!1?g:g.username,typeof g===m?g.apply(b):g))+'" rel="author">'+l((g=b&&b.comment,g=null==g||g===!1?g:g.author,g=null==g||g===!1?g:g.username,typeof g===m?g.apply(b):g))+"</a>\n	<main>",(h=c.content)?g=h.call(b,{hash:{},data:e}):(h=b&&b.content,g=typeof h===m?h.call(b,{hash:{},data:e}):h),(g||0===g)&&(j+=g),j+='</main>\n	<footer>\n		<span class="posted">Posted: '+l((h=c.fromNow||b&&b.fromNow,i={hash:{},data:e},h?h.call(b,(g=b&&b.comment,null==g||g===!1?g:g.created),i):k.call(b,"fromNow",(g=b&&b.comment,null==g||g===!1?g:g.created),i)))+'</span>\n		<div class="actions">\n			',g=c["if"].call(b,b&&b.isAuthor,{hash:{},inverse:n.noop,fn:n.program(1,f,e),data:e}),(g||0===g)&&(j+=g),j+='\n			<a class="reply" data-tooltip="Reply">'+l((h=c.icon||b&&b.icon,i={hash:{},data:e},h?h.call(b,"reply",i):k.call(b,"icon","reply",i)))+"</a>\n		</div>\n	</footer>\n</div>"}),this.exports["views/document/document.hbs"]=b.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+='<a class="edit">'+E((d=c.i18n||a&&a.i18n,e={hash:{},data:b},d?d.call(a,"actions.edit",e):D.call(a,"i18n","actions.edit",e)))+"</a>"}function g(a,b){var d,e,f="";return f+='\n				<a href="/#search?tags='+E((d=c.encode||a&&a.encode,e={hash:{},data:b},d?d.call(a,a,e):D.call(a,"encode",a,e)))+'">\n					<span class="label radius">'+E(typeof a===F?a.apply(a):a)+"</span>\n				</a>\n				"}function h(a,b){var d,e,f="";return f+='\n				<span data-tooltip="'+E((d=c.i18n||a&&a.i18n,e={hash:{},data:b},d?d.call(a,"doc_overview.adult_content",e):D.call(a,"i18n","doc_overview.adult_content",e)))+'">\n					'+E((d=c.icon||a&&a.icon,e={hash:{},data:b},d?d.call(a,"eye-slash",e):D.call(a,"icon","eye-slash",e)))+"\n				</span>\n				"}function i(a,b){var d,e,f,g="";return g+='\n				<span data-tooltip="'+E((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"doc_overview.shared_with",(d=a&&a.document,d=null==d||d===!1?d:d.collaborators,null==d||d===!1?d:d.length),f):D.call(a,"i18n","doc_overview.shared_with",(d=a&&a.document,d=null==d||d===!1?d:d.collaborators,null==d||d===!1?d:d.length),f)))+'">\n					'+E((e=c.icon||a&&a.icon,f={hash:{},data:b},e?e.call(a,"share-alt",f):D.call(a,"icon","share-alt",f)))+"\n				</span>\n				"}function j(a,b){var d,e,f="";return f+='\n				<span data-tooltip="'+E((d=c.i18n||a&&a.i18n,e={hash:{},data:b},d?d.call(a,"doc_overview.is_private",e):D.call(a,"i18n","doc_overview.is_private",e)))+'">\n					'+E((d=c.icon||a&&a.icon,e={hash:{},data:b},d?d.call(a,"lock",e):D.call(a,"icon","lock",e)))+"\n				</span>\n				"}function k(a,b){var d,e,f="";return f+='\n				<span data-tooltip="'+E((d=c.i18n||a&&a.i18n,e={hash:{},data:b},d?d.call(a,"doc_overview.is_public",e):D.call(a,"i18n","doc_overview.is_public",e)))+'">\n					'+E((d=c.icon||a&&a.icon,e={hash:{},data:b},d?d.call(a,"users",e):D.call(a,"icon","users",e)))+"\n				</span>\n				"}function l(a,b){var d,e,f="";return f+="\n			<em>"+E((d=c.i18n||a&&a.i18n,e={hash:{},data:b},d?d.call(a,"doc_overview.no_collaborators",e):D.call(a,"i18n","doc_overview.no_collaborators",e)))+"</em>\n			"}function m(a){var b,c="";return c+='\n				<li><a href="/#user/'+E((b=a&&a.username,typeof b===F?b.apply(a):b))+'">'+E((b=a&&a.username,typeof b===F?b.apply(a):b))+"</a></li>\n				"}function n(a,b){var d,e,f,g="";return g+="\n			",d=c["if"].call(a,a&&a.isOwner,{hash:{},inverse:G.noop,fn:G.program(18,o,b),data:b}),(d||0===d)&&(g+=d),g+="\n			",d=c["if"].call(a,a&&a.isOwner,{hash:{},inverse:G.noop,fn:G.program(23,r,b),data:b}),(d||0===d)&&(g+=d),g+="\n			",d=c["if"].call(a,a&&a.isOwner,{hash:{},inverse:G.noop,fn:G.program(25,s,b),data:b}),(d||0===d)&&(g+=d),g+='\n			<a class="history" data-tooltip="'+E((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"doc_overview.history",f):D.call(a,"i18n","doc_overview.history",f)))+'" href="/#document/'+E((d=a&&a.document,d=null==d||d===!1?d:d._id,typeof d===F?d.apply(a):d))+'/history">'+E((e=c.icon||a&&a.icon,f={hash:{},data:b},e?e.call(a,"history",f):D.call(a,"icon","history",f)))+"</a>\n			",d=c["if"].call(a,a&&a.isOwner,{hash:{},inverse:G.noop,fn:G.program(27,t,b),data:b}),(d||0===d)&&(g+=d),g+="\n			"}function o(a,b){var d,e="";return e+="\n			",d=c["if"].call(a,a&&a.hasDraft,{hash:{},inverse:G.program(21,q,b),fn:G.program(19,p,b),data:b}),(d||0===d)&&(e+=d),e+="\n			"}function p(a,b){var d,e,f="";return f+='\n			<a class="continue" data-tooltip="'+E((d=c.i18n||a&&a.i18n,e={hash:{},data:b},d?d.call(a,"doc_overview.continue_draft",e):D.call(a,"i18n","doc_overview.continue_draft",e)))+'">'+E((d=c.icon||a&&a.icon,e={hash:{},data:b},d?d.call(a,"pencil-square-o",e):D.call(a,"icon","pencil-square-o",e)))+"</a>\n			"}function q(a,b){var d,e,f="";return f+='\n			<a class="start" data-tooltip="'+E((d=c.i18n||a&&a.i18n,e={hash:{},data:b},d?d.call(a,"doc_overview.start_draft",e):D.call(a,"i18n","doc_overview.start_draft",e)))+'">'+E((d=c.icon||a&&a.icon,e={hash:{},data:b},d?d.call(a,"pencil-square-o",e):D.call(a,"icon","pencil-square-o",e)))+"</a>\n			"}function r(a,b){var d,e,f="";return f+='\n			<a class="clone" data-tooltip="'+E((d=c.i18n||a&&a.i18n,e={hash:{},data:b},d?d.call(a,"doc_overview.clone",e):D.call(a,"i18n","doc_overview.clone",e)))+'">'+E((d=c.icon||a&&a.icon,e={hash:{},data:b},d?d.call(a,"copy",e):D.call(a,"icon","copy",e)))+"</a>\n			"}function s(a,b){var d,e,f="";return f+='\n			<a class="download" data-tooltip="'+E((d=c.i18n||a&&a.i18n,e={hash:{},data:b},d?d.call(a,"doc_overview.download",e):D.call(a,"i18n","doc_overview.download",e)))+'">'+E((d=c.icon||a&&a.icon,e={hash:{},data:b},d?d.call(a,"download",e):D.call(a,"icon","download",e)))+"</a>\n			"}function t(a,b){var d,e,f,g="";return g+='\n			<a class="settings" data-tooltip="'+E((e=c.i18n||a&&a.i18n,f={hash:{},data:b},e?e.call(a,"doc_overview.doc_settings",f):D.call(a,"i18n","doc_overview.doc_settings",f)))+'" href="/#document/'+E((d=a&&a.document,d=null==d||d===!1?d:d._id,typeof d===F?d.apply(a):d))+'/settings">'+E((e=c.icon||a&&a.icon,f={hash:{},data:b},e?e.call(a,"gear",f):D.call(a,"icon","gear",f)))+"</a>\n			"}function u(a,b){var d,e,f="";return f+='\n			<p class="none">'+E((d=c.i18n||a&&a.i18n,e={hash:{},data:b},d?d.call(a,"doc_overview.no_buttons",e):D.call(a,"i18n","doc_overview.no_buttons",e)))+"</p>\n			"}function v(a,b){var d,e="";return e+="\n			<dl>\n				",d=c.each.call(a,a&&a.recentCommits,{hash:{},inverse:G.noop,fn:G.programWithDepth(32,w,b,a),data:b}),(d||0===d)&&(e+=d),e+="\n			</dl>\n			"}function w(a,b,d){var e,f,g,h="";return h+="\n				<dt>"+E((f=c.fromNow||a&&a.fromNow,g={hash:{},data:b},f?f.call(a,a&&a.created,g):D.call(a,"fromNow",a&&a.created,g)))+'\n					(<a href="/#document/'+E((e=d&&d.document,e=null==e||e===!1?e:e._id,typeof e===F?e.apply(a):e))+"/read/"+E((e=a&&a._id,typeof e===F?e.apply(a):e))+'">'+E((f=c.i18n||a&&a.i18n,g={hash:{},data:b},f?f.call(a,"doc_overview.read",g):D.call(a,"i18n","doc_overview.read",g)))+"</a>)\n				</dt>\n				<dd>\n					"+E((e=a&&a.message,typeof e===F?e.apply(a):e))+"\n				</dd>\n				"}function x(a,b){var d,e,f="";return f+="\n			<p>"+E((d=c.i18n||a&&a.i18n,e={hash:{},data:b},d?d.call(a,"doc_overview.no_commits",e):D.call(a,"i18n","doc_overview.no_commits",e)))+"</p>\n			"}function y(a,b){var d,e,f="";return f+='\n<section rel="comments" class="comments row">\n	<h4>'+E((d=c.i18n||a&&a.i18n,e={hash:{},data:b},d?d.call(a,"comments.leave_comment",e):D.call(a,"i18n","comments.leave_comment",e)))+'</h4>\n	<textarea class="pseudo"></textarea>\n	<section class="hide" data-partial="quill" name="commentBox" data-partial-data="commentBoxOptions"></section>\n	<ol>\n		\n	</ol>\n	<button class="load-more action expand">'+E((d=c.i18n||a&&a.i18n,e={hash:{},data:b},d?d.call(a,"comments.load_more",e):D.call(a,"i18n","comments.load_more",e)))+"</button>\n</section>\n"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var z,A,B,C="",D=c.helperMissing,E=this.escapeExpression,F="function",G=this;return C+="<header>\n	<h1>"+E((z=b&&b.document,z=null==z||z===!1?z:z.name,typeof z===F?z.apply(b):z))+'\n		<br />\n		<span class="read">\n			(<a href="/#document/'+E((z=b&&b.document,z=null==z||z===!1?z:z._id,typeof z===F?z.apply(b):z))+'/read">'+E((A=c.i18n||b&&b.i18n,B={hash:{},data:e},A?A.call(b,"doc_overview.start_reading",B):D.call(b,"i18n","doc_overview.start_reading",B)))+'</a>)\n		</span>\n	</h1>\n</header>\n<main class="row">\n	<div class="small-12 large-9 columns">\n		<div class="meta panel">\n			<div class="author">\n				'+E((A=c.i18n||b&&b.i18n,B={hash:{},data:e},A?A.call(b,"doc_overview.author",B):D.call(b,"i18n","doc_overview.author",B)))+': <a href="/#user/'+E((z=b&&b.document,z=null==z||z===!1?z:z.owner,z=null==z||z===!1?z:z.username,typeof z===F?z.apply(b):z))+'">'+E((z=b&&b.document,z=null==z||z===!1?z:z.owner,z=null==z||z===!1?z:z.username,typeof z===F?z.apply(b):z))+'</a>\n			</div>\n			<div class="description">\n				<p>\n					'+E((z=b&&b.document,z=null==z||z===!1?z:z.description,typeof z===F?z.apply(b):z))+"\n					",z=c["if"].call(b,b&&b.isOwner,{hash:{},inverse:G.noop,fn:G.program(1,f,e),data:e}),(z||0===z)&&(C+=z),C+='\n				</p>\n			</div>\n			<div class="tags">\n				',z=c.each.call(b,(z=b&&b.document,null==z||z===!1?z:z.tags),{hash:{},inverse:G.noop,fn:G.program(3,g,e),data:e}),(z||0===z)&&(C+=z),C+='\n			</div>\n			<section data-partial="stars" data-partial-data="document" name="stars"></section>\n			<div class="icons">\n				',z=c["if"].call(b,(z=b&&b.document,null==z||z===!1?z:z.adultContent),{hash:{},inverse:G.noop,fn:G.program(5,h,e),data:e}),(z||0===z)&&(C+=z),C+="\n				",z=c["if"].call(b,(z=b&&b.document,z=null==z||z===!1?z:z.collaborators,null==z||z===!1?z:z.length),{hash:{},inverse:G.noop,fn:G.program(7,i,e),data:e}),(z||0===z)&&(C+=z),C+="\n				",z=c.unless.call(b,(z=b&&b.document,null==z||z===!1?z:z["public"]),{hash:{},inverse:G.program(11,k,e),fn:G.program(9,j,e),data:e}),(z||0===z)&&(C+=z),C+='\n			</div>\n		</div>\n		<div class="meta panel">\n			<h5>'+E((A=c.i18n||b&&b.i18n,B={hash:{},data:e},A?A.call(b,"doc_overview.collaborators",B):D.call(b,"i18n","doc_overview.collaborators",B)))+"</h5>\n			",z=c.unless.call(b,(z=b&&b.document,z=null==z||z===!1?z:z.collaborators,null==z||z===!1?z:z.length),{hash:{},inverse:G.noop,fn:G.program(13,l,e),data:e}),(z||0===z)&&(C+=z),C+='\n			<ul class="collaborators">\n				',z=c.each.call(b,(z=b&&b.document,null==z||z===!1?z:z.collaborators),{hash:{},inverse:G.noop,fn:G.program(15,m,e),data:e}),(z||0===z)&&(C+=z),C+='\n			</ul>\n		</div>\n	</div>\n	<div class="small-12 large-3 columns">\n		<nav class="panel">\n			',z=c["if"].call(b,b&&b.hasButtons,{hash:{},inverse:G.program(29,u,e),fn:G.program(17,n,e),data:e}),(z||0===z)&&(C+=z),C+='\n		</nav>\n		<div class="history panel">\n			<h3>'+E((A=c.i18n||b&&b.i18n,B={hash:{},data:e},A?A.call(b,"doc_overview.history",B):D.call(b,"i18n","doc_overview.history",B)))+"</h3>\n			",z=c["if"].call(b,(z=b&&b.document,z=null==z||z===!1?z:z.history,null==z||z===!1?z:z.length),{hash:{},inverse:G.program(34,x,e),fn:G.program(31,v,e),data:e}),(z||0===z)&&(C+=z),C+="\n		</div>\n	</div>\n</main>\n",z=c["if"].call(b,(z=b&&b.document,null==z||z===!1?z:z.allowComments),{hash:{},inverse:G.noop,fn:G.program(36,y,e),data:e}),(z||0===z)&&(C+=z),C}),this.exports["views/document/overview/overview.hbs"]=b.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+='\n	<span data-tooltip="This document may contain adult content">\n		'+p((d=c.icon||a&&a.icon,e={hash:{},data:b},d?d.call(a,"eye-slash",e):o.call(a,"icon","eye-slash",e)))+"\n	</span>\n	"}function g(a,b){var d,e,f,g="";return g+='\n	<span data-tooltip="This document is shared with '+p((d=a&&a.document,d=null==d||d===!1?d:d.collaborators,d=null==d||d===!1?d:d.length,typeof d===q?d.apply(a):d))+' collaborators">\n		'+p((e=c.icon||a&&a.icon,f={hash:{},data:b},e?e.call(a,"share-alt",f):o.call(a,"icon","share-alt",f)))+"\n	</span>\n	"}function h(a,b){var d,e,f="";return f+='\n	<span data-tooltip="This document is private">\n		'+p((d=c.icon||a&&a.icon,e={hash:{},data:b},d?d.call(a,"lock",e):o.call(a,"icon","lock",e)))+"\n	</span>\n	"}function i(a,b){var d,e,f="";return f+='\n	<span data-tooltip="This document is public">\n		'+p((d=c.icon||a&&a.icon,e={hash:{},data:b},d?d.call(a,"users",e):o.call(a,"icon","users",e)))+"\n	</span>\n	"}function j(a,b){var d,e,f="";return f+='\n	<a href="/#search?tags='+p((d=c.encode||a&&a.encode,e={hash:{},data:b},d?d.call(a,a,e):o.call(a,"encode",a,e)))+'">\n		<span class="label radius">'+p(typeof a===q?a.apply(a):a)+"</span>\n	</a>\n	"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var k,l,m,n="",o=c.helperMissing,p=this.escapeExpression,q="function",r=this;return n+='<h3>\n	<a href="/#document/'+p((k=b&&b.document,k=null==k||k===!1?k:k._id,typeof k===q?k.apply(b):k))+'">'+p((k=b&&b.document,k=null==k||k===!1?k:k.name,typeof k===q?k.apply(b):k))+'</a>\n</h3>\n<div class="icons">\n	',k=c["if"].call(b,(k=b&&b.document,null==k||k===!1?k:k.adultContent),{hash:{},inverse:r.noop,fn:r.program(1,f,e),data:e}),(k||0===k)&&(n+=k),n+="\n	",k=c["if"].call(b,(k=b&&b.document,k=null==k||k===!1?k:k.collaborators,null==k||k===!1?k:k.length),{hash:{},inverse:r.noop,fn:r.program(3,g,e),data:e}),(k||0===k)&&(n+=k),n+="\n	",k=c.unless.call(b,(k=b&&b.document,null==k||k===!1?k:k["public"]),{hash:{},inverse:r.program(7,i,e),fn:r.program(5,h,e),data:e}),(k||0===k)&&(n+=k),n+='\n</div>\n<p class="description">\n	'+p((k=b&&b.document,k=null==k||k===!1?k:k.description,typeof k===q?k.apply(b):k))+'\n</p>\n<div class="tags">\n	',k=c.each.call(b,(k=b&&b.document,null==k||k===!1?k:k.tags),{hash:{},inverse:r.noop,fn:r.program(9,j,e),data:e}),(k||0===k)&&(n+=k),n+='\n</div>\n<div class="meta">\n	<p class="updated">\n		Last updated: '+p((l=c.fromNow||b&&b.fromNow,m={hash:{},data:e},l?l.call(b,(k=b&&b.document,null==k||k===!1?k:k.updated),m):o.call(b,"fromNow",(k=b&&b.document,null==k||k===!1?k:k.updated),m)))+'\n	</p>\n	<section name="stars" data-partial="stars" data-partial-data="document"></section>\n</div>'}),this.exports["views/document/read/read.hbs"]=b.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+="<header>\n	<h1>"+j((f=b&&b.document,f=null==f||f===!1?f:f.name,typeof f===i?f.apply(b):f))+'\n		<br />\n		<span class="overview">\n			(<a href="/#document/'+j((f=b&&b.document,f=null==f||f===!1?f:f._id,typeof f===i?f.apply(b):f))+'">overview</a>)\n		</span>\n	</h1>\n</header>\n<main class="row">\n	<div class="small-12 columns">\n		<div class="contents panel">\n			',(g=c.contents)?f=g.call(b,{hash:{},data:e}):(g=b&&b.contents,f=typeof g===i?g.call(b,{hash:{},data:e}):g),(f||0===f)&&(h+=f),h+="\n		</div>\n	</div>\n</main>"}),this.exports["views/document/stars/stars.hbs"]=b.template(function(a,b,c,d,e){function f(){return"active"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g,h,i,j="",k=this,l="function",m=this.escapeExpression,n=c.helperMissing;return j+='<a class="',g=c["if"].call(b,(g=b&&b.document,null==g||g===!1?g:g.isStarred),{hash:{},inverse:k.noop,fn:k.program(1,f,e),data:e}),(g||0===g)&&(j+=g),j+='" data-tooltip="Click to star/unstar">\n	<span>'+m((g=b&&b.document,g=null==g||g===!1?g:g.starredBy,typeof g===l?g.apply(b):g))+"</span> "+m((h=c.icon||b&&b.icon,i={hash:{},data:e},h?h.call(b,"star",i):n.call(b,"icon","star",i)))+"\n</a>"}),this.exports["views/footer/footer.hbs"]=b.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i=c.helperMissing,j=this.escapeExpression;return h+='<div class="copyright">\n	Collabish &copy; '+j((f=c.now||b&&b.now,g={hash:{},data:e},f?f.call(b,"YYYY",g):i.call(b,"now","YYYY",g)))+' <a href="http://www.umbraengineering.com" target="_blank">Umbra Engineering LLC</a>\n</div>\n<div class="links">\n	<a class="terms">Terms</a>\n	<a class="privacy">Privacy</a>\n	<a class="report">Report a Problem</a>\n	<a class="support" href="http://www.gofundme.com/collabish" target="_blank">Help Support Collabish</a>\n</div>'}),this.exports["views/header/header.hbs"]=b.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h,i="",j="function",k=this.escapeExpression,l=c.helperMissing;return i+='<h1><a href="/#">Collabish</a></h1>\n<div class="controls">\n	<a class="profile" href="/#user/'+k((f=b&&b.user,f=null==f||f===!1?f:f.username,typeof f===j?f.apply(b):f))+'">\n		<img src="'+k((g=c.gravatar||b&&b.gravatar,h={hash:{},data:e},g?g.call(b,b&&b.gravatarHash,"s=32",h):l.call(b,"gravatar",b&&b.gravatarHash,"s=32",h)))+'" width="32" height="32" alt="" title="" />\n		'+k((f=b&&b.user,f=null==f||f===!1?f:f.username,typeof f===j?f.apply(b):f))+'\n	</a>\n	<div class="icons">\n		<a class="create" href="/#create">\n			<span data-tooltip="Create Document">\n				'+k((g=c.icon||b&&b.icon,h={hash:{},data:e},g?g.call(b,"plus-circle",h):l.call(b,"icon","plus-circle",h)))+'\n			</span>\n		</a>\n		<a class="search" href="/#search">\n			<span data-tooltip="Search Documents">\n				'+k((g=c.icon||b&&b.icon,h={hash:{},data:e},g?g.call(b,"search",h):l.call(b,"icon","search",h)))+'\n			</span>\n		</a>\n		<a class="inbox" href="/#inbox">\n			<span data-tooltip="Inbox">\n				'+k((g=c.icon||b&&b.icon,h={hash:{},data:e},g?g.call(b,"inbox",h):l.call(b,"icon","inbox",h)))+'\n			</span>\n			<span class="notification"></span>\n		</a>\n		<a class="settings" href="/#settings">\n			<span data-tooltip="Account Settings">\n				'+k((g=c.icon||b&&b.icon,h={hash:{},data:e},g?g.call(b,"gears",h):l.call(b,"icon","gears",h)))+'\n			</span>\n		</a>\n		<a class="signout">\n			<span data-tooltip="Sign Out">\n				'+k((g=c.icon||b&&b.icon,h={hash:{},data:e},g?g.call(b,"sign-out",h):l.call(b,"icon","sign-out",h)))+"\n			</span>\n		</a>\n	</div>\n</div>\n"}),this.exports["views/modal/modal.hbs"]=b.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+='<div class="modal box ',(g=c.classname)?f=g.call(b,{hash:{},data:e}):(g=b&&b.classname,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'">\n	<a class="modal close">&times;</a>\n	',(g=c.content)?f=g.call(b,{hash:{},data:e}):(g=b&&b.content,f=typeof g===i?g.call(b,{hash:{},data:e}):g),(f||0===f)&&(h+=f),h+="\n</div>"}),this.exports["views/modals/confirm/confirm.hbs"]=b.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+="<label>\n	<p>",(g=c.prompt)?f=g.call(b,{hash:{},data:e}):(g=b&&b.prompt,f=typeof g===i?g.call(b,{hash:{},data:e}):g),(f||0===f)&&(h+=f),h+='</p>\n	<button class="yes small '+j((f=b&&b.yes,f=null==f||f===!1?f:f.classname,typeof f===i?f.apply(b):f))+'">'+j((f=b&&b.yes,f=null==f||f===!1?f:f.text,typeof f===i?f.apply(b):f))+'</button>\n	<button class="no small '+j((f=b&&b.no,f=null==f||f===!1?f:f.classname,typeof f===i?f.apply(b):f))+'">'+j((f=b&&b.no,f=null==f||f===!1?f:f.text,typeof f===i?f.apply(b):f))+"</button>\n</label>"}),this.exports["views/modals/login/login.hbs"]=b.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<h3>Login</h3>\n<div class="error hide"></div>\n<form class="login">\n	<label>\n		Username/Email\n		<input type="text" class="username" />\n	</label>\n	<label>\n		Password <small>(if needed)</small>\n		<input type="password" class="password" />\n	</label>\n	<div class="button-wrapper">\n		<button class="action button">Login</button>\n	</div>\n</form>'}),this.exports["views/modals/privacy/privacy.hbs"]=b.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<h3>Privacy Policy</h3>\n<main>\n	<h4>Information We Collect</h4>\n	<ul>\n		<li>\n			<strong>Information you give us.</strong>\n			When you sign up for an account, we will ask you for some personal information, like email\n			address and phone number.\n		</li>\n\n		<li>\n			<strong>Information generated by using our services.</strong>\n			Using collabish.me automatically generates information in a number of ways which we may collect\n			for later use. This information includes the following:\n			<ul>\n				<li>\n					Analytics Information\n					<p>\n						We use <a href="http://analytics.google.com">Google Analytics</a> to collect analytics\n						data about our users and the ways in which they use our services. You can see their\n						<a href="https://www.google.com/intl/en/policies/privacy/">privacy policy</a> on their\n						website.\n					</p>\n				</li>\n				<li>\n					Server Logs\n					<p>\n						Our servers constantly generate log files of their activities, some of which may contain\n						your information. Specifically, we keep logs of each individual request to both our main\n						web server and our API server, and these logs may contain information such as IP addresses,\n						request bodies (which may contain personal information), search queries, and any data stored\n						in the request headers, including cookies.\n					</p>\n				</li>\n			</ul>\n		</li>\n	</ul>\n\n\n\n	<h4>How we use the information we collect</h4>\n	<p>\n		The information we collect is used to help us to provide you with better service and an overall better\n		experience. For example, the analytics information helps us to gauge interest in specific features to\n		know where we should focus our efforts. The server logs we collect help us to debug and fix problems\n		that might arise in our application.\n	</p>\n\n\n\n	<h4>Information we share</h4>\n	<p>\n		We do <strong>not</strong> share personal information with third parties unless one of the following\n		situations applies:\n	</p>\n	<ul>\n		<li>\n			<strong>We have your consent.</strong>\n			We will share information with others if you give us permission to do so.\n		</li>\n		<li>\n			<strong>Hosting and storage.</strong>\n			We have to store your data somewhere. We do not operate our own servers; We make use of the wonderful\n			hosting services at <a href="http://heroku.com">Heroku</a>, and as such, all data that goes to and from\n			our app goes through their servers. You can view their <a href="https://www.heroku.com/policy/privacy">\n			privacy policy</a> on their website. We also make use of <a href="https://www.compose.io/">Compose</a>,\n			a database hosting service, where our app data is stored in their MongoDB servers. You can also read\n			their <a href="https://docs.compose.io/policies/privacy.html">privacy policy</a> at their website.\n		</li>\n		<li>\n			<strong>External processing.</strong>\n			As we mentioned above, we make use of Google Analytics\' services. This means that information about\n			page views and our users ends up on their analytics servers.\n		</li>\n		<li>\n			<strong>Legal reasons.</strong>\n			We will share personal information if we believe it is reasonably necessary to meet an applicable law\n			or enforceable government request, or to protect the rights and safety of Collabish and our users.\n		</li>\n	</ul>\n\n\n\n	<h4>Security</h4>\n	<p>\n		We use SSL encryption for both our web server and API server, protecting your information while it is\n		in transit between you and our servers. We also provide our users with several different authentication methods, including two-step verification for logins, to provide our users with extra protection against\n		attempts to gain access to their account.\n	</p>\n</main>'
}),this.exports["views/modals/report/report.hbs"]=b.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<div class="report">\n	<h3>Report a Problem</h3>\n	<div class="error hide"></div>\n	<p>\n		This form is so you can report a problem or bug with our application. Is something broken? Let us\n		know about it below.\n	</p>\n	<form>\n		<label>\n			Subject\n			<input type="text" class="subject" />\n		</label>\n		<label>\n			Description\n			<textarea class="description"></textarea>\n		</label>\n		<div class="button-wrapper">\n			<button class="action button">Send Report</button>\n		</div>\n	</form>\n</div>'}),this.exports["views/modals/terms/terms.hbs"]=b.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},"<h3>Terms of Service</h3>\n<main>\n	<p>\n		Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed commodo aliquam tincidunt. Vestibulum sit amet faucibus est, sit amet venenatis nunc. Curabitur non arcu non ex sollicitudin rhoncus. Proin auctor ligula et dolor euismod laoreet. Cras consequat nisi a urna tristique pellentesque. Aenean vitae semper est. In nec elit leo. Integer volutpat ligula eget tempus malesuada. Morbi tempor odio quis tellus finibus, quis pulvinar lectus mattis. Proin semper sapien eu massa pulvinar, vel consequat nisl fermentum.\n	</p>\n	<p>\n		Nulla mattis at velit vel ultrices. Sed aliquet molestie sollicitudin. Quisque placerat hendrerit ex quis dapibus. Integer metus velit, feugiat at nisl auctor, consectetur tempus ex. Suspendisse faucibus venenatis turpis, nec sodales metus feugiat posuere. Aenean ornare tellus ante, quis venenatis sem commodo nec. Phasellus faucibus rhoncus metus eu auctor. Suspendisse rhoncus tincidunt quam vitae blandit. Fusce vitae fermentum arcu. Quisque sollicitudin eros rhoncus porttitor aliquet. Integer sit amet ante urna.\n	</p>\n	<p>\n		Maecenas sit amet est porttitor, dignissim tellus pulvinar, tincidunt justo. Ut fermentum mi enim, in scelerisque mi dignissim ut. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur condimentum sem ex, et vestibulum purus cursus eget. Phasellus eget quam ac libero varius fermentum eget id risus. Mauris sed est elit. Quisque tempus, nunc id feugiat laoreet, mauris quam commodo quam, ac venenatis est urna et turpis.\n	</p>\n	<p>\n		Maecenas leo ipsum, maximus id vestibulum ac, viverra ac quam. In vulputate tincidunt dolor. Cras libero felis, tristique ut justo vitae, tempor cursus sem. Fusce condimentum, enim sed finibus egestas, ligula elit pharetra felis, id condimentum mauris leo vitae ante. Sed iaculis augue tellus, ac volutpat orci maximus ac. Proin magna velit, pulvinar et feugiat eu, porttitor eget velit. Aenean pretium euismod ipsum ut lacinia. Ut congue tempus nisl, nec consectetur nisl ultrices id. Etiam id metus placerat, semper mi sit amet, porttitor magna. Curabitur rutrum magna non neque porta, in porta ligula maximus. In egestas et leo vitae iaculis. Fusce mauris sem, efficitur sed ultrices a, condimentum ut ligula.\n	</p>\n	<p>\n		Integer eget ante a leo laoreet vehicula. Vestibulum ullamcorper tortor et libero tincidunt finibus. Mauris nisi erat, volutpat id egestas a, suscipit vel est. Vestibulum bibendum, risus sed malesuada congue, ligula risus imperdiet ipsum, nec iaculis nisi justo sed dui. Aenean risus neque, ultricies tempor augue sed, tincidunt interdum quam. Phasellus viverra lobortis bibendum. Quisque tristique egestas ex, nec cursus leo tristique at. Nam sollicitudin nisl luctus hendrerit aliquam. Quisque finibus semper erat id suscipit. Fusce laoreet tincidunt quam, at mollis lacus tincidunt ac. Nam lobortis enim ligula, sit amet varius ipsum gravida ac. Mauris vehicula diam augue, tincidunt sagittis ipsum mollis sed. Morbi congue odio in orci ornare, eu pellentesque mauris aliquam. Morbi vitae eleifend mi, eu condimentum lectus.\n	</p>\n	<p>\n		Aliquam sed sapien nunc. Duis egestas at nisl nec feugiat. Suspendisse cursus interdum quam sed aliquam. Nullam sodales, magna ut rutrum laoreet, magna nunc euismod dui, vel molestie lacus erat sit amet eros. Nam volutpat nunc vel mi tempus viverra. Duis maximus nibh sed est pulvinar auctor. Vivamus placerat, ipsum at porta fringilla, augue libero suscipit turpis, et consectetur tellus mauris ac felis. Integer eu vulputate augue, non posuere magna. Proin et imperdiet dui, eu pulvinar magna. Donec non pretium erat. Curabitur semper vel tortor ut tincidunt. Donec tincidunt ex eu ante varius, non commodo dui mattis.\n	</p>\n	<p>\n		Sed elementum varius lectus sed vulputate. Praesent eu porta odio, id pretium lorem. Sed semper odio facilisis, ultricies ipsum eget, tempus leo. Phasellus sit amet sagittis metus, non facilisis ipsum. Suspendisse feugiat at est eget iaculis. Morbi lacinia leo quis elit interdum, in vulputate nisl finibus. Suspendisse potenti. Suspendisse vel tellus quis massa sollicitudin rutrum.\n	</p>\n	<p>\n		Sed ac erat nulla. Donec blandit, libero vitae volutpat lobortis, sem augue venenatis sem, non vulputate est elit eget enim. Aliquam pulvinar arcu at justo fermentum, eget ornare eros tristique. Maecenas sed massa sodales, dignissim felis vel, vehicula diam. Curabitur pellentesque iaculis felis eu blandit. Nam a lacinia enim. Duis et mauris sit amet mi vulputate fermentum. Donec euismod eros quis dui dictum malesuada. In fringilla leo vitae ultrices mattis. Phasellus et suscipit enim, in posuere arcu. Suspendisse velit est, feugiat eget elit nec, bibendum viverra eros. Nam semper lectus non ipsum volutpat pellentesque. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus iaculis massa vitae finibus tempor. Aliquam in viverra tellus.\n	</p>\n	<p>\n		Aenean sit amet risus sed lectus elementum volutpat eu quis erat. Vivamus lobortis nibh in diam vehicula facilisis. Sed sit amet egestas ligula. In consectetur enim in porta molestie. Curabitur condimentum sapien et eros bibendum ultricies. Nulla pulvinar tortor nec libero pretium, non posuere ex facilisis. Ut mattis volutpat odio, sed pharetra mi. Aenean pretium sit amet neque quis tristique. Aenean efficitur nec mauris in iaculis.\n	</p>\n	<p>\n		Maecenas at dapibus nulla, a malesuada nisi. Donec risus augue, imperdiet at consectetur id, posuere et dui. Nunc sit amet blandit neque. In bibendum porta orci, vel semper justo congue id. Fusce neque nibh, sollicitudin eget odio et, porttitor scelerisque augue. Praesent vitae tincidunt augue. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec scelerisque leo quis laoreet feugiat. Duis ipsum leo, venenatis eu rutrum ac, faucibus in justo. Vestibulum pellentesque ex porttitor elit vestibulum venenatis. Integer est est, tempor ut fringilla a, malesuada vitae lacus.\n	</p>\n	<p>\n		Curabitur vel luctus ligula. In consequat felis sed egestas ultrices. Quisque vel turpis dictum, bibendum eros vitae, finibus lacus. Nulla id mollis urna. Ut tristique diam risus, et varius felis sodales vel. Duis dictum diam nibh, in dignissim tortor rhoncus in. Maecenas turpis nisl, interdum id tortor quis, sollicitudin aliquet elit. Aenean et libero non libero dapibus placerat. Aliquam lectus diam, commodo quis gravida quis, varius at libero. Nulla facilisi. Pellentesque viverra ac justo maximus ultricies. Etiam ut ligula a enim dignissim pretium.\n	</p>\n	<p>\n		Suspendisse in varius quam, hendrerit consectetur quam. Praesent sit amet justo nec ex congue cursus. Donec at dolor fringilla justo viverra blandit at sit amet diam. Vestibulum porta hendrerit metus non varius. Phasellus at porta ex, et tincidunt dui. Etiam non nulla consectetur eros ultrices ultricies sit amet in libero. Sed posuere dolor enim, at eleifend ante scelerisque varius.\n	</p>\n	<p>\n		Sed eu arcu vel leo egestas ultricies at vitae est. Suspendisse lobortis massa sagittis commodo tempus. Aenean commodo iaculis commodo. Maecenas lectus nunc, ornare id convallis auctor, semper ut sapien. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Nunc eleifend ac nisl id egestas. Nullam ut sem a sem aliquam dapibus et nec lectus.\n	</p>\n	<p>\n		Suspendisse potenti. Morbi auctor tristique metus sed placerat. Nulla quis justo condimentum sem viverra fringilla. Pellentesque interdum aliquam justo, quis scelerisque lacus lobortis eu. Sed ligula metus, dignissim nec diam in, gravida blandit ex. Quisque scelerisque ligula sed neque mollis pulvinar. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Maecenas dapibus lobortis elementum. Donec laoreet tellus quis elementum blandit. Suspendisse nulla massa, mollis in quam vel, iaculis ullamcorper leo. Curabitur convallis, lectus sed porttitor convallis, nisi libero semper mauris, ut egestas orci lorem eu nunc. Nulla maximus lorem sed est consequat, rutrum luctus mauris hendrerit. Sed aliquet tempus velit at imperdiet. Suspendisse eget tortor rutrum, viverra leo nec, bibendum eros.\n	</p>\n	<p>\n		Vivamus hendrerit non arcu sit amet varius. Donec eget erat ex. Ut ut nibh interdum, imperdiet nunc in, eleifend ex. Mauris vitae hendrerit dolor, vel volutpat massa. Integer at lobortis eros, et dictum nibh. Cras et vehicula lacus. Phasellus sed consequat est, ut faucibus quam. Donec nec lacus commodo leo gravida tempor. Phasellus vel risus sem. Pellentesque venenatis, eros vel ultrices sollicitudin, magna velit condimentum libero, sed aliquam dui lacus a mauris. Cras vitae molestie sem, vitae finibus quam.\n	</p>\n</main>"}),this.exports["views/notfound/notfound.hbs"]=b.template(function(a,b,c,d,e){function f(){return'\n	<a href="/#dashboard">Dashboard</a>\n	<a href="/#search">Document Search</a>\n	'}function g(){return'\n	<a href="/#">Home</a>\n	<a href="/#signup">Signup</a>\n	'}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var h,i="",j=this;return i+='<header>\n	<h1><a href="/#">Collabish</a></h1>\n</header>\n\n<main>\n	<h2>Not Found</h2>\n	<p>\n		You broke it. It\'s all your fault. The website is dead.\n	</p>\n</main>\n\n<nav>\n	',h=c["if"].call(b,b&&b.loggedIn,{hash:{},inverse:j.program(3,g,e),fn:j.program(1,f,e),data:e}),(h||0===h)&&(i+=h),i+="\n</nav>\n"}),this.exports["views/profile/notfound.hbs"]=b.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},"<h3>Not Found</h3>\n<p>\n	We couldn't find the profile you were looking for.\n</p>"}),this.exports["views/profile/profile.hbs"]=b.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+='<div class="row">\n	<h1>Profile: ',(g=c.username)?f=g.call(b,{hash:{},data:e}):(g=b&&b.username,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'</h1>\n</div>\n<main class="row">\n	<div class="spinner"></div>\n</main>'}),this.exports["views/profile/user.hbs"]=b.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h,i="",j=c.helperMissing,k=this.escapeExpression,l="function";return i+='<div class="small-12 medium-3 columns basic">\n	<div class="panel">\n		<img src="'+k((g=c.gravatar||b&&b.gravatar,h={hash:{},data:e},g?g.call(b,b&&b.gravatarHash,"s=250",h):j.call(b,"gravatar",b&&b.gravatarHash,"s=250",h)))+'" width="250" height="250" alt="" title="" />\n		<dl class="profile-info">\n			<dt>Name</dt>\n			<dd>'+k((f=b&&b.user,f=null==f||f===!1?f:f.profile,f=null==f||f===!1?f:f.name,typeof f===l?f.apply(b):f))+'</dd>\n\n			<dt>URL</dt>\n			<dd><a href="'+k((f=b&&b.user,f=null==f||f===!1?f:f.profile,f=null==f||f===!1?f:f.url,typeof f===l?f.apply(b):f))+'">'+k((f=b&&b.user,f=null==f||f===!1?f:f.profile,f=null==f||f===!1?f:f.url,typeof f===l?f.apply(b):f))+"</a></dd>\n\n			<dt>Location</dt>\n			<dd>"+k((f=b&&b.user,f=null==f||f===!1?f:f.profile,f=null==f||f===!1?f:f.location,typeof f===l?f.apply(b):f))+'</dd>\n		</dl>\n	</div>\n</div>\n<div class="small-12 medium-9 columns documents">\n	\n</div>'}),this.exports["views/quill/quill.hbs"]=b.template(function(a,b,c,d,e){function f(a,b){var d,e="";return e+="\n	",d=c.each.call(a,a&&a.buttons,{hash:{},inverse:m.noop,fn:m.program(2,g,b),data:b}),(d||0===d)&&(e+=d),e+="\n	"}function g(a){var b,c="";return c+="\n	",b=typeof a===l?a.apply(a):a,(b||0===b)&&(c+=b),c+="\n	"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var h,i,j,k="",l="function",m=this,n=c.helperMissing,o=this.escapeExpression;return k+='<div class="toolbar">\n	<select class="ql-font">\n		<option value="sans-serif" selected>Sans Serif</option>\n		<option value="serif">Serif</option>\n		<option value="monospace">Monospace</option>\n	</select>\n	<a class="ql-bold" data-tooltip="Bold (Ctrl+B)">\n		'+o((i=c.icon||b&&b.icon,j={hash:{},data:e},i?i.call(b,"bold",j):n.call(b,"icon","bold",j)))+'\n	</a>\n	<a class="ql-italic" data-tooltip="Italic (Ctrl+I)">\n		'+o((i=c.icon||b&&b.icon,j={hash:{},data:e},i?i.call(b,"italic",j):n.call(b,"icon","italic",j)))+'\n	</a>\n	<a class="ql-underline" data-tooltip="Underline (Ctrl+U)">\n		'+o((i=c.icon||b&&b.icon,j={hash:{},data:e},i?i.call(b,"underline",j):n.call(b,"icon","underline",j)))+'\n	</a>\n	<a class="ql-strike" data-tooltip="Strikethrough">\n		'+o((i=c.icon||b&&b.icon,j={hash:{},data:e},i?i.call(b,"strikethrough",j):n.call(b,"icon","strikethrough",j)))+'\n	</a>\n</div>\n<div class="editor">\n	<div><br /></div>\n</div>\n<div class="buttons">\n	',h=c["if"].call(b,b&&b.buttons,{hash:{},inverse:m.noop,fn:m.program(1,f,e),data:e}),(h||0===h)&&(k+=h),k+="\n</div>"}),this.exports["views/search/results/results.hbs"]=b.template(function(a,b,c,d,e){function f(a,b){var c,d="";return d+='\n	<section name="docs.'+j((c=null==b||b===!1?b:b.index,typeof c===i?c.apply(a):c))+'" data-partial="document" data-partial-data="documents.models.'+j((c=null==b||b===!1?b:b.index,typeof c===i?c.apply(a):c))+'"></section>\n	'}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g,h="",i="function",j=this.escapeExpression,k=this;return h+='<h1>Search Results</h1>\n<div class="row">\n	',g=c.each.call(b,b&&b.documents,{hash:{},inverse:k.noop,fn:k.program(1,f,e),data:e}),(g||0===g)&&(h+=g),h+="\n</div>"}),this.exports["views/search/results/searching.hbs"]=b.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<div class="searching">\n	<h1>Searching...</h1>\n</div>'}),this.exports["views/search/search.hbs"]=b.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i=c.helperMissing,j=this.escapeExpression;return h+='<h1>Search</h1>\n<div class="row">\n	<div class="panel">\n		<form>\n			<label class="query">\n				<input type="text" />\n			</label>\n			\n			<hr />\n			\n			<label class="tags">\n				Tags\n				\n			</label>\n			<label class="tags-type">\n				Tagging Type\n				<div>\n					<input type="radio" name="tags-type" value="any" checked /> Any\n					<input type="radio" name="tags-type" value="all" /> All\n				</div>\n			</label>\n\n			<hr />\n\n			<label class="adult-content">\n				Adult Content\n				<div>\n					<input type="radio" name="adult-content" value="yes" /> Yes\n					<input type="radio" name="adult-content" value="no" checked /> No\n					<input type="radio" name="adult-content" value="either" /> Either\n				</div>\n			</label>\n\n			<hr />\n\n			<div class="row dates">\n				<div class="small-12 medium-6 columns">\n					<label class="created">\n						Create\n						<select>\n							<option value="any" selected>Any Time</option>\n							<option value="today">Today</option>\n							<option value="week">Past Week</option>\n							<option value="month">Past Month</option>\n						</select>\n					</label>\n				</div>\n				<div class="small-12 medium-6 columns">\n					<label class="updated">\n						Updated\n						<select>\n							<option value="any" selected>Any Time</option>\n							<option value="today">Today</option>\n							<option value="week">Past Week</option>\n							<option value="month">Past Month</option>\n						</select>\n					</label>\n				</div>\n			</div>\n\n			<hr />\n\n			<div class="button-wrapper">\n				<button class="expand action button">'+j((f=c.icon||b&&b.icon,g={hash:{},data:e},f?f.call(b,"search",g):i.call(b,"icon","search",g)))+" Search</button>\n			</div>\n		</form>\n	</div>\n</div>"}),this.exports["views/settings/account/account.hbs"]=b.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+='<h2>Account Settings</h2>\n<p class="radius warning panel">\n	These actions can be potentially dangerous as using them poorly can lead to loss of data or losing access\n	to your account. Please use them with caution (or not at all, that works too...)\n</p>\n<form>\n	<label>\n		Username\n		<input type="text" class="username" value="',(g=c.username)?f=g.call(b,{hash:{},data:e}):(g=b&&b.username,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" />\n	</label>\n	<button class="action button update-username">Update Username</button>\n</form>\n\n<hr />\n\n<form>\n	<label>\n		Email Address\n		<input type="email" class="email" value="',(g=c.email)?f=g.call(b,{hash:{},data:e}):(g=b&&b.email,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" />\n	</label>\n	<button class="action button update-email">Confirm New Email</button>\n</form>\n\n<hr />\n\n<label class="delete">\n	Delete Account\n	<p class="radius warning panel">\n		This action is <strong>not</strong> reversable or recoverable; Your data will be lost forever.\n		Please make sure you mean it, as no amount of complaining or begging will bring your data back...\n	</p>\n	<button class="alert button delete-account">Delete Account</button>\n</label>\n'}),this.exports["views/settings/authentication/authentication.hbs"]=b.template(function(a,b,c,d,e){function f(){return"selected"}function g(){return'\n	<label class="current-password">\n		Current Password<br />\n		<input type="password" />\n	</label>\n	'}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var h,i="",j=this;return i+='<h2>Authentication</h2>\n<form>\n	<label>\n		Authentication Method\n		<select class="auth-method">\n			<option value="password" ',h=c["if"].call(b,(h=b&&b.authMethod,null==h||h===!1?h:h.isPassword),{hash:{},inverse:j.noop,fn:j.program(1,f,e),data:e}),(h||0===h)&&(i+=h),i+='>Password</option>\n			<option value="email" ',h=c["if"].call(b,(h=b&&b.authMethod,null==h||h===!1?h:h.isEmail),{hash:{},inverse:j.noop,fn:j.program(1,f,e),data:e}),(h||0===h)&&(i+=h),i+='>Email only</option>\n			<option value="twostep-email" ',h=c["if"].call(b,(h=b&&b.authMethod,null==h||h===!1?h:h.isTwostepEmail),{hash:{},inverse:j.noop,fn:j.program(1,f,e),data:e}),(h||0===h)&&(i+=h),i+=">Two-step (Password + Email)</option>\n			\n		</select>\n	</label>\n	",h=c.unless.call(b,(h=b&&b.authMethod,null==h||h===!1?h:h.isEmail),{hash:{},inverse:j.noop,fn:j.program(3,g,e),data:e}),(h||0===h)&&(i+=h),i+='\n	<label class="new-password">\n		New Password<br />\n		<input type="password" />\n		<input type="password" />\n	</label>\n	<div class="button-wrapper">\n		<button class="action button">Update Authentication Method</button>\n	</div>\n</form>'}),this.exports["views/settings/profile/profile.hbs"]=b.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h,i="",j=c.helperMissing,k=this.escapeExpression,l="function";return i+='<h2>Public Profile</h2>\n<form>\n	<label class="gravatar">\n		Avatar (provided by <a href="http://gravatar.com" target="_blank">Gravatar</a>)\n		<img src="'+k((g=c.gravatar||b&&b.gravatar,h={hash:{},data:e},g?g.call(b,b&&b.gravatarHash,"s=100",h):j.call(b,"gravatar",b&&b.gravatarHash,"s=100",h)))+'" width="100" height="100" alt="" title="" />\n	</label>\n	<label>\n		Name<br />\n		<input type="text" class="name" value="',(g=c.name)?f=g.call(b,{hash:{},data:e}):(g=b&&b.name,f=typeof g===l?g.call(b,{hash:{},data:e}):g),i+=k(f)+'" />\n		<i class="fa"></i>\n	</label>\n	<label>\n		URL<br />\n		<input type="text" class="url" value="',(g=c.url)?f=g.call(b,{hash:{},data:e}):(g=b&&b.url,f=typeof g===l?g.call(b,{hash:{},data:e}):g),i+=k(f)+'" />\n		<i class="fa"></i>\n	</label>\n	<label>\n		Location<br />\n		<input type="text" class="location" value="',(g=c.location)?f=g.call(b,{hash:{},data:e}):(g=b&&b.location,f=typeof g===l?g.call(b,{hash:{},data:e}):g),i+=k(f)+'" />\n		<i class="fa"></i>\n	</label>\n</form>'}),this.exports["views/settings/settings.hbs"]=b.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f="";return f+='<h1>Settings</h1>\n<div class="row">\n	<div class="small-12 medium-3 columns">\n		<nav>\n			<div class="stack button-group">\n				<a class="button secondary expand" href="/#settings/profile">Public Profile</a>\n				<a class="button secondary expand" href="/#settings/authentication">Authentication</a>\n				<a class="button secondary expand" href="/#settings/notification">Notifications</a>\n				<a class="button secondary expand" href="/#settings/account">Account</a>\n			</div>\n		</nav>\n	</div>\n	<div class="small-12 medium-9 columns">\n		<main class="panel">\n			\n		</main>\n	</div>\n</div>'}),this.exports["views/tag-editor/tag-editor.hbs"]=b.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<span class="tags"></span>\n<input type="text" />'}),this.exports["views/welcome/auth/email-confirmation/email-confirmation.error.hbs"]=b.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},"<h2>Uh-oh!</h2>\n<p>\n	We could not successfully confirm your email address. This could be caused by a number of\n	things such as an expired confirmation token or a server error.\n</p>\n"}),this.exports["views/welcome/auth/email-confirmation/email-confirmation.hbs"]=b.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f="";return f+='<header>\n	<h1><a href="/#">Collabish</a></h1>\n</header>\n\n<main>\n	<p class="confirming">\n		Confirming your email address ...\n	</p>\n</main>\n\n<nav class="welcome">\n	\n</nav>'}),this.exports["views/welcome/auth/email-confirmation/email-confirmation.success.hbs"]=b.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<h2>Success!</h2>\n<p>\n	Your email address has been successfully confirmed. You can now <a class="login">login</a> to your\n	account.\n</p>\n'}),this.exports["views/welcome/auth/twostep/twostep.hbs"]=b.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<header>\n	<h1><a href="/#">Collabish</a></h1>\n</header>\n\n<main>\n	<p>\n		Your two-step confirmation token has been sent. Go check for your message, and enter your\n		code below.\n	</p>\n	<form>\n		<div class="error hide"></div>\n		<label>\n			Confirmation Code\n			<input type="text" class="code" placeholder="eg. ABC123" />\n		</label>\n		<div class="button-wrapper">\n			<button class="button">Confirm Login</button>\n		</div>\n	</form>\n</main>'}),this.exports["views/welcome/nav/nav.hbs"]=b.template(function(a,b,c,d,e){return this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{},'<a class="login button">Login</a>\n<a class="terms">Terms</a>\n<a class="privacy">Privacy</a>'}),this.exports["views/welcome/signup/signup.hbs"]=b.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+='<header>\n	<h1><a href="/#">Collabish</a></h1>\n</header>\n\n<main class="row">\n	<div class="small-12 medium-4 medium-centered columns">\n		<h2>Signup</h2>\n		<div class="error hide"></div>\n		<form>\n			<label class="username">\n				Username\n				<input type="text" value="',(g=c.username)?f=g.call(b,{hash:{},data:e}):(g=b&&b.username,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" />\n			</label>\n			<label class="email">\n				Email\n				<input type="email" value="',(g=c.email)?f=g.call(b,{hash:{},data:e}):(g=b&&b.email,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" />\n			</label>\n			<label class="auth-method" aria-describedby="auth-method-tooltip">\n				Auth Method\n				<span id="auth-method-tooltip" data-tooltip="Determines how you log in to Collabish">?</span>\n				<select>\n					<option value="password">Password</option>\n					<option value="email">Email</option>\n					<option value="twostep-email">Two-Step (Password + Email)</option>\n					\n				</select>\n			</label>\n			<label class="password">\n				Password (twice)\n				<input type="password" />\n				<input type="password" />\n			</label>\n			<label class="mobile" aria-describedby="mobile-tooltip">\n				Mobile Phone\n				<span id="mobile-tooltip" data-tooltip="We will only ever text you to send you login codes">?</span>\n				<div class="row collapse">\n					<div class="small-1 columns">\n						<span class="prefix">+1</span>\n					</div>\n					<div class="small-11 columns">\n						<input type="tel" />\n					</div>\n				</div>\n			</label>\n			<div class="button-wrapper">\n				<button class="action button">Sign Up</button>\n			</div>\n		</form>\n	</div>\n</main>\n\n<nav class="welcome">\n	\n</nav>\n'}),this.exports["views/welcome/signup/signup.success.hbs"]=b.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+="<h2>You're almost done...</h2>\n<p>\n	Welcome ",(g=c.username)?f=g.call(b,{hash:{},data:e}):(g=b&&b.username,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"!<br />\n	We've sent you a confirmation email, and once you click the link in\n	that email, your account will be ready. That link will take you back\n	to the login screen, so you can close this tab now.\n</p>"}),this.exports["views/welcome/welcome.hbs"]=b.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f="";return f+='<header>\n	<h1>Collabish</h1>\n	<p>\n		A collaborative environment for writers to work, share, comment, and rework\n	</p>\n</header>\n\n<nav class="welcome">\n	\n</nav>\n\n<main class="row">\n	<div class="small-12 medium-8 columns">\n		\n	</div>\n	<div class="small-12 medium-4 columns signup">\n		<h2>Join The Community</h2>\n		<form>\n			<label class="username">\n				Username <span></span>\n				<input type="text" />\n			</label>\n			<label class="email">\n				Email <span></span>\n				<input type="text" />\n			</label>\n			<div class="button-wrapper">\n				<button class="action button">Sign Up</button>\n			</div>\n		</form>\n	</div>\n</main>\n'}),"object"==typeof e&&e&&(c.exports=this.exports)};return c}(),require._modules["/vendor/foundation/foundation.js"]=function(){var a="/vendor/foundation/foundation.js",b="/vendor/foundation",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},d()},parent:null,children:[]},d=(c.require=window.require._bind(c),c.exports,function(){!function(a,b,c,d){"use strict";function e(a){return("string"==typeof a||a instanceof String)&&(a=a.replace(/^['\\/"]+|(;\s?})+|['\\/"]+$/g,"")),a}var f=function(b){for(var c=b.length,d=a("head");c--;)0===d.has("."+b[c]).length&&d.append('<meta class="'+b[c]+'" />')};f(["foundation-mq-small","foundation-mq-medium","foundation-mq-large","foundation-mq-xlarge","foundation-mq-xxlarge","foundation-data-attribute-namespace"]),a(function(){"undefined"!=typeof FastClick&&"undefined"!=typeof c.body&&FastClick.attach(c.body)});var g=function(b,d){if("string"==typeof b){if(d){var e;if(d.jquery){if(e=d[0],!e)return d}else e=d;return a(e.querySelectorAll(b))}return a(c.querySelectorAll(b))}return a(b,d)},h=function(a){var b=[];return a||b.push("data"),this.namespace.length>0&&b.push(this.namespace),b.push(this.name),b.join("-")},i=function(a){for(var b=a.split("-"),c=b.length,d=[];c--;)0!==c?d.push(b[c]):this.namespace.length>0?d.push(this.namespace,b[c]):d.push(b[c]);return d.reverse().join("-")},j=function(b,c){var d=this,e=!g(this).data(this.attr_name(!0));return g(this.scope).is("["+this.attr_name()+"]")?(g(this.scope).data(this.attr_name(!0)+"-init",a.extend({},this.settings,c||b,this.data_options(g(this.scope)))),e&&this.events(this.scope)):g("["+this.attr_name()+"]",this.scope).each(function(){var e=!g(this).data(d.attr_name(!0)+"-init");g(this).data(d.attr_name(!0)+"-init",a.extend({},d.settings,c||b,d.data_options(g(this)))),e&&d.events(this)}),"string"==typeof b?this[b].call(this,c):void 0},k=function(a,b){function c(){b(a[0])}function d(){if(this.one("load",c),/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var a=this.attr("src"),b=a.match(/\?/)?"&":"?";b+="random="+(new Date).getTime(),this.attr("src",a+b)}}return a.attr("src")?void(a[0].complete||4===a[0].readyState?c():d.call(a)):void c()};b.matchMedia=b.matchMedia||function(a){var b,c=a.documentElement,d=c.firstElementChild||c.firstChild,e=a.createElement("body"),f=a.createElement("div");return f.id="mq-test-1",f.style.cssText="position:absolute;top:-100em",e.style.background="none",e.appendChild(f),function(a){return f.innerHTML='&shy;<style media="'+a+'"> #mq-test-1 { width: 42px; }</style>',c.insertBefore(e,d),b=42===f.offsetWidth,c.removeChild(e),{matches:b,media:a}}}(c),function(a){function c(){d&&(g(c),i&&a.fx.tick())}for(var d,e=0,f=["webkit","moz"],g=b.requestAnimationFrame,h=b.cancelAnimationFrame,i="undefined"!=typeof a.fx;e<f.length&&!g;e++)g=b[f[e]+"RequestAnimationFrame"],h=h||b[f[e]+"CancelAnimationFrame"]||b[f[e]+"CancelRequestAnimationFrame"];g?(b.requestAnimationFrame=g,b.cancelAnimationFrame=h,i&&(a.fx.timer=function(b){b()&&a.timers.push(b)&&!d&&(d=!0,c())},a.fx.stop=function(){d=!1})):(b.requestAnimationFrame=function(a){var c=(new Date).getTime(),d=Math.max(0,16-(c-e)),f=b.setTimeout(function(){a(c+d)},d);return e=c+d,f},b.cancelAnimationFrame=function(a){clearTimeout(a)})}(jQuery),b.Foundation={name:"Foundation",version:"5.4.5",media_queries:{small:g(".foundation-mq-small").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),medium:g(".foundation-mq-medium").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),large:g(".foundation-mq-large").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xlarge:g(".foundation-mq-xlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xxlarge:g(".foundation-mq-xxlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,"")},stylesheet:a("<style></style>").appendTo("head")[0].sheet,global:{namespace:d},init:function(a,c,d,e,f){var h=[a,d,e,f],i=[];if(this.rtl=/rtl/i.test(g("html").attr("dir")),this.scope=a||this.scope,this.set_namespace(),c&&"string"==typeof c&&!/reflow/i.test(c))this.libs.hasOwnProperty(c)&&i.push(this.init_lib(c,h));else for(var j in this.libs)i.push(this.init_lib(j,c));return g(b).load(function(){g(b).trigger("resize.fndtn.clearing").trigger("resize.fndtn.dropdown").trigger("resize.fndtn.equalizer").trigger("resize.fndtn.interchange").trigger("resize.fndtn.joyride").trigger("resize.fndtn.magellan").trigger("resize.fndtn.topbar").trigger("resize.fndtn.slider")}),a},init_lib:function(b,c){return this.libs.hasOwnProperty(b)?(this.patch(this.libs[b]),c&&c.hasOwnProperty(b)?("undefined"!=typeof this.libs[b].settings?a.extend(!0,this.libs[b].settings,c[b]):"undefined"!=typeof this.libs[b].defaults&&a.extend(!0,this.libs[b].defaults,c[b]),this.libs[b].init.apply(this.libs[b],[this.scope,c[b]])):(c=c instanceof Array?c:new Array(c),this.libs[b].init.apply(this.libs[b],c))):function(){}},patch:function(a){a.scope=this.scope,a.namespace=this.global.namespace,a.rtl=this.rtl,a.data_options=this.utils.data_options,a.attr_name=h,a.add_namespace=i,a.bindings=j,a.S=this.utils.S},inherit:function(a,b){for(var c=b.split(" "),d=c.length;d--;)this.utils.hasOwnProperty(c[d])&&(a[c[d]]=this.utils[c[d]])
},set_namespace:function(){var b=this.global.namespace===d?a(".foundation-data-attribute-namespace").css("font-family"):this.global.namespace;this.global.namespace=b===d||/false/i.test(b)?"":b},libs:{},utils:{S:g,throttle:function(a,b){var c=null;return function(){var d=this,e=arguments;null==c&&(c=setTimeout(function(){a.apply(d,e),c=null},b))}},debounce:function(a,b,c){var d,e;return function(){var f=this,g=arguments,h=function(){d=null,c||(e=a.apply(f,g))},i=c&&!d;return clearTimeout(d),d=setTimeout(h,b),i&&(e=a.apply(f,g)),e}},data_options:function(b,c){function d(a){return!isNaN(a-0)&&null!==a&&""!==a&&a!==!1&&a!==!0}function e(b){return"string"==typeof b?a.trim(b):b}c=c||"options";var f,g,h,i={},j=function(a){var b=Foundation.global.namespace;return a.data(b.length>0?b+"-"+c:c)},k=j(b);if("object"==typeof k)return k;for(h=(k||":").split(";"),f=h.length;f--;)g=h[f].split(":"),g=[g[0],g.slice(1).join(":")],/true/i.test(g[1])&&(g[1]=!0),/false/i.test(g[1])&&(g[1]=!1),d(g[1])&&(g[1]=-1===g[1].indexOf(".")?parseInt(g[1],10):parseFloat(g[1])),2===g.length&&g[0].length>0&&(i[e(g[0])]=e(g[1]));return i},register_media:function(b,c){Foundation.media_queries[b]===d&&(a("head").append('<meta class="'+c+'"/>'),Foundation.media_queries[b]=e(a("."+c).css("font-family")))},add_custom_rule:function(a,b){if(b===d&&Foundation.stylesheet)Foundation.stylesheet.insertRule(a,Foundation.stylesheet.cssRules.length);else{var c=Foundation.media_queries[b];c!==d&&Foundation.stylesheet.insertRule("@media "+Foundation.media_queries[b]+"{ "+a+" }")}},image_loaded:function(a,b){var c=this,d=a.length;0===d&&b(a),a.each(function(){k(c.S(this),function(){d-=1,0===d&&b(a)})})},random_str:function(){return this.fidx||(this.fidx=0),this.prefix=this.prefix||[this.name||"F",(+new Date).toString(36)].join("-"),this.prefix+(this.fidx++).toString(36)}}},a.fn.foundation=function(){var a=Array.prototype.slice.call(arguments,0);return this.each(function(){return Foundation.init.apply(Foundation,[this].concat(a)),this})}}(jQuery,window,window.document)});return c}(),require._modules["/vendor/foundation/foundation.tooltip.js"]=function(){var a="/vendor/foundation/foundation.tooltip.js",b="/vendor/foundation",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},d()},parent:null,children:[]},d=(c.require=window.require._bind(c),c.exports,function(){!function(a,b){"use strict";Foundation.libs.tooltip={name:"tooltip",version:"5.4.5",settings:{additional_inheritable_classes:[],tooltip_class:".tooltip",append_to:"body",touch_close_text:"Tap To Close",disable_for_touch:!1,hover_delay:200,show_on:"all",tip_template:function(a,b){return'<span data-selector="'+a+'" id="'+a+'" class="'+Foundation.libs.tooltip.settings.tooltip_class.substring(1)+'" role="tooltip">'+b+'<span class="nub"></span></span>'}},cache:{},init:function(a,b,c){Foundation.inherit(this,"random_str"),this.bindings(b,c)},should_show:function(b){var c=a.extend({},this.settings,this.data_options(b));return"all"===c.show_on?!0:this.small()&&"small"===c.show_on?!0:this.medium()&&"medium"===c.show_on?!0:this.large()&&"large"===c.show_on?!0:!1},medium:function(){return matchMedia(Foundation.media_queries.medium).matches},large:function(){return matchMedia(Foundation.media_queries.large).matches},events:function(b){var c=this,d=c.S;c.create(this.S(b)),a(this.scope).off(".tooltip").on("mouseenter.fndtn.tooltip mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip","["+this.attr_name()+"]",function(b){var e=d(this),f=a.extend({},c.settings,c.data_options(e)),g=!1;if(Modernizr.touch&&/touchstart|MSPointerDown/i.test(b.type)&&d(b.target).is("a"))return!1;if(/mouse/i.test(b.type)&&c.ie_touch(b))return!1;if(e.hasClass("open"))Modernizr.touch&&/touchstart|MSPointerDown/i.test(b.type)&&b.preventDefault(),c.hide(e);else{if(f.disable_for_touch&&Modernizr.touch&&/touchstart|MSPointerDown/i.test(b.type))return;!f.disable_for_touch&&Modernizr.touch&&/touchstart|MSPointerDown/i.test(b.type)&&(b.preventDefault(),d(f.tooltip_class+".open").hide(),g=!0),/enter|over/i.test(b.type)?this.timer=setTimeout(function(){c.showTip(e)}.bind(this),c.settings.hover_delay):"mouseout"===b.type||"mouseleave"===b.type?(clearTimeout(this.timer),c.hide(e)):c.showTip(e)}}).on("mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip","["+this.attr_name()+"].open",function(b){return/mouse/i.test(b.type)&&c.ie_touch(b)?!1:void(("touch"!=a(this).data("tooltip-open-event-type")||"mouseleave"!=b.type)&&("mouse"==a(this).data("tooltip-open-event-type")&&/MSPointerDown|touchstart/i.test(b.type)?c.convert_to_touch(a(this)):c.hide(a(this))))}).on("DOMNodeRemoved DOMAttrModified","["+this.attr_name()+"]:not(a)",function(){c.hide(d(this))})},ie_touch:function(){return!1},showTip:function(a){var b=this.getTip(a);return this.should_show(a,b)?this.show(a):void 0},getTip:function(b){var c=this.selector(b),d=a.extend({},this.settings,this.data_options(b)),e=null;return c&&(e=this.S('span[data-selector="'+c+'"]'+d.tooltip_class)),"object"==typeof e?e:!1},selector:function(a){var b=a.attr("id"),c=a.attr(this.attr_name())||a.attr("data-selector");return(b&&b.length<1||!b)&&"string"!=typeof c&&(c=this.random_str(6),a.attr("data-selector",c).attr("aria-describedby",c)),b&&b.length>0?b:c},create:function(c){var d=this,e=a.extend({},this.settings,this.data_options(c)),f=this.settings.tip_template;"string"==typeof e.tip_template&&b.hasOwnProperty(e.tip_template)&&(f=b[e.tip_template]);var g=a(f(this.selector(c),a("<div></div>").html(c.attr("title")).html())),h=this.inheritable_classes(c);g.addClass(h).appendTo(e.append_to),Modernizr.touch&&(g.append('<span class="tap-to-close">'+e.touch_close_text+"</span>"),g.on("touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip",function(){d.hide(c)})),c.removeAttr("title").attr("title","")},reposition:function(b,c,d){var e,f,g,h,i;if(c.css("visibility","hidden").show(),e=b.data("width"),f=c.children(".nub"),g=f.outerHeight(),h=f.outerHeight(),c.css(this.small()?{width:"100%"}:{width:e?e:"auto"}),i=function(a,b,c,d,e){return a.css({top:b?b:"auto",bottom:d?d:"auto",left:e?e:"auto",right:c?c:"auto"}).end()},i(c,b.offset().top+b.outerHeight()+10,"auto","auto",b.offset().left),this.small())i(c,b.offset().top+b.outerHeight()+10,"auto","auto",12.5,a(this.scope).width()),c.addClass("tip-override"),i(f,-g,"auto","auto",b.offset().left);else{var j=b.offset().left;Foundation.rtl&&(f.addClass("rtl"),j=b.offset().left+b.outerWidth()-c.outerWidth()),i(c,b.offset().top+b.outerHeight()+10,"auto","auto",j),c.removeClass("tip-override"),d&&d.indexOf("tip-top")>-1?(Foundation.rtl&&f.addClass("rtl"),i(c,b.offset().top-c.outerHeight(),"auto","auto",j).removeClass("tip-override")):d&&d.indexOf("tip-left")>-1?(i(c,b.offset().top+b.outerHeight()/2-c.outerHeight()/2,"auto","auto",b.offset().left-c.outerWidth()-g).removeClass("tip-override"),f.removeClass("rtl")):d&&d.indexOf("tip-right")>-1&&(i(c,b.offset().top+b.outerHeight()/2-c.outerHeight()/2,"auto","auto",b.offset().left+b.outerWidth()+g).removeClass("tip-override"),f.removeClass("rtl"))}c.css("visibility","visible").hide()},small:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},inheritable_classes:function(b){var c=a.extend({},this.settings,this.data_options(b)),d=["tip-top","tip-left","tip-bottom","tip-right","radius","round"].concat(c.additional_inheritable_classes),e=b.attr("class"),f=e?a.map(e.split(" "),function(b){return-1!==a.inArray(b,d)?b:void 0}).join(" "):"";return a.trim(f)},convert_to_touch:function(b){var c=this,d=c.getTip(b),e=a.extend({},c.settings,c.data_options(b));0===d.find(".tap-to-close").length&&(d.append('<span class="tap-to-close">'+e.touch_close_text+"</span>"),d.on("click.fndtn.tooltip.tapclose touchstart.fndtn.tooltip.tapclose MSPointerDown.fndtn.tooltip.tapclose",function(){c.hide(b)})),b.data("tooltip-open-event-type","touch")},show:function(a){var b=this.getTip(a);"touch"==a.data("tooltip-open-event-type")&&this.convert_to_touch(a),this.reposition(a,b,a.attr("class")),a.addClass("open"),b.fadeIn(150)},hide:function(a){var b=this.getTip(a);b.fadeOut(150,function(){b.find(".tap-to-close").remove(),b.off("click.fndtn.tooltip.tapclose MSPointerDown.fndtn.tapclose"),a.removeClass("open")})},off:function(){var b=this;this.S(this.scope).off(".fndtn.tooltip"),this.S(this.settings.tooltip_class).each(function(c){a("["+b.attr_name()+"]").eq(c).attr("title",a(this).text())}).remove()},reflow:function(){}}}(jQuery,window,window.document)});return c}(),require._modules["/vendor/foundation/index.js"]=function(){var a="/vendor/foundation/index.js",b="/vendor/foundation",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){window.jQuery=d("jquery"),d("./foundation"),d("./foundation.tooltip"),delete window.jQuery,window.jQuery=void 0});return c}(),require._modules["/vendor/jquery.atwho/index.js"]=function(){var a="/vendor/jquery.atwho/index.js",b="/vendor/jquery.atwho",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){window.jQuery=d("jquery"),d("./jquery.caret"),d("./jquery.atwho"),window.jQuery=void 0,delete window.jQuery});return c}(),require._modules["/vendor/jquery.atwho/jquery.atwho.js"]=function(){var a="/vendor/jquery.atwho/jquery.atwho.js",b="/vendor/jquery.atwho",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},d()},parent:null,children:[]},d=(c.require=window.require._bind(c),c.exports,function(){(function(){!function(a){return"function"==typeof define&&define.amd?define(["jquery"],a):a(window.jQuery)}(function(a){var b,c,d,e,f,g,h,i=[].slice;c=function(){function b(b){this.current_flag=null,this.controllers={},this.alias_maps={},this.$inputor=a(b),this.setIframe(),this.listen()}return b.prototype.createContainer=function(b){return 0===(this.$el=a("#atwho-container",b)).length?a(b.body).append(this.$el=a("<div id='atwho-container'></div>")):void 0},b.prototype.setIframe=function(a,b){var c;return null==b&&(b=!1),a?(this.window=a.contentWindow,this.document=a.contentDocument||this.window.document,this.iframe=a):(this.document=document,this.window=window,this.iframe=null),(this.iframeStandalone=b)?(null!=(c=this.$el)&&c.remove(),this.createContainer(this.document)):this.createContainer(document)},b.prototype.controller=function(a){var b,c,d,e;if(this.alias_maps[a])c=this.controllers[this.alias_maps[a]];else{e=this.controllers;for(d in e)if(b=e[d],d===a){c=b;break}}return c?c:this.controllers[this.current_flag]},b.prototype.set_context_for=function(a){return this.current_flag=a,this},b.prototype.reg=function(a,b){var c,e;return c=(e=this.controllers)[a]||(e[a]=new d(this,a)),b.alias&&(this.alias_maps[b.alias]=a),c.init(b),this},b.prototype.listen=function(){return this.$inputor.on("keyup.atwhoInner",function(a){return function(b){return a.on_keyup(b)}}(this)).on("keydown.atwhoInner",function(a){return function(b){return a.on_keydown(b)}}(this)).on("scroll.atwhoInner",function(a){return function(b){var c;return null!=(c=a.controller())?c.view.hide(b):void 0}}(this)).on("blur.atwhoInner",function(a){return function(b){var c;return(c=a.controller())?c.view.hide(b,c.get_opt("display_timeout")):void 0}}(this)).on("click.atwhoInner",function(a){return function(b){var c;return null!=(c=a.controller())?c.view.hide(b):void 0}}(this))},b.prototype.shutdown=function(){var a,b,c;c=this.controllers;for(b in c)a=c[b],a.destroy(),delete this.controllers[b];return this.$inputor.off(".atwhoInner"),this.$el.remove()},b.prototype.dispatch=function(){return a.map(this.controllers,function(a){return function(b){var c;return(c=b.get_opt("delay"))?(clearTimeout(a.delayedCallback),a.delayedCallback=setTimeout(function(){return b.look_up()?a.set_context_for(b.at):void 0},c)):b.look_up()?a.set_context_for(b.at):void 0}}(this))},b.prototype.on_keyup=function(b){var c;switch(b.keyCode){case f.ESC:b.preventDefault(),null!=(c=this.controller())&&c.view.hide();break;case f.DOWN:case f.UP:case f.CTRL:a.noop();break;case f.P:case f.N:b.ctrlKey||this.dispatch();break;default:this.dispatch()}},b.prototype.on_keydown=function(b){var c,d;if(c=null!=(d=this.controller())?d.view:void 0,c&&c.visible())switch(b.keyCode){case f.ESC:b.preventDefault(),c.hide(b);break;case f.UP:b.preventDefault(),c.prev();break;case f.DOWN:b.preventDefault(),c.next();break;case f.P:if(!b.ctrlKey)return;b.preventDefault(),c.prev();break;case f.N:if(!b.ctrlKey)return;b.preventDefault(),c.next();break;case f.TAB:case f.ENTER:if(!c.visible())return;b.preventDefault(),c.choose(b);break;default:a.noop()}},b}(),d=function(){function b(b,c){this.app=b,this.at=c,this.$inputor=this.app.$inputor,this.id=this.$inputor[0].id||this.uid(),this.setting=null,this.query=null,this.pos=0,this.cur_rect=null,this.range=null,0===(this.$el=a("#atwho-ground-"+this.id,this.app.$el)).length&&this.app.$el.append(this.$el=a("<div id='atwho-ground-"+this.id+"'></div>")),this.model=new g(this),this.view=new h(this)}return b.prototype.uid=function(){return(Math.random().toString(16)+"000000000").substr(2,8)+(new Date).getTime()},b.prototype.init=function(b){return this.setting=a.extend({},this.setting||a.fn.atwho["default"],b),this.view.init(),this.model.reload(this.setting.data)},b.prototype.destroy=function(){return this.trigger("beforeDestroy"),this.model.destroy(),this.view.destroy(),this.$el.remove()},b.prototype.call_default=function(){var b,c,d;d=arguments[0],b=2<=arguments.length?i.call(arguments,1):[];try{return e[d].apply(this,b)}catch(f){return c=f,a.error(""+c+" Or maybe At.js doesn't have function "+d)}},b.prototype.trigger=function(a,b){var c,d;return null==b&&(b=[]),b.push(this),c=this.get_opt("alias"),d=c?""+a+"-"+c+".atwho":""+a+".atwho",this.$inputor.trigger(d,b)},b.prototype.callbacks=function(a){return this.get_opt("callbacks")[a]||e[a]},b.prototype.get_opt=function(a){var b;try{return this.setting[a]}catch(c){return b=c,null}},b.prototype.content=function(){return this.$inputor.is("textarea, input")?this.$inputor.val():this.$inputor.text()},b.prototype.catch_query=function(){var a,b,c,d,e,f;return b=this.content(),a=this.$inputor.caret("pos",{iframe:this.app.iframe}),f=b.slice(0,a),d=this.callbacks("matcher").call(this,this.at,f,this.get_opt("start_with_space")),"string"==typeof d&&d.length<=this.get_opt("max_len",20)?(e=a-d.length,c=e+d.length,this.pos=e,d={text:d,head_pos:e,end_pos:c},this.trigger("matched",[this.at,d.text])):(d=null,this.view.hide()),this.query=d},b.prototype.rect=function(){var b,c,d;if(b=this.$inputor.caret("offset",this.pos-1,{iframe:this.app.iframe}))return this.app.iframe&&!this.app.iframeStandalone&&(c=a(this.app.iframe).offset(),b.left+=c.left,b.top+=c.top),this.$inputor.is("[contentEditable]")&&(b=this.cur_rect||(this.cur_rect=b)),d=this.app.document.selection?0:2,{left:b.left,top:b.top,bottom:b.top+b.height+d}},b.prototype.reset_rect=function(){return this.$inputor.is("[contentEditable]")?this.cur_rect=null:void 0},b.prototype.mark_range=function(){var a;if(this.$inputor.is("[contentEditable]"))return this.app.window.getSelection&&(a=this.app.window.getSelection()).rangeCount>0?this.range=a.getRangeAt(0):this.app.document.selection?this.ie8_range=this.app.document.selection.createRange():void 0},b.prototype.insert_content_for=function(b){var c,d,e;return d=b.data("value"),e=this.get_opt("insert_tpl"),this.$inputor.is("textarea, input")||!e?d:(c=a.extend({},b.data("item-data"),{"atwho-data-value":d,"atwho-at":this.at}),this.callbacks("tpl_eval").call(this,e,c))},b.prototype.insert=function(b){var c,d,e,f,g,h,i,j,k;return c=this.$inputor,k=this.callbacks("inserting_wrapper").call(this,c,b,this.get_opt("suffix")),c.is("textarea, input")?(h=c.val(),i=h.slice(0,Math.max(this.query.head_pos-this.at.length,0)),j=""+i+k+h.slice(this.query.end_pos||0),c.val(j),c.caret("pos",i.length+k.length,{iframe:this.app.iframe})):(f=this.range)?(e=f.startOffset-(this.query.end_pos-this.query.head_pos)-this.at.length,f.setStart(f.endContainer,Math.max(e,0)),f.setEnd(f.endContainer,f.endOffset),f.deleteContents(),d=a(k,this.app.document)[0],f.insertNode(d),f.setEndAfter(d),f.collapse(!1),g=this.app.window.getSelection(),g.removeAllRanges(),g.addRange(f)):(f=this.ie8_range)&&(f.moveStart("character",this.query.end_pos-this.query.head_pos-this.at.length),f.pasteHTML(k),f.collapse(!1),f.select()),c.is(":focus")||c.focus(),c.change()},b.prototype.render_view=function(a){var b;return b=this.get_opt("search_key"),a=this.callbacks("sorter").call(this,this.query.text,a.slice(0,1001),b),this.view.render(a.slice(0,this.get_opt("limit")))},b.prototype.look_up=function(){var b,c;if(b=this.catch_query())return c=function(a){return a&&a.length>0?this.render_view(a):this.view.hide()},this.model.query(b.text,a.proxy(c,this)),b},b}(),g=function(){function b(a){this.context=a,this.at=this.context.at,this.storage=this.context.$inputor}return b.prototype.destroy=function(){return this.storage.data(this.at,null)},b.prototype.saved=function(){return this.fetch()>0},b.prototype.query=function(a,b){var c,d,e;return c=this.fetch(),d=this.context.get_opt("search_key"),c=this.context.callbacks("filter").call(this.context,a,c,d)||[],e=this.context.callbacks("remote_filter"),c.length>0||!e&&0===c.length?b(c):e.call(this.context,a,b)},b.prototype.fetch=function(){return this.storage.data(this.at)||[]},b.prototype.save=function(a){return this.storage.data(this.at,this.context.callbacks("before_save").call(this.context,a||[]))},b.prototype.load=function(a){return!this.saved()&&a?this._load(a):void 0},b.prototype.reload=function(a){return this._load(a)},b.prototype._load=function(b){return"string"==typeof b?a.ajax(b,{dataType:"json"}).done(function(a){return function(b){return a.save(b)}}(this)):this.save(b)},b}(),h=function(){function b(b){this.context=b,this.$el=a("<div class='atwho-view'><ul class='atwho-view-ul'></ul></div>"),this.timeout_id=null,this.context.$el.append(this.$el),this.bind_event()}return b.prototype.init=function(){var a;return a=this.context.get_opt("alias")||this.context.at.charCodeAt(0),this.$el.attr({id:"at-view-"+a})},b.prototype.destroy=function(){return this.$el.remove()},b.prototype.bind_event=function(){var b;return b=this.$el.find("ul"),b.on("mouseenter.atwho-view","li",function(c){return b.find(".cur").removeClass("cur"),a(c.currentTarget).addClass("cur")}).on("click",function(a){return function(b){return a.choose(b),b.preventDefault()}}(this))},b.prototype.visible=function(){return this.$el.is(":visible")},b.prototype.choose=function(a){var b,c;return(b=this.$el.find(".cur")).length&&(c=this.context.insert_content_for(b),this.context.insert(this.context.callbacks("before_insert").call(this.context,c,b),b),this.context.trigger("inserted",[b,a]),this.hide(a)),this.context.get_opt("hide_without_suffix")?this.stop_showing=!0:void 0},b.prototype.reposition=function(b){var c,d,e,f;return f=this.context.app.iframeStandalone?this.context.app.window:window,b.bottom+this.$el.height()-a(f).scrollTop()>a(f).height()&&(b.bottom=b.top-this.$el.height()),b.left>(d=a(f).width()-this.$el.width()-5)&&(b.left=d),c={left:b.left,top:b.bottom},null!=(e=this.context.callbacks("before_reposition"))&&e.call(this.context,c),this.$el.offset(c),this.context.trigger("reposition",[c])},b.prototype.next=function(){var a,b;return a=this.$el.find(".cur").removeClass("cur"),b=a.next(),b.length||(b=this.$el.find("li:first")),b.addClass("cur")},b.prototype.prev=function(){var a,b;return a=this.$el.find(".cur").removeClass("cur"),b=a.prev(),b.length||(b=this.$el.find("li:last")),b.addClass("cur")},b.prototype.show=function(){var a;return this.stop_showing?void(this.stop_showing=!1):(this.context.mark_range(),this.visible()||(this.$el.show(),this.context.trigger("shown")),(a=this.context.rect())?this.reposition(a):void 0)},b.prototype.hide=function(a,b){var c;if(this.visible())return isNaN(b)?(this.context.reset_rect(),this.$el.hide(),this.context.trigger("hidden",[a])):(c=function(a){return function(){return a.hide()}}(this),clearTimeout(this.timeout_id),this.timeout_id=setTimeout(c,b))},b.prototype.render=function(b){var c,d,e,f,g,h,i;if(!(a.isArray(b)&&b.length>0))return void this.hide();for(this.$el.find("ul").empty(),d=this.$el.find("ul"),g=this.context.get_opt("tpl"),h=0,i=b.length;i>h;h++)e=b[h],e=a.extend({},e,{"atwho-at":this.context.at}),f=this.context.callbacks("tpl_eval").call(this.context,g,e),c=a(this.context.callbacks("highlighter").call(this.context,f,this.context.query.text)),c.data("item-data",e),d.append(c);return this.show(),this.context.get_opt("highlight_first")?d.find("li:first").addClass("cur"):void 0},b}(),f={DOWN:40,UP:38,ESC:27,TAB:9,ENTER:13,CTRL:17,P:80,N:78},e={before_save:function(b){var c,d,e,f;if(!a.isArray(b))return b;for(f=[],d=0,e=b.length;e>d;d++)c=b[d],f.push(a.isPlainObject(c)?c:{name:c});return f},matcher:function(a,b,c){var d,e,f,g;return a=a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),c&&(a="(?:^|\\s)"+a),f=decodeURI("%C3%80"),g=decodeURI("%C3%BF"),e=new RegExp(""+a+"([A-Za-z"+f+"-"+g+"0-9_+-]*)$|"+a+"([^\\x00-\\xff]*)$","gi"),d=e.exec(b),d?d[2]||d[1]:null},filter:function(a,b,c){var d,e,f,g;for(g=[],e=0,f=b.length;f>e;e++)d=b[e],~new String(d[c]).toLowerCase().indexOf(a.toLowerCase())&&g.push(d);return g},remote_filter:null,sorter:function(a,b,c){var d,e,f,g;if(!a)return b;for(g=[],e=0,f=b.length;f>e;e++)d=b[e],d.atwho_order=new String(d[c]).toLowerCase().indexOf(a.toLowerCase()),d.atwho_order>-1&&g.push(d);return g.sort(function(a,b){return a.atwho_order-b.atwho_order})},tpl_eval:function(a,b){var c;try{return a.replace(/\$\{([^\}]*)\}/g,function(a,c){return b[c]})}catch(d){return c=d,""}},highlighter:function(a,b){var c;return b?(c=new RegExp(">\\s*(\\w*?)("+b.replace("+","\\+")+")(\\w*)\\s*<","ig"),a.replace(c,function(a,b,c,d){return"> "+b+"<strong>"+c+"</strong>"+d+" <"})):a},before_insert:function(a){return a},inserting_wrapper:function(a,b,c){var d,e;return d=""===c?c:c||" ",a.is("textarea, input")?""+b+d:"true"===a.attr("contentEditable")?(d=""===c?c:c||"&nbsp;",/firefox/i.test(navigator.userAgent)?e="<span>"+b+d+"</span>":(c="<span contenteditable='false'>"+d+"<span>",e="<span contenteditable='false'>"+b+c+"</span>"),this.app.document.selection&&(e="<span contenteditable='true'>"+b+"</span>"),e):void 0}},b={load:function(a,b){var c;return(c=this.controller(a))?c.model.load(b):void 0},setIframe:function(a,b){return this.setIframe(a,b),null},run:function(){return this.dispatch()},destroy:function(){return this.shutdown(),this.$inputor.data("atwho",null)}},a.fn.atwho=function(d){var e,f;return f=arguments,e=null,this.filter('textarea, input, [contenteditable=""], [contenteditable=true]').each(function(){var g,h;return(h=(g=a(this)).data("atwho"))||g.data("atwho",h=new c(this)),"object"!=typeof d&&d?b[d]&&h?e=b[d].apply(h,Array.prototype.slice.call(f,1)):a.error("Method "+d+" does not exist on jQuery.caret"):h.reg(d.at,d)}),e||this},a.fn.atwho["default"]={at:void 0,alias:void 0,data:null,tpl:"<li data-value='${atwho-at}${name}'>${name}</li>",insert_tpl:"<span id='${id}'>${atwho-data-value}</span>",callbacks:e,search_key:"name",suffix:void 0,hide_without_suffix:!1,start_with_space:!0,highlight_first:!0,limit:5,max_len:20,display_timeout:300,delay:null}})}).call(this)});return c}(),require._modules["/vendor/jquery.atwho/jquery.caret.js"]=function(){var a="/vendor/jquery.atwho/jquery.caret.js",b="/vendor/jquery.atwho",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},d()},parent:null,children:[]},d=(c.require=window.require._bind(c),c.exports,function(){(function(){!function(a){return"function"==typeof define&&define.amd?define(["jquery"],a):a(window.jQuery)}(function(a){"use strict";var b,c,d,e,f,g,h,i,j,k,l;return k="caret",b=function(){function b(a){this.$inputor=a,this.domInputor=this.$inputor[0]}return b.prototype.setPos=function(){return this.domInputor},b.prototype.getIEPosition=function(){return this.getPosition()},b.prototype.getPosition=function(){var a,b;return b=this.getOffset(),a=this.$inputor.offset(),b.left-=a.left,b.top-=a.top,b},b.prototype.getOldIEPos=function(){var a,b;return b=h.selection.createRange(),a=h.body.createTextRange(),a.moveToElementText(this.domInputor),a.setEndPoint("EndToEnd",b),a.text.length},b.prototype.getPos=function(){var a,b,c;return(c=this.range())?(a=c.cloneRange(),a.selectNodeContents(this.domInputor),a.setEnd(c.endContainer,c.endOffset),b=a.toString().length,a.detach(),b):h.selection?this.getOldIEPos():void 0},b.prototype.getOldIEOffset=function(){var a,b;return a=h.selection.createRange().duplicate(),a.moveStart("character",-1),b=a.getBoundingClientRect(),{height:b.bottom-b.top,left:b.left,top:b.top}},b.prototype.getOffset=function(){var b,c,d,e;if(j.getSelection&&(d=this.range())){if(d.endOffset-1<0)return null;b=d.cloneRange(),b.setStart(d.endContainer,d.endOffset-1),b.setEnd(d.endContainer,d.endOffset),e=b.getBoundingClientRect(),c={height:e.height,left:e.left+e.width,top:e.top},b.detach()}else h.selection&&(c=this.getOldIEOffset());return c&&(c.top+=a(j).scrollTop(),c.left+=a(j).scrollLeft()),c},b.prototype.range=function(){var a;if(j.getSelection)return a=j.getSelection(),a.rangeCount>0?a.getRangeAt(0):null},b}(),c=function(){function b(a){this.$inputor=a,this.domInputor=this.$inputor[0]}return b.prototype.getIEPos=function(){var a,b,c,d,e,f,g;return b=this.domInputor,f=h.selection.createRange(),e=0,f&&f.parentElement()===b&&(d=b.value.replace(/\r\n/g,"\n"),c=d.length,g=b.createTextRange(),g.moveToBookmark(f.getBookmark()),a=b.createTextRange(),a.collapse(!1),e=g.compareEndPoints("StartToEnd",a)>-1?c:-g.moveStart("character",-c)),e},b.prototype.getPos=function(){return h.selection?this.getIEPos():this.domInputor.selectionStart},b.prototype.setPos=function(a){var b,c;return b=this.domInputor,h.selection?(c=b.createTextRange(),c.move("character",a),c.select()):b.setSelectionRange&&b.setSelectionRange(a,a),b},b.prototype.getIEOffset=function(a){var b,c,d,e;return c=this.domInputor.createTextRange(),a||(a=this.getPos()),c.move("character",a),d=c.boundingLeft,e=c.boundingTop,b=c.boundingHeight,{left:d,top:e,height:b}},b.prototype.getOffset=function(b){var c,d,e;return c=this.$inputor,h.selection?(d=this.getIEOffset(b),d.top+=a(j).scrollTop()+c.scrollTop(),d.left+=a(j).scrollLeft()+c.scrollLeft(),d):(d=c.offset(),e=this.getPosition(b),d={left:d.left+e.left-c.scrollLeft(),top:d.top+e.top-c.scrollTop(),height:e.height})},b.prototype.getPosition=function(b){var c,e,f,g,h,i,j;return c=this.$inputor,g=function(b){return a("<div></div>").text(b).html().replace(/\r\n|\r|\n/g,"<br/>").replace(/\s/g,"&nbsp;")},void 0===b&&(b=this.getPos()),j=c.val().slice(0,b),f=c.val().slice(b),h="<span style='position: relative; display: inline;'>"+g(j)+"</span>",h+="<span id='caret' style='position: relative; display: inline;'>|</span>",h+="<span style='position: relative; display: inline;'>"+g(f)+"</span>",i=new d(c),e=i.create(h).rect()},b.prototype.getIEPosition=function(a){var b,c,d,e,f;return d=this.getIEOffset(a),c=this.$inputor.offset(),e=d.left-c.left,f=d.top-c.top,b=d.height,{left:e,top:f,height:b}},b}(),d=function(){function b(a){this.$inputor=a}return b.prototype.css_attr=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle","borderTopWidth","boxSizing","fontFamily","fontSize","fontWeight","height","letterSpacing","lineHeight","marginBottom","marginLeft","marginRight","marginTop","outlineWidth","overflow","overflowX","overflowY","paddingBottom","paddingLeft","paddingRight","paddingTop","textAlign","textOverflow","textTransform","whiteSpace","wordBreak","wordWrap"],b.prototype.mirrorCss=function(){var b,c=this;return b={position:"absolute",left:-9999,top:0,zIndex:-2e4},"TEXTAREA"===this.$inputor.prop("tagName")&&this.css_attr.push("width"),a.each(this.css_attr,function(a,d){return b[d]=c.$inputor.css(d)}),b},b.prototype.create=function(b){return this.$mirror=a("<div></div>"),this.$mirror.css(this.mirrorCss()),this.$mirror.html(b),this.$inputor.after(this.$mirror),this},b.prototype.rect=function(){var a,b,c;return a=this.$mirror.find("#caret"),b=a.position(),c={left:b.left,top:b.top,height:a.height()},this.$mirror.remove(),c},b}(),e={contentEditable:function(a){return!(!a[0].contentEditable||"true"!==a[0].contentEditable)}},g={pos:function(a){return a||0===a?this.setPos(a):this.getPos()},position:function(a){return h.selection?this.getIEPosition(a):this.getPosition(a)},offset:function(a){var b;return b=this.getOffset(a)}},h=null,j=null,i=null,l=function(a){var b;return(b=null!=a?a.iframe:void 0)?(i=b,j=b.contentWindow,h=b.contentDocument||j.document):(i=void 0,j=window,h=document)},f=function(a){var b;h=a[0].ownerDocument,j=h.defaultView||h.parentWindow;try{return i=j.frameElement}catch(c){b=c}},a.fn.caret=function(d,f,h){var i;return g[d]?(a.isPlainObject(f)?(l(f),f=void 0):l(h),i=e.contentEditable(this)?new b(this):new c(this),g[d].apply(i,[f])):a.error("Method "+d+" does not exist on jQuery.caret")},a.fn.caret.EditableCaret=b,a.fn.caret.InputCaret=c,a.fn.caret.Utils=e,a.fn.caret.apis=g})}).call(this)});return c}(),require._modules["/vendor/jquery.hotkeys/index.js"]=function(){var a="/vendor/jquery.hotkeys/index.js",b="/vendor/jquery.hotkeys",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){window.jQuery=d("jquery"),d("./jquery.hotkeys.js"),window.jQuery=void 0,delete window.jQuery});return c}(),require._modules["/vendor/jquery.hotkeys/jquery.hotkeys.js"]=function(){var a="/vendor/jquery.hotkeys/jquery.hotkeys.js",b="/vendor/jquery.hotkeys",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},d()},parent:null,children:[]},d=(c.require=window.require._bind(c),c.exports,function(){!function(a){function b(b){if("string"==typeof b.data&&(b.data={keys:b.data}),b.data&&b.data.keys&&"string"==typeof b.data.keys){var c=b.handler,d=b.data.keys.toLowerCase().split(" ");b.handler=function(b){if(this===b.target||!(/textarea|select/i.test(b.target.nodeName)||a.hotkeys.options.filterTextInputs&&a.inArray(b.target.type,a.hotkeys.textAcceptingInputTypes)>-1)){var e="keypress"!==b.type&&a.hotkeys.specialKeys[b.which],f=String.fromCharCode(b.which).toLowerCase(),g="",h={};a.each(["alt","ctrl","shift"],function(a,c){b[c+"Key"]&&e!==c&&(g+=c+"+")}),b.metaKey&&!b.ctrlKey&&"meta"!==e&&(g+="meta+"),b.metaKey&&"meta"!==e&&g.indexOf("alt+ctrl+shift+")>-1&&(g=g.replace("alt+ctrl+shift+","hyper+")),e?h[g+e]=!0:(h[g+f]=!0,h[g+a.hotkeys.shiftNums[f]]=!0,"shift+"===g&&(h[a.hotkeys.shiftNums[f]]=!0));for(var i=0,j=d.length;j>i;i++)if(h[d[i]])return c.apply(this,arguments)}}}}a.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",10:"return",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",59:";",61:"=",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"},textAcceptingInputTypes:["text","password","number","email","url","range","date","month","week","time","datetime","datetime-local","search","color","tel"],options:{filterTextInputs:!0}},a.each(["keypress","keydown","keyup"],function(){a.event.special[this]={add:b}
})}(jQuery||this.jQuery||window.jQuery)});return c}(),require._modules["/vendor/merge-recursive/index.js"]=function(){var a="/vendor/merge-recursive/index.js",b="/vendor/merge-recursive",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=(c.require=window.require._bind(c),c.exports),e=function(){function a(a,b){return Array.prototype.slice.call(a,b)}function b(a){return!("object"!=typeof a||!a)}function e(a,c){return function(e){if(b(c[e]))if(b(a[e]))d.recursive(a[e],c[e]);else{var f=Array.isArray(c[e])?[]:{};a[e]=d.recursive(f,c[e])}else a[e]=c[e]}}c.exports=d=function(b){var c=a(arguments,1);return c.forEach(function(a){Object.keys(a).forEach(function(c){b[c]=a[c]})}),b},d.selective=function(b,c){var d=a(arguments,1);return d.forEach(function(a){b.forEach(function(b){c[b]=a[b]})}),c},d.recursive=function(b){var c=a(arguments,1);return c.forEach(function(a){Object.keys(a).forEach(e(b,a))}),b},d.selective.recursive=function(b,c){var d=a(arguments,1);return d.forEach(function(a){b.forEach(e(c,a))}),c}};return c}(),require._modules["/vendor/moment/index.js"]=function(){var a="/vendor/moment/index.js",b="/vendor/moment",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){(function(a){function b(a,b,c){switch(arguments.length){case 2:return null!=a?a:b;case 3:return null!=a?a:null!=b?b:c;default:throw new Error("Implement me")}}function e(a,b){return Bb.call(a,b)}function f(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function g(a){vb.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+a)}function h(a,b){var c=!0;return o(function(){return c&&(g(a),c=!1),b.apply(this,arguments)},b)}function i(a,b){sc[a]||(g(b),sc[a]=!0)}function j(a,b){return function(c){return r(a.call(this,c),b)}}function k(a,b){return function(c){return this.localeData().ordinal(a.call(this,c),b)}}function l(){}function m(a,b){b!==!1&&H(a),p(this,a),this._d=new Date(+a._d)}function n(a){var b=A(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1e3*j+6e4*i+36e5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=vb.localeData(),this._bubble()}function o(a,b){for(var c in b)e(b,c)&&(a[c]=b[c]);return e(b,"toString")&&(a.toString=b.toString),e(b,"valueOf")&&(a.valueOf=b.valueOf),a}function p(a,b){var c,d,e;if("undefined"!=typeof b._isAMomentObject&&(a._isAMomentObject=b._isAMomentObject),"undefined"!=typeof b._i&&(a._i=b._i),"undefined"!=typeof b._f&&(a._f=b._f),"undefined"!=typeof b._l&&(a._l=b._l),"undefined"!=typeof b._strict&&(a._strict=b._strict),"undefined"!=typeof b._tzm&&(a._tzm=b._tzm),"undefined"!=typeof b._isUTC&&(a._isUTC=b._isUTC),"undefined"!=typeof b._offset&&(a._offset=b._offset),"undefined"!=typeof b._pf&&(a._pf=b._pf),"undefined"!=typeof b._locale&&(a._locale=b._locale),Kb.length>0)for(c in Kb)d=Kb[c],e=b[d],"undefined"!=typeof e&&(a[d]=e);return a}function q(a){return 0>a?Math.ceil(a):Math.floor(a)}function r(a,b,c){for(var d=""+Math.abs(a),e=a>=0;d.length<b;)d="0"+d;return(e?c?"+":"":"-")+d}function s(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function t(a,b){var c;return b=M(b,a),a.isBefore(b)?c=s(a,b):(c=s(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c}function u(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||(i(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period)."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=vb.duration(c,d),v(this,e,a),this}}function v(a,b,c,d){var e=b._milliseconds,f=b._days,g=b._months;d=null==d?!0:d,e&&a._d.setTime(+a._d+e*c),f&&pb(a,"Date",ob(a,"Date")+f*c),g&&nb(a,ob(a,"Month")+g*c),d&&vb.updateOffset(a,f||g)}function w(a){return"[object Array]"===Object.prototype.toString.call(a)}function x(a){return"[object Date]"===Object.prototype.toString.call(a)||a instanceof Date}function y(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&C(a[d])!==C(b[d]))&&g++;return g+f}function z(a){if(a){var b=a.toLowerCase().replace(/(.)s$/,"$1");a=lc[a]||mc[b]||b}return a}function A(a){var b,c,d={};for(c in a)e(a,c)&&(b=z(c),b&&(d[b]=a[c]));return d}function B(b){var c,d;if(0===b.indexOf("week"))c=7,d="day";else{if(0!==b.indexOf("month"))return;c=12,d="month"}vb[b]=function(e,f){var g,h,i=vb._locale[b],j=[];if("number"==typeof e&&(f=e,e=a),h=function(a){var b=vb().utc().set(d,a);return i.call(vb._locale,b,e||"")},null!=f)return h(f);for(g=0;c>g;g++)j.push(h(g));return j}}function C(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=b>=0?Math.floor(b):Math.ceil(b)),c}function D(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function E(a,b,c){return jb(vb([a,11,31+b-c]),b,c).week}function F(a){return G(a)?366:365}function G(a){return a%4===0&&a%100!==0||a%400===0}function H(a){var b;a._a&&-2===a._pf.overflow&&(b=a._a[Db]<0||a._a[Db]>11?Db:a._a[Eb]<1||a._a[Eb]>D(a._a[Cb],a._a[Db])?Eb:a._a[Fb]<0||a._a[Fb]>23?Fb:a._a[Gb]<0||a._a[Gb]>59?Gb:a._a[Hb]<0||a._a[Hb]>59?Hb:a._a[Ib]<0||a._a[Ib]>999?Ib:-1,a._pf._overflowDayOfYear&&(Cb>b||b>Eb)&&(b=Eb),a._pf.overflow=b)}function I(a){return null==a._isValid&&(a._isValid=!isNaN(a._d.getTime())&&a._pf.overflow<0&&!a._pf.empty&&!a._pf.invalidMonth&&!a._pf.nullInput&&!a._pf.invalidFormat&&!a._pf.userInvalidated,a._strict&&(a._isValid=a._isValid&&0===a._pf.charsLeftOver&&0===a._pf.unusedTokens.length)),a._isValid}function J(a){return a?a.toLowerCase().replace("_","-"):a}function K(a){for(var b,c,d,e,f=0;f<a.length;){for(e=J(a[f]).split("-"),b=e.length,c=J(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=L(e.slice(0,b).join("-")))return d;if(c&&c.length>=b&&y(e,c,!0)>=b-1)break;b--}f++}return null}function L(a){var b=null;if(!Jb[a]&&Lb)try{b=vb.locale(),d("./locale/"+a),vb.locale(b)}catch(c){}return Jb[a]}function M(a,b){return b._isUTC?vb(a).zone(b._offset||0):vb(a).local()}function N(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function O(a){var b,c,d=a.match(Pb);for(b=0,c=d.length;c>b;b++)d[b]=rc[d[b]]?rc[d[b]]:N(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function P(a,b){return a.isValid()?(b=Q(b,a.localeData()),nc[b]||(nc[b]=O(b)),nc[b](a)):a.localeData().invalidDate()}function Q(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Qb.lastIndex=0;d>=0&&Qb.test(a);)a=a.replace(Qb,c),Qb.lastIndex=0,d-=1;return a}function R(a,b){var c,d=b._strict;switch(a){case"Q":return _b;case"DDDD":return bc;case"YYYY":case"GGGG":case"gggg":return d?cc:Tb;case"Y":case"G":case"g":return ec;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return d?dc:Ub;case"S":if(d)return _b;case"SS":if(d)return ac;case"SSS":if(d)return bc;case"DDD":return Sb;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Wb;case"a":case"A":return b._locale._meridiemParse;case"X":return Zb;case"Z":case"ZZ":return Xb;case"T":return Yb;case"SSSS":return Vb;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return d?ac:Rb;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Rb;case"Do":return $b;default:return c=new RegExp($(Z(a.replace("\\","")),"i"))}}function S(a){a=a||"";var b=a.match(Xb)||[],c=b[b.length-1]||[],d=(c+"").match(jc)||["-",0,0],e=+(60*d[1])+C(d[2]);return"+"===d[0]?-e:e}function T(a,b,c){var d,e=c._a;switch(a){case"Q":null!=b&&(e[Db]=3*(C(b)-1));break;case"M":case"MM":null!=b&&(e[Db]=C(b)-1);break;case"MMM":case"MMMM":d=c._locale.monthsParse(b),null!=d?e[Db]=d:c._pf.invalidMonth=b;break;case"D":case"DD":null!=b&&(e[Eb]=C(b));break;case"Do":null!=b&&(e[Eb]=C(parseInt(b,10)));break;case"DDD":case"DDDD":null!=b&&(c._dayOfYear=C(b));break;case"YY":e[Cb]=vb.parseTwoDigitYear(b);break;case"YYYY":case"YYYYY":case"YYYYYY":e[Cb]=C(b);break;case"a":case"A":c._isPm=c._locale.isPM(b);break;case"H":case"HH":case"h":case"hh":e[Fb]=C(b);break;case"m":case"mm":e[Gb]=C(b);break;case"s":case"ss":e[Hb]=C(b);break;case"S":case"SS":case"SSS":case"SSSS":e[Ib]=C(1e3*("0."+b));break;case"X":c._d=new Date(1e3*parseFloat(b));break;case"Z":case"ZZ":c._useUTC=!0,c._tzm=S(b);break;case"dd":case"ddd":case"dddd":d=c._locale.weekdaysParse(b),null!=d?(c._w=c._w||{},c._w.d=d):c._pf.invalidWeekday=b;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":a=a.substr(0,1);case"gggg":case"GGGG":case"GGGGG":a=a.substr(0,2),b&&(c._w=c._w||{},c._w[a]=C(b));break;case"gg":case"GG":c._w=c._w||{},c._w[a]=vb.parseTwoDigitYear(b)}}function U(a){var c,d,e,f,g,h,i;c=a._w,null!=c.GG||null!=c.W||null!=c.E?(g=1,h=4,d=b(c.GG,a._a[Cb],jb(vb(),1,4).year),e=b(c.W,1),f=b(c.E,1)):(g=a._locale._week.dow,h=a._locale._week.doy,d=b(c.gg,a._a[Cb],jb(vb(),g,h).year),e=b(c.w,1),null!=c.d?(f=c.d,g>f&&++e):f=null!=c.e?c.e+g:g),i=kb(d,e,f,h,g),a._a[Cb]=i.year,a._dayOfYear=i.dayOfYear}function V(a){var c,d,e,f,g=[];if(!a._d){for(e=X(a),a._w&&null==a._a[Eb]&&null==a._a[Db]&&U(a),a._dayOfYear&&(f=b(a._a[Cb],e[Cb]),a._dayOfYear>F(f)&&(a._pf._overflowDayOfYear=!0),d=fb(f,0,a._dayOfYear),a._a[Db]=d.getUTCMonth(),a._a[Eb]=d.getUTCDate()),c=0;3>c&&null==a._a[c];++c)a._a[c]=g[c]=e[c];for(;7>c;c++)a._a[c]=g[c]=null==a._a[c]?2===c?1:0:a._a[c];a._d=(a._useUTC?fb:eb).apply(null,g),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()+a._tzm)}}function W(a){var b;a._d||(b=A(a._i),a._a=[b.year,b.month,b.day,b.hour,b.minute,b.second,b.millisecond],V(a))}function X(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function Y(a){if(a._f===vb.ISO_8601)return void ab(a);a._a=[],a._pf.empty=!0;var b,c,d,e,f,g=""+a._i,h=g.length,i=0;for(d=Q(a._f,a._locale).match(Pb)||[],b=0;b<d.length;b++)e=d[b],c=(g.match(R(e,a))||[])[0],c&&(f=g.substr(0,g.indexOf(c)),f.length>0&&a._pf.unusedInput.push(f),g=g.slice(g.indexOf(c)+c.length),i+=c.length),rc[e]?(c?a._pf.empty=!1:a._pf.unusedTokens.push(e),T(e,c,a)):a._strict&&!c&&a._pf.unusedTokens.push(e);a._pf.charsLeftOver=h-i,g.length>0&&a._pf.unusedInput.push(g),a._isPm&&a._a[Fb]<12&&(a._a[Fb]+=12),a._isPm===!1&&12===a._a[Fb]&&(a._a[Fb]=0),V(a),H(a)}function Z(a){return a.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e})}function $(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function _(a){var b,c,d,e,g;if(0===a._f.length)return a._pf.invalidFormat=!0,void(a._d=new Date(0/0));for(e=0;e<a._f.length;e++)g=0,b=p({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._pf=f(),b._f=a._f[e],Y(b),I(b)&&(g+=b._pf.charsLeftOver,g+=10*b._pf.unusedTokens.length,b._pf.score=g,(null==d||d>g)&&(d=g,c=b));o(a,c||b)}function ab(a){var b,c,d=a._i,e=fc.exec(d);if(e){for(a._pf.iso=!0,b=0,c=hc.length;c>b;b++)if(hc[b][1].exec(d)){a._f=hc[b][0]+(e[6]||" ");break}for(b=0,c=ic.length;c>b;b++)if(ic[b][1].exec(d)){a._f+=ic[b][0];break}d.match(Xb)&&(a._f+="Z"),Y(a)}else a._isValid=!1}function bb(a){ab(a),a._isValid===!1&&(delete a._isValid,vb.createFromInputFallback(a))}function cb(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function db(b){var c,d=b._i;d===a?b._d=new Date:x(d)?b._d=new Date(+d):null!==(c=Mb.exec(d))?b._d=new Date(+c[1]):"string"==typeof d?bb(b):w(d)?(b._a=cb(d.slice(0),function(a){return parseInt(a,10)}),V(b)):"object"==typeof d?W(b):"number"==typeof d?b._d=new Date(d):vb.createFromInputFallback(b)}function eb(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 1970>a&&h.setFullYear(a),h}function fb(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function gb(a,b){if("string"==typeof a)if(isNaN(a)){if(a=b.weekdaysParse(a),"number"!=typeof a)return null}else a=parseInt(a,10);return a}function hb(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function ib(a,b,c){var d=vb.duration(a).abs(),e=Ab(d.as("s")),f=Ab(d.as("m")),g=Ab(d.as("h")),h=Ab(d.as("d")),i=Ab(d.as("M")),j=Ab(d.as("y")),k=e<oc.s&&["s",e]||1===f&&["m"]||f<oc.m&&["mm",f]||1===g&&["h"]||g<oc.h&&["hh",g]||1===h&&["d"]||h<oc.d&&["dd",h]||1===i&&["M"]||i<oc.M&&["MM",i]||1===j&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,hb.apply({},k)}function jb(a,b,c){var d,e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),d=vb(a).add(f,"d"),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function kb(a,b,c,d,e){var f,g,h=fb(a,0,1).getUTCDay();return h=0===h?7:h,c=null!=c?c:e,f=e-h+(h>d?7:0)-(e>h?7:0),g=7*(b-1)+(c-e)+f+1,{year:g>0?a:a-1,dayOfYear:g>0?g:F(a-1)+g}}function lb(b){var c=b._i,d=b._f;return b._locale=b._locale||vb.localeData(b._l),null===c||d===a&&""===c?vb.invalid({nullInput:!0}):("string"==typeof c&&(b._i=c=b._locale.preparse(c)),vb.isMoment(c)?new m(c,!0):(d?w(d)?_(b):Y(b):db(b),new m(b)))}function mb(a,b){var c,d;if(1===b.length&&w(b[0])&&(b=b[0]),!b.length)return vb();for(c=b[0],d=1;d<b.length;++d)b[d][a](c)&&(c=b[d]);return c}function nb(a,b){var c;return"string"==typeof b&&(b=a.localeData().monthsParse(b),"number"!=typeof b)?a:(c=Math.min(a.date(),D(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a)}function ob(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()}function pb(a,b,c){return"Month"===b?nb(a,c):a._d["set"+(a._isUTC?"UTC":"")+b](c)}function qb(a,b){return function(c){return null!=c?(pb(this,a,c),vb.updateOffset(this,b),this):ob(this,a)}}function rb(a){return 400*a/146097}function sb(a){return 146097*a/400}function tb(a){vb.duration.fn[a]=function(){return this._data[a]}}function ub(a){"undefined"==typeof ender&&(wb=zb.moment,zb.moment=a?h("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",vb):vb)}for(var vb,wb,xb,yb="2.8.3",zb="undefined"!=typeof global?global:this,Ab=Math.round,Bb=Object.prototype.hasOwnProperty,Cb=0,Db=1,Eb=2,Fb=3,Gb=4,Hb=5,Ib=6,Jb={},Kb=[],Lb="undefined"!=typeof c&&c.exports,Mb=/^\/?Date\((\-?\d+)/i,Nb=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Ob=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Pb=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,Qb=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,Rb=/\d\d?/,Sb=/\d{1,3}/,Tb=/\d{1,4}/,Ub=/[+\-]?\d{1,6}/,Vb=/\d+/,Wb=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Xb=/Z|[\+\-]\d\d:?\d\d/gi,Yb=/T/i,Zb=/[\+\-]?\d+(\.\d{1,3})?/,$b=/\d{1,2}/,_b=/\d/,ac=/\d\d/,bc=/\d{3}/,cc=/\d{4}/,dc=/[+-]?\d{6}/,ec=/[+-]?\d+/,fc=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,gc="YYYY-MM-DDTHH:mm:ssZ",hc=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],ic=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],jc=/([\+\-]|\d\d)/gi,kc=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),lc={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},mc={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},nc={},oc={s:45,m:45,h:22,d:26,M:11},pc="DDD w W M D d".split(" "),qc="M D H h m s w W".split(" "),rc={M:function(){return this.month()+1},MMM:function(a){return this.localeData().monthsShort(this,a)},MMMM:function(a){return this.localeData().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.localeData().weekdaysMin(this,a)},ddd:function(a){return this.localeData().weekdaysShort(this,a)},dddd:function(a){return this.localeData().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return r(this.year()%100,2)},YYYY:function(){return r(this.year(),4)},YYYYY:function(){return r(this.year(),5)},YYYYYY:function(){var a=this.year(),b=a>=0?"+":"-";return b+r(Math.abs(a),6)},gg:function(){return r(this.weekYear()%100,2)},gggg:function(){return r(this.weekYear(),4)},ggggg:function(){return r(this.weekYear(),5)},GG:function(){return r(this.isoWeekYear()%100,2)},GGGG:function(){return r(this.isoWeekYear(),4)},GGGGG:function(){return r(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return C(this.milliseconds()/100)},SS:function(){return r(C(this.milliseconds()/10),2)},SSS:function(){return r(this.milliseconds(),3)},SSSS:function(){return r(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+r(C(a/60),2)+":"+r(C(a)%60,2)},ZZ:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+r(C(a/60),2)+r(C(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},sc={},tc=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];pc.length;)xb=pc.pop(),rc[xb+"o"]=k(rc[xb],xb);for(;qc.length;)xb=qc.pop(),rc[xb+xb]=j(rc[xb],2);rc.DDDD=j(rc.DDD,3),o(l.prototype,{set:function(a){var b,c;for(c in a)b=a[c],"function"==typeof b?this[c]=b:this["_"+c]=b},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(a){return this._months[a.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a){var b,c,d;for(this._monthsParse||(this._monthsParse=[]),b=0;12>b;b++)if(this._monthsParse[b]||(c=vb.utc([2e3,b]),d="^"+this.months(c,"")+"|^"+this.monthsShort(c,""),this._monthsParse[b]=new RegExp(d.replace(".",""),"i")),this._monthsParse[b].test(a))return b},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,c,d;for(this._weekdaysParse||(this._weekdaysParse=[]),b=0;7>b;b++)if(this._weekdaysParse[b]||(c=vb([2e3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(d.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];return!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b),b},isPM:function(a){return"p"===(a+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,b){var c=this._calendar[a];return"function"==typeof c?c.apply(b):c},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[a>0?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",preparse:function(a){return a},postformat:function(a){return a},week:function(a){return jb(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),vb=function(b,c,d,e){var g;return"boolean"==typeof d&&(e=d,d=a),g={},g._isAMomentObject=!0,g._i=b,g._f=c,g._l=d,g._strict=e,g._isUTC=!1,g._pf=f(),lb(g)},vb.suppressDeprecationWarnings=!1,vb.createFromInputFallback=h("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i)}),vb.min=function(){var a=[].slice.call(arguments,0);return mb("isBefore",a)},vb.max=function(){var a=[].slice.call(arguments,0);return mb("isAfter",a)},vb.utc=function(b,c,d,e){var g;return"boolean"==typeof d&&(e=d,d=a),g={},g._isAMomentObject=!0,g._useUTC=!0,g._isUTC=!0,g._l=d,g._i=b,g._f=c,g._strict=e,g._pf=f(),lb(g).utc()},vb.unix=function(a){return vb(1e3*a)},vb.duration=function(a,b){var c,d,f,g,h=a,i=null;return vb.isDuration(a)?h={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(h={},b?h[b]=a:h.milliseconds=a):(i=Nb.exec(a))?(c="-"===i[1]?-1:1,h={y:0,d:C(i[Eb])*c,h:C(i[Fb])*c,m:C(i[Gb])*c,s:C(i[Hb])*c,ms:C(i[Ib])*c}):(i=Ob.exec(a))?(c="-"===i[1]?-1:1,f=function(a){var b=a&&parseFloat(a.replace(",","."));return(isNaN(b)?0:b)*c},h={y:f(i[2]),M:f(i[3]),d:f(i[4]),h:f(i[5]),m:f(i[6]),s:f(i[7]),w:f(i[8])}):"object"==typeof h&&("from"in h||"to"in h)&&(g=t(vb(h.from),vb(h.to)),h={},h.ms=g.milliseconds,h.M=g.months),d=new n(h),vb.isDuration(a)&&e(a,"_locale")&&(d._locale=a._locale),d},vb.version=yb,vb.defaultFormat=gc,vb.ISO_8601=function(){},vb.momentProperties=Kb,vb.updateOffset=function(){},vb.relativeTimeThreshold=function(b,c){return oc[b]===a?!1:c===a?oc[b]:(oc[b]=c,!0)},vb.lang=h("moment.lang is deprecated. Use moment.locale instead.",function(a,b){return vb.locale(a,b)}),vb.locale=function(a,b){var c;return a&&(c="undefined"!=typeof b?vb.defineLocale(a,b):vb.localeData(a),c&&(vb.duration._locale=vb._locale=c)),vb._locale._abbr},vb.defineLocale=function(a,b){return null!==b?(b.abbr=a,Jb[a]||(Jb[a]=new l),Jb[a].set(b),vb.locale(a),Jb[a]):(delete Jb[a],null)},vb.langData=h("moment.langData is deprecated. Use moment.localeData instead.",function(a){return vb.localeData(a)}),vb.localeData=function(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return vb._locale;if(!w(a)){if(b=L(a))return b;a=[a]}return K(a)},vb.isMoment=function(a){return a instanceof m||null!=a&&e(a,"_isAMomentObject")},vb.isDuration=function(a){return a instanceof n};for(xb=tc.length-1;xb>=0;--xb)B(tc[xb]);vb.normalizeUnits=function(a){return z(a)},vb.invalid=function(a){var b=vb.utc(0/0);return null!=a?o(b._pf,a):b._pf.userInvalidated=!0,b},vb.parseZone=function(){return vb.apply(null,arguments).parseZone()},vb.parseTwoDigitYear=function(a){return C(a)+(C(a)>68?1900:2e3)},o(vb.fn=m.prototype,{clone:function(){return vb(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var a=vb(this).utc();return 0<a.year()&&a.year()<=9999?P(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):P(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var a=this;return[a.year(),a.month(),a.date(),a.hours(),a.minutes(),a.seconds(),a.milliseconds()]},isValid:function(){return I(this)},isDSTShifted:function(){return this._a?this.isValid()&&y(this._a,(this._isUTC?vb.utc(this._a):vb(this._a)).toArray())>0:!1},parsingFlags:function(){return o({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(a){return this.zone(0,a)},local:function(a){return this._isUTC&&(this.zone(0,a),this._isUTC=!1,a&&this.add(this._dateTzOffset(),"m")),this},format:function(a){var b=P(this,a||vb.defaultFormat);return this.localeData().postformat(b)},add:u(1,"add"),subtract:u(-1,"subtract"),diff:function(a,b,c){var d,e,f,g=M(a,this),h=6e4*(this.zone()-g.zone());return b=z(b),"year"===b||"month"===b?(d=432e5*(this.daysInMonth()+g.daysInMonth()),e=12*(this.year()-g.year())+(this.month()-g.month()),f=this-vb(this).startOf("month")-(g-vb(g).startOf("month")),f-=6e4*(this.zone()-vb(this).startOf("month").zone()-(g.zone()-vb(g).startOf("month").zone())),e+=f/d,"year"===b&&(e/=12)):(d=this-g,e="second"===b?d/1e3:"minute"===b?d/6e4:"hour"===b?d/36e5:"day"===b?(d-h)/864e5:"week"===b?(d-h)/6048e5:d),c?e:q(e)},from:function(a,b){return vb.duration({to:this,from:a}).locale(this.locale()).humanize(!b)},fromNow:function(a){return this.from(vb(),a)},calendar:function(a){var b=a||vb(),c=M(b,this).startOf("day"),d=this.diff(c,"days",!0),e=-6>d?"sameElse":-1>d?"lastWeek":0>d?"lastDay":1>d?"sameDay":2>d?"nextDay":7>d?"nextWeek":"sameElse";return this.format(this.localeData().calendar(e,this))},isLeapYear:function(){return G(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=gb(a,this.localeData()),this.add(a-b,"d")):b},month:qb("Month",!0),startOf:function(a){switch(a=z(a)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a?this.weekday(0):"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(a){return a=z(a),this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms")},isAfter:function(a,b){return b=z("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=vb.isMoment(a)?a:vb(a),+this>+a):+this.clone().startOf(b)>+vb(a).startOf(b)},isBefore:function(a,b){return b=z("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=vb.isMoment(a)?a:vb(a),+a>+this):+this.clone().startOf(b)<+vb(a).startOf(b)},isSame:function(a,b){return b=z(b||"millisecond"),"millisecond"===b?(a=vb.isMoment(a)?a:vb(a),+this===+a):+this.clone().startOf(b)===+M(a,this).startOf(b)},min:h("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(a){return a=vb.apply(null,arguments),this>a?this:a}),max:h("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(a){return a=vb.apply(null,arguments),a>this?this:a}),zone:function(a,b){var c,d=this._offset||0;return null==a?this._isUTC?d:this._dateTzOffset():("string"==typeof a&&(a=S(a)),Math.abs(a)<16&&(a=60*a),!this._isUTC&&b&&(c=this._dateTzOffset()),this._offset=a,this._isUTC=!0,null!=c&&this.subtract(c,"m"),d!==a&&(!b||this._changeInProgress?v(this,vb.duration(d-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,vb.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(a){return a=a?vb(a).zone():0,(this.zone()-a)%60===0},daysInMonth:function(){return D(this.year(),this.month())},dayOfYear:function(a){var b=Ab((vb(this).startOf("day")-vb(this).startOf("year"))/864e5)+1;return null==a?b:this.add(a-b,"d")},quarter:function(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)},weekYear:function(a){var b=jb(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==a?b:this.add(a-b,"y")},isoWeekYear:function(a){var b=jb(this,1,4).year;return null==a?b:this.add(a-b,"y")},week:function(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")},isoWeek:function(a){var b=jb(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")},weekday:function(a){var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},isoWeeksInYear:function(){return E(this.year(),1,4)},weeksInYear:function(){var a=this.localeData()._week;return E(this.year(),a.dow,a.doy)},get:function(a){return a=z(a),this[a]()},set:function(a,b){return a=z(a),"function"==typeof this[a]&&this[a](b),this},locale:function(b){var c;return b===a?this._locale._abbr:(c=vb.localeData(b),null!=c&&(this._locale=c),this)},lang:h("moment().lang() is deprecated. Use moment().localeData() instead.",function(b){return b===a?this.localeData():this.locale(b)}),localeData:function(){return this._locale},_dateTzOffset:function(){return 15*Math.round(this._d.getTimezoneOffset()/15)}}),vb.fn.millisecond=vb.fn.milliseconds=qb("Milliseconds",!1),vb.fn.second=vb.fn.seconds=qb("Seconds",!1),vb.fn.minute=vb.fn.minutes=qb("Minutes",!1),vb.fn.hour=vb.fn.hours=qb("Hours",!0),vb.fn.date=qb("Date",!0),vb.fn.dates=h("dates accessor is deprecated. Use date instead.",qb("Date",!0)),vb.fn.year=qb("FullYear",!0),vb.fn.years=h("years accessor is deprecated. Use year instead.",qb("FullYear",!0)),vb.fn.days=vb.fn.day,vb.fn.months=vb.fn.month,vb.fn.weeks=vb.fn.week,vb.fn.isoWeeks=vb.fn.isoWeek,vb.fn.quarters=vb.fn.quarter,vb.fn.toJSON=vb.fn.toISOString,o(vb.duration.fn=n.prototype,{_bubble:function(){var a,b,c,d=this._milliseconds,e=this._days,f=this._months,g=this._data,h=0;g.milliseconds=d%1e3,a=q(d/1e3),g.seconds=a%60,b=q(a/60),g.minutes=b%60,c=q(b/60),g.hours=c%24,e+=q(c/24),h=q(rb(e)),e-=q(sb(h)),f+=q(e/30),e%=30,h+=q(f/12),f%=12,g.days=e,g.months=f,g.years=h},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return q(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*C(this._months/12)},humanize:function(a){var b=ib(this,!a,this.localeData());return a&&(b=this.localeData().pastFuture(+this,b)),this.localeData().postformat(b)},add:function(a,b){var c=vb.duration(a,b);return this._milliseconds+=c._milliseconds,this._days+=c._days,this._months+=c._months,this._bubble(),this},subtract:function(a,b){var c=vb.duration(a,b);return this._milliseconds-=c._milliseconds,this._days-=c._days,this._months-=c._months,this._bubble(),this},get:function(a){return a=z(a),this[a.toLowerCase()+"s"]()},as:function(a){var b,c;if(a=z(a),"month"===a||"year"===a)return b=this._days+this._milliseconds/864e5,c=this._months+12*rb(b),"month"===a?c:c/12;switch(b=this._days+sb(this._months/12),a){case"week":return b/7+this._milliseconds/6048e5;case"day":return b+this._milliseconds/864e5;case"hour":return 24*b+this._milliseconds/36e5;case"minute":return 24*b*60+this._milliseconds/6e4;
case"second":return 24*b*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*b*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+a)}},lang:vb.fn.lang,locale:vb.fn.locale,toIsoString:h("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var a=Math.abs(this.years()),b=Math.abs(this.months()),c=Math.abs(this.days()),d=Math.abs(this.hours()),e=Math.abs(this.minutes()),f=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(c?c+"D":"")+(d||e||f?"T":"")+(d?d+"H":"")+(e?e+"M":"")+(f?f+"S":""):"P0D"},localeData:function(){return this._locale}}),vb.duration.fn.toString=vb.duration.fn.toISOString;for(xb in kc)e(kc,xb)&&tb(xb.toLowerCase());vb.duration.fn.asMilliseconds=function(){return this.as("ms")},vb.duration.fn.asSeconds=function(){return this.as("s")},vb.duration.fn.asMinutes=function(){return this.as("m")},vb.duration.fn.asHours=function(){return this.as("h")},vb.duration.fn.asDays=function(){return this.as("d")},vb.duration.fn.asWeeks=function(){return this.as("weeks")},vb.duration.fn.asMonths=function(){return this.as("M")},vb.duration.fn.asYears=function(){return this.as("y")},vb.locale("en",{ordinal:function(a){var b=a%10,c=1===C(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),Lb?c.exports=vb:"function"==typeof define&&define.amd?(define("moment",function(a,b,c){return c.config&&c.config()&&c.config().noGlobal===!0&&(zb.moment=wb),vb}),ub(!0)):ub()}).call(this)});return c}(),require._modules["/vendor/purl/index.js"]=function(){var a="/vendor/purl/index.js",b="/vendor/purl",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){d("./purl"),c.exports=window.purl,window.purl=void 0,delete window.purl});return c}(),require._modules["/vendor/purl/purl.js"]=function(){var a="/vendor/purl/purl.js",b="/vendor/purl",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},d()},parent:null,children:[]},d=(c.require=window.require._bind(c),c.exports,function(){!function(a){"function"==typeof define&&define.amd?define(a):window.purl=a()}(function(){function a(a,b){for(var c=decodeURI(a),d=p[b?"strict":"loose"].exec(c),e={attr:{},param:{},seg:{}},g=14;g--;)e.attr[n[g]]=d[g]||"";return e.param.query=f(e.attr.query),e.param.fragment=f(e.attr.fragment),e.seg.path=e.attr.path.replace(/^\/+|\/+$/g,"").split("/"),e.seg.fragment=e.attr.fragment.replace(/^\/+|\/+$/g,"").split("/"),e.attr.base=e.attr.host?(e.attr.protocol?e.attr.protocol+"://"+e.attr.host:e.attr.host)+(e.attr.port?":"+e.attr.port:""):"",e}function b(a){var b=a.tagName;return"undefined"!=typeof b?m[b.toLowerCase()]:b}function c(a,b){if(0===a[b].length)return a[b]={};var c={};for(var d in a[b])c[d]=a[b][d];return a[b]=c,c}function d(a,b,e,f){var g=a.shift();if(g){var h=b[e]=b[e]||[];"]"==g?j(h)?""!==f&&h.push(f):"object"==typeof h?h[k(h).length]=f:h=b[e]=[b[e],f]:~g.indexOf("]")?(g=g.substr(0,g.length-1),!q.test(g)&&j(h)&&(h=c(b,e)),d(a,h,g,f)):(!q.test(g)&&j(h)&&(h=c(b,e)),d(a,h,g,f))}else j(b[e])?b[e].push(f):b[e]="object"==typeof b[e]?f:"undefined"==typeof b[e]?f:[b[e],f]}function e(a,b,c){if(~b.indexOf("]")){var e=b.split("[");d(e,a,"base",c)}else{if(!q.test(b)&&j(a.base)){var f={};for(var h in a.base)f[h]=a.base[h];a.base=f}""!==b&&g(a.base,b,c)}return a}function f(a){return i(String(a).split(/&|;/),function(a,b){try{b=decodeURIComponent(b.replace(/\+/g," "))}catch(c){}var d=b.indexOf("="),f=h(b),g=b.substr(0,f||d),i=b.substr(f||d,b.length);return i=i.substr(i.indexOf("=")+1,i.length),""===g&&(g=b,i=""),e(a,g,i)},{base:{}}).base}function g(a,b,c){var d=a[b];"undefined"==typeof d?a[b]=c:j(d)?d.push(c):a[b]=[d,c]}function h(a){for(var b,c,d=a.length,e=0;d>e;++e)if(c=a[e],"]"==c&&(b=!1),"["==c&&(b=!0),"="==c&&!b)return e}function i(a,b){for(var c=0,d=a.length>>0,e=arguments[2];d>c;)c in a&&(e=b.call(void 0,e,a[c],c,a)),++c;return e}function j(a){return"[object Array]"===Object.prototype.toString.call(a)}function k(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b}function l(b,c){return 1===arguments.length&&b===!0&&(c=!0,b=void 0),c=c||!1,b=b||window.location.toString(),{data:a(b,c),attr:function(a){return a=o[a]||a,"undefined"!=typeof a?this.data.attr[a]:this.data.attr},param:function(a){return"undefined"!=typeof a?this.data.param.query[a]:this.data.param.query},fparam:function(a){return"undefined"!=typeof a?this.data.param.fragment[a]:this.data.param.fragment},segment:function(a){return"undefined"==typeof a?this.data.seg.path:(a=0>a?this.data.seg.path.length+a:a-1,this.data.seg.path[a])},fsegment:function(a){return"undefined"==typeof a?this.data.seg.fragment:(a=0>a?this.data.seg.fragment.length+a:a-1,this.data.seg.fragment[a])}}}var m={a:"href",img:"src",form:"action",base:"href",script:"src",iframe:"src",link:"href",embed:"src",object:"data"},n=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","fragment"],o={anchor:"fragment"},p={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},q=/^[0-9]+$/;return l.jQuery=function(a){null!=a&&(a.fn.url=function(c){var d="";return this.length&&(d=a(this).attr(b(this[0]))||""),l(d,c)},a.url=l)},l.jQuery(window.jQuery),l})});return c}(),require._modules["/vendor/quill/index.js"]=function(){var a="/vendor/quill/index.js",b="/vendor/quill",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},f()},parent:null,children:[]},d=c.require=window.require._bind(c),e=c.exports,f=function(){!function(a){if("object"==typeof e&&"undefined"!=typeof c)c.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),b.Quill=a()}}(function(){var a;return function b(a,c,e){function f(h,i){if(!c[h]){if(!a[h]){var j="function"==typeof d&&d;if(!i&&j)return j(h,!0);if(g)return g(h,!0);throw new Error("Cannot find module '"+h+"'")}var k=c[h]={exports:{}};a[h][0].call(k.exports,function(b){var c=a[h][1][b];return f(c?c:b)},k,k.exports,b,a,c,e)}return c[h].exports}for(var g="function"==typeof d&&d,h=0;h<e.length;h++)f(e[h]);return f}({"M4+//f":[function(b,c,d){(function(b){(function(){function e(a,b,c){for(var d=(c||0)-1,e=a?a.length:0;++d<e;)if(a[d]===b)return d;return-1}function f(a,b){var c=typeof b;if(a=a.cache,"boolean"==c||null==b)return a[b]?0:-1;"number"!=c&&"string"!=c&&(c="object");var d="number"==c?b:fb+b;return a=(a=a[c])&&a[d],"object"==c?a&&e(a,b)>-1?0:-1:a?0:-1}function g(a){var b=this.cache,c=typeof a;if("boolean"==c||null==a)b[a]=!0;else{"number"!=c&&"string"!=c&&(c="object");var d="number"==c?a:fb+a,e=b[c]||(b[c]={});"object"==c?(e[d]||(e[d]=[])).push(a):e[d]=!0}}function h(a){var b=-1,c=a.length,d=a[0],e=a[c/2|0],f=a[c-1];if(d&&"object"==typeof d&&e&&"object"==typeof e&&f&&"object"==typeof f)return!1;var h=j();h["false"]=h["null"]=h["true"]=h.undefined=!1;var i=j();for(i.array=a,i.cache=h,i.push=g;++b<c;)i.push(a[b]);return i}function i(){return cb.pop()||[]}function j(){return db.pop()||{array:null,cache:null,"false":!1,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1}}function k(a){a.length=0,cb.length<hb&&cb.push(a)}function l(a){var b=a.cache;b&&l(b),a.array=a.cache=a.object=a.number=a.string=null,db.length<hb&&db.push(a)}function m(a,b,c){b||(b=0),"undefined"==typeof c&&(c=a?a.length:0);for(var d=-1,e=c-b||0,f=Array(0>e?0:e);++d<e;)f[d]=a[b+d];return f}function n(){}function o(a){function b(){if(d){var a=m(d);Ib.apply(a,arguments)}if(this instanceof b){var f=q(c.prototype),g=c.apply(f,a||arguments);return F(g)?g:f}return c.apply(e,a||arguments)}var c=a[0],d=a[2],e=a[4];return Rb(b,a),b}function p(a,b,c,d,e){if(c){var f=c(a);if("undefined"!=typeof f)return f}var g=F(a);if(!g)return a;var h=Eb.call(a);if(!ub[h])return a;var j=Pb[h];switch(h){case nb:case ob:return new j(+a);case qb:case tb:return new j(a);case sb:return f=j(a.source,ib.exec(a)),f.lastIndex=a.lastIndex,f}var l=Sb(a);if(b){var n=!d;d||(d=i()),e||(e=i());for(var o=d.length;o--;)if(d[o]==a)return e[o];f=l?j(a.length):{}}else f=l?m(a):Vb({},a);return l&&(Hb.call(a,"index")&&(f.index=a.index),Hb.call(a,"input")&&(f.input=a.input)),b?(d.push(a),e.push(f),(l?L:Yb)(a,function(a,g){f[g]=p(a,b,c,d,e)}),n&&(k(d),k(e)),f):f}function q(a){return F(a)?Lb(a):{}}function r(a,b,c){if("function"!=typeof a)return Z;if("undefined"==typeof b||!("prototype"in a))return a;var d=a.__bindData__;if("undefined"==typeof d&&(Qb.funcNames&&(d=!a.name),d=d||!Qb.funcDecomp,!d)){var e=Gb.call(a);Qb.funcNames||(d=!jb.test(e)),d||(d=kb.test(e),Rb(a,d))}if(d===!1||d!==!0&&1&d[1])return a;switch(c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return V(a,b)}function s(a){function b(){var a=i?g:this;if(e){var o=m(e);Ib.apply(o,arguments)}if((f||k)&&(o||(o=m(arguments)),f&&Ib.apply(o,f),k&&o.length<h))return d|=16,s([c,l?d:-4&d,o,null,g,h]);if(o||(o=arguments),j&&(c=a[n]),this instanceof b){a=q(c.prototype);var p=c.apply(a,o);return F(p)?p:a}return c.apply(a,o)}var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],i=1&d,j=2&d,k=4&d,l=8&d,n=c;return Rb(b,a),b}function t(a,b){var c=-1,d=x(),g=a?a.length:0,i=g>=gb&&d===e,j=[];if(i){var k=h(b);k?(d=f,b=k):i=!1}for(;++c<g;){var m=a[c];d(b,m)<0&&j.push(m)}return i&&l(b),j}function u(a,b,c,d){for(var e=(d||0)-1,f=a?a.length:0,g=[];++e<f;){var h=a[e];if(h&&"object"==typeof h&&"number"==typeof h.length&&(Sb(h)||z(h))){b||(h=u(h,b,c));var i=-1,j=h.length,k=g.length;for(g.length+=j;++i<j;)g[k++]=h[i]}else c||g.push(h)}return g}function v(a,b,c,d,e,f){if(c){var g=c(a,b);if("undefined"!=typeof g)return!!g}if(a===b)return 0!==a||1/a==1/b;var h=typeof a,j=typeof b;if(!(a!==a||a&&wb[h]||b&&wb[j]))return!1;if(null==a||null==b)return a===b;var l=Eb.call(a),m=Eb.call(b);if(l==lb&&(l=rb),m==lb&&(m=rb),l!=m)return!1;switch(l){case nb:case ob:return+a==+b;case qb:return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case sb:case tb:return a==String(b)}var n=l==mb;if(!n){var o=Hb.call(a,"__wrapped__"),p=Hb.call(b,"__wrapped__");if(o||p)return v(o?a.__wrapped__:a,p?b.__wrapped__:b,c,d,e,f);if(l!=rb)return!1;var q=a.constructor,r=b.constructor;if(q!=r&&!(E(q)&&q instanceof q&&E(r)&&r instanceof r)&&"constructor"in a&&"constructor"in b)return!1}var s=!e;e||(e=i()),f||(f=i());for(var t=e.length;t--;)if(e[t]==a)return f[t]==b;var u=0;if(g=!0,e.push(a),f.push(b),n){if(t=a.length,u=b.length,g=u==t,g||d)for(;u--;){var w=t,x=b[u];if(d)for(;w--&&!(g=v(a[w],x,c,d,e,f)););else if(!(g=v(a[u],x,c,d,e,f)))break}}else Xb(b,function(b,h,i){return Hb.call(i,h)?(u++,g=Hb.call(a,h)&&v(a[h],b,c,d,e,f)):void 0}),g&&!d&&Xb(a,function(a,b,c){return Hb.call(c,b)?g=--u>-1:void 0});return e.pop(),f.pop(),s&&(k(e),k(f)),g}function w(a,b,c,d,e,f){var g=1&b,h=2&b,i=4&b,j=16&b,k=32&b;if(!h&&!E(a))throw new TypeError;j&&!c.length&&(b&=-17,j=c=!1),k&&!d.length&&(b&=-33,k=d=!1);var l=a&&a.__bindData__;if(l&&l!==!0)return l=m(l),l[2]&&(l[2]=m(l[2])),l[3]&&(l[3]=m(l[3])),!g||1&l[1]||(l[4]=e),!g&&1&l[1]&&(b|=8),!i||4&l[1]||(l[5]=f),j&&Ib.apply(l[2]||(l[2]=[]),c),k&&Jb.apply(l[3]||(l[3]=[]),d),l[1]|=b,w.apply(null,l);var n=1==b||17===b?o:s;return n([a,b,c,d,e,f])}function x(){var a=(a=n.indexOf)===R?e:a;return a}function y(a){return"function"==typeof a&&Fb.test(a)}function z(a){return a&&"object"==typeof a&&"number"==typeof a.length&&Eb.call(a)==lb||!1}function A(a,b,c,d){return"boolean"!=typeof b&&null!=b&&(d=c,c=b,b=!1),p(a,b,"function"==typeof c&&r(c,d,1))}function B(a,b){return a?Hb.call(a,b):!1}function C(a){return a&&1===a.nodeType||!1}function D(a,b,c,d){return v(a,b,"function"==typeof c&&r(c,d,2))}function E(a){return"function"==typeof a}function F(a){return!(!a||!wb[typeof a])}function G(a){return"number"==typeof a||a&&"object"==typeof a&&Eb.call(a)==qb||!1}function H(a){return"string"==typeof a||a&&"object"==typeof a&&Eb.call(a)==tb||!1}function I(a,b,c){var d={};if("function"!=typeof b){var e=[];Xb(a,function(a,b){e.push(b)}),e=t(e,u(arguments,!0,!1,1));for(var f=-1,g=e.length;++f<g;){var h=e[f];d[h]=a[h]}}else b=n.createCallback(b,c,3),Xb(a,function(a,c,e){b(a,c,e)||(d[c]=a)});return d}function J(a){for(var b=-1,c=Ub(a),d=c.length,e=Array(d);++b<d;)e[b]=a[c[b]];return e}function K(a,b,c){var d=!0;b=n.createCallback(b,c,3);var e=-1,f=a?a.length:0;if("number"==typeof f)for(;++e<f&&(d=!!b(a[e],e,a)););else Yb(a,function(a,c,e){return d=!!b(a,c,e)});return d}function L(a,b,c){var d=-1,e=a?a.length:0;if(b=b&&"undefined"==typeof c?b:r(b,c,3),"number"==typeof e)for(;++d<e&&b(a[d],d,a)!==!1;);else Yb(a,b);return a}function M(a,b){var c=m(arguments,2),d=-1,e="function"==typeof b,f=a?a.length:0,g=Array("number"==typeof f?f:0);return L(a,function(a){g[++d]=(e?b:a[b]).apply(a,c)}),g}function N(a,b,c){var d=-1,e=a?a.length:0;if(b=n.createCallback(b,c,3),"number"==typeof e)for(var f=Array(e);++d<e;)f[d]=b(a[d],d,a);else f=[],Yb(a,function(a,c,e){f[++d]=b(a,c,e)});return f}function O(a,b,c,d){if(!a)return c;var e=arguments.length<3;b=n.createCallback(b,d,4);var f=-1,g=a.length;if("number"==typeof g)for(e&&(c=a[++f]);++f<g;)c=b(c,a[f],f,a);else Yb(a,function(a,d,f){c=e?(e=!1,a):b(c,a,d,f)});return c}function P(a){return t(a,u(arguments,!0,!0,1))}function Q(a,b,c,d){return"boolean"!=typeof b&&null!=b&&(d=c,c="function"!=typeof b&&d&&d[b]===a?null:b,b=!1),null!=c&&(a=N(a,c,d)),u(a,b)}function R(a,b,c){if("number"==typeof c){var d=a?a.length:0;c=0>c?Ob(0,d+c):c||0}else if(c){var f=U(a,b);return a[f]===b?f:-1}return e(a,b,c)}function S(){for(var a=[],b=-1,c=arguments.length,d=i(),g=x(),j=g===e,m=i();++b<c;){var n=arguments[b];(Sb(n)||z(n))&&(a.push(n),d.push(j&&n.length>=gb&&h(b?a[b]:m)))}var o=a[0],p=-1,q=o?o.length:0,r=[];a:for(;++p<q;){var s=d[0];if(n=o[p],(s?f(s,n):g(m,n))<0){for(b=c,(s||m).push(n);--b;)if(s=d[b],(s?f(s,n):g(a[b],n))<0)continue a;r.push(n)}}for(;c--;)s=d[c],s&&l(s);return k(d),k(m),r}function T(a,b,c){var d=0,e=a?a.length:0;if("number"!=typeof b&&null!=b){var f=e;for(b=n.createCallback(b,c,3);f--&&b(a[f],f,a);)d++}else if(d=b,null==d||c)return a?a[e-1]:bb;return m(a,Ob(0,e-d))}function U(a,b,c,d){var e=0,f=a?a.length:e;for(c=c?n.createCallback(c,d,1):Z,b=c(b);f>e;){var g=e+f>>>1;c(a[g])<b?e=g+1:f=g}return e}function V(a,b){return arguments.length>2?w(a,17,m(arguments,2),null,b):w(a,1,null,null,b)}function W(a){if(!E(a))throw new TypeError;var b=m(arguments,1);return setTimeout(function(){a.apply(bb,b)},1)}function X(a){return w(a,16,m(arguments,1))}function Y(a,b,c){var d=typeof a;if(null==a||"function"==d)return r(a,b,c);if("object"!=d)return _(a);var e=Ub(a),f=e[0],g=a[f];return 1!=e.length||g!==g||F(g)?function(b){for(var c=e.length,d=!1;c--&&(d=v(b[e[c]],a[e[c]],null,!0)););return d}:function(a){var b=a[f];return g===b&&(0!==g||1/g==1/b)}}function Z(a){return a}function $(){}function _(a){return function(b){return b[a]}}function ab(a){var b=++eb;return String(null==a?"":a)+b}var bb,cb=[],db=[],eb=0,fb=+new Date+"",gb=75,hb=40,ib=/\w*$/,jb=/^\s*function[ \n\r\t]+\w/,kb=/\bthis\b/,lb="[object Arguments]",mb="[object Array]",nb="[object Boolean]",ob="[object Date]",pb="[object Function]",qb="[object Number]",rb="[object Object]",sb="[object RegExp]",tb="[object String]",ub={};ub[pb]=!1,ub[lb]=ub[mb]=ub[nb]=ub[ob]=ub[qb]=ub[rb]=ub[sb]=ub[tb]=!0;var vb={configurable:!1,enumerable:!1,value:null,writable:!1},wb={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},xb=wb[typeof window]&&window||this,yb=wb[typeof d]&&d&&!d.nodeType&&d,zb=wb[typeof c]&&c&&!c.nodeType&&c,Ab=zb&&zb.exports===yb&&yb,Bb=wb[typeof b]&&b;!Bb||Bb.global!==Bb&&Bb.window!==Bb||(xb=Bb);var Cb=[],Db=Object.prototype,Eb=Db.toString,Fb=RegExp("^"+String(Eb).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Gb=Function.prototype.toString,Hb=Db.hasOwnProperty,Ib=Cb.push,Jb=Cb.unshift,Kb=function(){try{var a={},b=y(b=Object.defineProperty)&&b,c=b(a,a,a)&&b}catch(d){}return c}(),Lb=y(Lb=Object.create)&&Lb,Mb=y(Mb=Array.isArray)&&Mb,Nb=y(Nb=Object.keys)&&Nb,Ob=Math.max,Pb={};Pb[mb]=Array,Pb[nb]=Boolean,Pb[ob]=Date,Pb[pb]=Function,Pb[rb]=Object,Pb[qb]=Number,Pb[sb]=RegExp,Pb[tb]=String;var Qb=n.support={};Qb.funcDecomp=!y(xb.WinRTError)&&kb.test(function(){return this}),Qb.funcNames="string"==typeof Function.name,Lb||(q=function(){function a(){}return function(b){if(F(b)){a.prototype=b;var c=new a;a.prototype=null}return c||xb.Object()}}());var Rb=Kb?function(a,b){vb.value=b,Kb(a,"__bindData__",vb)}:$,Sb=Mb||function(a){return a&&"object"==typeof a&&"number"==typeof a.length&&Eb.call(a)==mb||!1},Tb=function(a){var b,c=a,d=[];if(!c)return d;if(!wb[typeof a])return d;for(b in c)Hb.call(c,b)&&d.push(b);return d},Ub=Nb?function(a){return F(a)?Nb(a):[]}:Tb,Vb=function(a,b,c){var d,e=a,f=e;if(!e)return f;var g=arguments,h=0,i="number"==typeof c?2:g.length;if(i>3&&"function"==typeof g[i-2])var j=r(g[--i-1],g[i--],2);else i>2&&"function"==typeof g[i-1]&&(j=g[--i]);for(;++h<i;)if(e=g[h],e&&wb[typeof e])for(var k=-1,l=wb[typeof e]&&Ub(e),m=l?l.length:0;++k<m;)d=l[k],f[d]=j?j(f[d],e[d]):e[d];return f},Wb=function(a,b,c){var d,e=a,f=e;if(!e)return f;for(var g=arguments,h=0,i="number"==typeof c?2:g.length;++h<i;)if(e=g[h],e&&wb[typeof e])for(var j=-1,k=wb[typeof e]&&Ub(e),l=k?k.length:0;++j<l;)d=k[j],"undefined"==typeof f[d]&&(f[d]=e[d]);return f},Xb=function(a,b,c){var d,e=a,f=e;if(!e)return f;if(!wb[typeof e])return f;b=b&&"undefined"==typeof c?b:r(b,c,3);for(d in e)if(b(e[d],d,a)===!1)return f;return f},Yb=function(a,b,c){var d,e=a,f=e;if(!e)return f;if(!wb[typeof e])return f;b=b&&"undefined"==typeof c?b:r(b,c,3);for(var g=-1,h=wb[typeof e]&&Ub(e),i=h?h.length:0;++g<i;)if(d=h[g],b(e[d],d,a)===!1)return f;return f},Zb=N;n.assign=Vb,n.bind=V,n.createCallback=Y,n.defaults=Wb,n.defer=W,n.difference=P,n.flatten=Q,n.forEach=L,n.forIn=Xb,n.forOwn=Yb,n.intersection=S,n.invoke=M,n.keys=Ub,n.map=N,n.omit=I,n.partial=X,n.pluck=Zb,n.property=_,n.values=J,n.collect=N,n.each=L,n.extend=Vb,n.clone=A,n.every=K,n.has=B,n.identity=Z,n.indexOf=R,n.isArguments=z,n.isArray=Sb,n.isElement=C,n.isEqual=D,n.isFunction=E,n.isNumber=G,n.isObject=F,n.isString=H,n.noop=$,n.reduce=O,n.sortedIndex=U,n.uniqueId=ab,n.all=K,n.foldl=O,n.inject=O,n.last=T,n.VERSION="2.4.1","function"==typeof a&&"object"==typeof a.amd&&a.amd?(xb._=n,a(function(){return n})):yb&&zb?Ab?(zb.exports=n)._=n:yb._=n:xb._=n}).call(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],lodash:[function(a,b){b.exports=a("M4+//f")},{}],3:[function(b,c,d){!function(){function b(){this._events={},this._conf&&c.call(this,this._conf)}function c(a){a&&(this._conf=a,a.delimiter&&(this.delimiter=a.delimiter),a.maxListeners&&(this._events.maxListeners=a.maxListeners),a.wildcard&&(this.wildcard=a.wildcard),a.newListener&&(this.newListener=a.newListener),this.wildcard&&(this.listenerTree={}))}function e(a){this._events={},this.newListener=!1,c.call(this,a)}function f(a,b,c,d){if(!c)return[];var e,g,h,i,j,k,l,m=[],n=b.length,o=b[d],p=b[d+1];if(d===n&&c._listeners){if("function"==typeof c._listeners)return a&&a.push(c._listeners),[c];for(e=0,g=c._listeners.length;g>e;e++)a&&a.push(c._listeners[e]);return[c]}if("*"===o||"**"===o||c[o]){if("*"===o){for(h in c)"_listeners"!==h&&c.hasOwnProperty(h)&&(m=m.concat(f(a,b,c[h],d+1)));return m}if("**"===o){l=d+1===n||d+2===n&&"*"===p,l&&c._listeners&&(m=m.concat(f(a,b,c,n)));for(h in c)"_listeners"!==h&&c.hasOwnProperty(h)&&("*"===h||"**"===h?(c[h]._listeners&&!l&&(m=m.concat(f(a,b,c[h],n))),m=m.concat(f(a,b,c[h],d))):m=m.concat(h===p?f(a,b,c[h],d+2):f(a,b,c[h],d)));return m}m=m.concat(f(a,b,c[o],d+1))}if(i=c["*"],i&&f(a,b,i,d+1),j=c["**"])if(n>d){j._listeners&&f(a,b,j,n);for(h in j)"_listeners"!==h&&j.hasOwnProperty(h)&&(h===p?f(a,b,j[h],d+2):h===o?f(a,b,j[h],d+1):(k={},k[h]=j[h],f(a,b,{"**":k},d+1)))}else j._listeners?f(a,b,j,n):j["*"]&&j["*"]._listeners&&f(a,b,j["*"],n);return m}function g(a,b){a="string"==typeof a?a.split(this.delimiter):a.slice();for(var c=0,d=a.length;d>c+1;c++)if("**"===a[c]&&"**"===a[c+1])return;for(var e=this.listenerTree,f=a.shift();f;){if(e[f]||(e[f]={}),e=e[f],0===a.length){if(e._listeners){if("function"==typeof e._listeners)e._listeners=[e._listeners,b];else if(h(e._listeners)&&(e._listeners.push(b),!e._listeners.warned)){var g=i;"undefined"!=typeof this._events.maxListeners&&(g=this._events.maxListeners),g>0&&e._listeners.length>g&&(e._listeners.warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",e._listeners.length),console.trace())}}else e._listeners=b;return!0}f=a.shift()}return!0}var h=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},i=10;e.prototype.delimiter=".",e.prototype.setMaxListeners=function(a){this._events||b.call(this),this._events.maxListeners=a,this._conf||(this._conf={}),this._conf.maxListeners=a},e.prototype.event="",e.prototype.once=function(a,b){return this.many(a,1,b),this},e.prototype.many=function(a,b,c){function d(){0===--b&&e.off(a,d),c.apply(this,arguments)}var e=this;if("function"!=typeof c)throw new Error("many only accepts instances of Function");return d._origin=c,this.on(a,d),e},e.prototype.emit=function(){this._events||b.call(this);var a=arguments[0];if("newListener"===a&&!this.newListener&&!this._events.newListener)return!1;if(this._all){for(var c=arguments.length,d=new Array(c-1),e=1;c>e;e++)d[e-1]=arguments[e];for(e=0,c=this._all.length;c>e;e++)this.event=a,this._all[e].apply(this,d)}if("error"===a&&!(this._all||this._events.error||this.wildcard&&this.listenerTree.error))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");var g;if(this.wildcard){g=[];var h="string"==typeof a?a.split(this.delimiter):a.slice();f.call(this,g,h,this.listenerTree,0)}else g=this._events[a];if("function"==typeof g){if(this.event=a,1===arguments.length)g.call(this);else if(arguments.length>1)switch(arguments.length){case 2:g.call(this,arguments[1]);break;case 3:g.call(this,arguments[1],arguments[2]);break;default:for(var c=arguments.length,d=new Array(c-1),e=1;c>e;e++)d[e-1]=arguments[e];g.apply(this,d)}return!0}if(g){for(var c=arguments.length,d=new Array(c-1),e=1;c>e;e++)d[e-1]=arguments[e];for(var i=g.slice(),e=0,c=i.length;c>e;e++)this.event=a,i[e].apply(this,d);return i.length>0||!!this._all}return!!this._all},e.prototype.on=function(a,c){if("function"==typeof a)return this.onAny(a),this;if("function"!=typeof c)throw new Error("on only accepts instances of Function");if(this._events||b.call(this),this.emit("newListener",a,c),this.wildcard)return g.call(this,a,c),this;if(this._events[a]){if("function"==typeof this._events[a])this._events[a]=[this._events[a],c];else if(h(this._events[a])&&(this._events[a].push(c),!this._events[a].warned)){var d=i;"undefined"!=typeof this._events.maxListeners&&(d=this._events.maxListeners),d>0&&this._events[a].length>d&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),console.trace())}}else this._events[a]=c;return this},e.prototype.onAny=function(a){if("function"!=typeof a)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),this._all.push(a),this},e.prototype.addListener=e.prototype.on,e.prototype.off=function(a,b){if("function"!=typeof b)throw new Error("removeListener only takes instances of Function");var c,d=[];if(this.wildcard){var e="string"==typeof a?a.split(this.delimiter):a.slice();d=f.call(this,null,e,this.listenerTree,0)}else{if(!this._events[a])return this;c=this._events[a],d.push({_listeners:c})}for(var g=0;g<d.length;g++){var i=d[g];if(c=i._listeners,h(c)){for(var j=-1,k=0,l=c.length;l>k;k++)if(c[k]===b||c[k].listener&&c[k].listener===b||c[k]._origin&&c[k]._origin===b){j=k;break}if(0>j)continue;return this.wildcard?i._listeners.splice(j,1):this._events[a].splice(j,1),0===c.length&&(this.wildcard?delete i._listeners:delete this._events[a]),this}(c===b||c.listener&&c.listener===b||c._origin&&c._origin===b)&&(this.wildcard?delete i._listeners:delete this._events[a])}return this},e.prototype.offAny=function(a){var b,c=0,d=0;if(a&&this._all&&this._all.length>0){for(b=this._all,c=0,d=b.length;d>c;c++)if(a===b[c])return b.splice(c,1),this}else this._all=[];return this},e.prototype.removeListener=e.prototype.off,e.prototype.removeAllListeners=function(a){if(0===arguments.length)return!this._events||b.call(this),this;if(this.wildcard)for(var c="string"==typeof a?a.split(this.delimiter):a.slice(),d=f.call(this,null,c,this.listenerTree,0),e=0;e<d.length;e++){var g=d[e];g._listeners=null}else{if(!this._events[a])return this;this._events[a]=null}return this},e.prototype.listeners=function(a){if(this.wildcard){var c=[],d="string"==typeof a?a.split(this.delimiter):a.slice();return f.call(this,c,d,this.listenerTree,0),c}return this._events||b.call(this),this._events[a]||(this._events[a]=[]),h(this._events[a])||(this._events[a]=[this._events[a]]),this._events[a]},e.prototype.listenersAny=function(){return this._all?this._all:[]},"function"==typeof a&&a.amd?a(function(){return e}):"object"==typeof d?d.EventEmitter2=e:window.EventEmitter2=e}()},{}],4:[function(a,b){b.exports=a("./lib/type")},{"./lib/type":8}],5:[function(a,b){var c=a("fast-diff"),d=a("./is"),e=a("./op"),f=String.fromCharCode(0),g=function(a){this.ops=d.array(a)?a:d.object(a)&&d.array(a.ops)?a.ops:[]};g.prototype.insert=function(a,b){var c={};if(d.string(a)){if(0===a.length)return this;c.insert=a}else d.number(a)&&(c.insert=a);return d.object(b)&&Object.keys(b).length>0&&(c.attributes=b),this.push(c)},g.prototype["delete"]=function(a){return 0>=a?this:this.push({"delete":a})},g.prototype.retain=function(a,b){if(0>=a)return this;var c={retain:a};return d.object(b)&&Object.keys(b).length>0&&(c.attributes=b),this.push(c)},g.prototype.push=function(a){var b=this.ops.length,c=this.ops[b-1];if(a=e.clone(a),d.object(c)){if(d.number(a["delete"])&&d.number(c["delete"]))return this.ops[b-1]={"delete":c["delete"]+a["delete"]},this;if(d.number(c["delete"])&&(d.string(a.insert)||d.number(a.insert))&&(b-=1,c=this.ops[b-1],!d.object(c)))return this.ops.unshift(a),this;if(d.equal(a.attributes,c.attributes)){if(d.string(a.insert)&&d.string(c.insert))return this.ops[b-1]={insert:c.insert+a.insert},d.object(a.attributes)&&(this.ops[b-1].attributes=a.attributes),this;if(d.number(a.retain)&&d.number(c.retain))return this.ops[b-1]={retain:c.retain+a.retain},d.object(a.attributes)&&(this.ops[b-1].attributes=a.attributes),this}}return this.ops.splice(b,0,a),this},g.prototype.chop=function(){var a=this.ops[this.ops.length-1];return a&&a.retain&&!a.attributes&&this.ops.pop(),this},g.prototype.length=function(){return this.ops.reduce(function(a,b){return a+e.length(b)},0)},g.prototype.slice=function(a,b){a=a||0,d.number(b)||(b=1/0);for(var c=new g,f=e.iterator(this.ops),h=0;b>h&&f.hasNext();){var i;a>h?i=f.next(a-h):(i=f.next(b-a),c.push(i)),h+=e.length(i)}return c},g.prototype.compose=function(a){var b=e.iterator(this.ops),c=e.iterator(a.ops);for(this.ops=[];b.hasNext()||c.hasNext();)if("insert"===c.peekType())this.push(c.next());else if("delete"===b.peekType())this.push(b.next());else{var f=Math.min(b.peekLength(),c.peekLength()),g=b.next(f),h=c.next(f);if(d.number(h.retain)){var i={};d.number(g.retain)?i.retain=f:i.insert=g.insert;var j=e.attributes.compose(g.attributes,h.attributes,d.number(g.retain));j&&(i.attributes=j),this.push(i)}else d.number(h["delete"])&&d.number(g.retain)&&this.push(h)}return this.chop()},g.prototype.diff=function(a){var b=[this.ops,a.ops].map(function(b){return b.map(function(c){if(d.string(c.insert))return c.insert;if(d.number(c.insert))return f;var e=b===a.ops?"on":"with";throw new Error("diff() called "+e+" non-document")}).join("")}),h=c(b[0],b[1]),i=e.iterator(this.ops),j=e.iterator(a.ops),k=new g;return h.forEach(function(a){for(var b=a[1].length;b>0;){var d=0;switch(a[0]){case c.INSERT:d=Math.min(j.peekLength(),b),k.push(j.next(d));break;case c.DELETE:d=Math.min(b,i.peekLength()),i.next(d),k["delete"](d);break;case c.EQUAL:d=Math.min(i.peekLength(),j.peekLength(),b);var f=i.next(d),g=j.next(d);f.insert===g.insert?k.retain(d,e.attributes.diff(f.attributes,g.attributes)):k.push(g)["delete"](d)}b-=d}}),k.chop()},g.prototype.transform=function(a,b){if(b=!!b,d.number(a))return this.transformPosition(a,b);for(var c=e.iterator(this.ops),f=e.iterator(a.ops),h=new g;c.hasNext()||f.hasNext();)if("insert"!==c.peekType()||!b&&"insert"===f.peekType())if("insert"===f.peekType())h.push(f.next());else{var i=Math.min(c.peekLength(),f.peekLength()),j=c.next(i),k=f.next(i);if(j["delete"])continue;k["delete"]?h.push(k):h.retain(i,e.attributes.transform(j.attributes,k.attributes,b))}else h.retain(e.length(c.next()));return h.chop()},g.prototype.transformPosition=function(a,b){b=!!b;for(var c=e.iterator(this.ops),d=0;c.hasNext()&&a>=d;){var f=c.peekLength(),g=c.peekType();c.next(),"delete"!==g?("insert"===g&&(a>d||!b)&&(a+=f),d+=f):a-=Math.min(f,a-d)}return a},b.exports=g},{"./is":6,"./op":7,"fast-diff":9}],6:[function(a,b){b.exports={equal:function(a,b){if(a===b)return!0;if(null==a&&null==b)return!0;if(null==a||null==b)return!1;if(Object.keys(a).length!=Object.keys(b).length)return!1;for(var c in a)if(a[c]!==b[c])return!1;return!0},array:function(a){return Array.isArray(a)},number:function(a){return"number"==typeof a?!0:"object"==typeof a&&"[object Number]"===Object.prototype.toString.call(a)?!0:!1},object:function(a){return a?"function"==typeof a||"object"==typeof a:!1},string:function(a){return"string"==typeof a?!0:"object"==typeof a&&"[object String]"===Object.prototype.toString.call(a)?!0:!1}}},{}],7:[function(a,b){function c(a){this.ops=a,this.index=0,this.offset=0}var d=a("./is"),e={attributes:{clone:function(a,b){return d.object(a)?Object.keys(a).reduce(function(c,d){return void 0===a[d]||null===a[d]&&!b||(c[d]=a[d]),c},{}):{}},compose:function(a,b,c){d.object(a)||(a={}),d.object(b)||(b={});var e=this.clone(b,c);for(var f in a)void 0!==a[f]&&void 0===b[f]&&(e[f]=a[f]);return Object.keys(e).length>0?e:void 0},diff:function(a,b){d.object(a)||(a={}),d.object(b)||(b={});var c=Object.keys(a).concat(Object.keys(b)).reduce(function(c,d){return a[d]!==b[d]&&(c[d]=void 0===b[d]?null:b[d]),c},{});return Object.keys(c).length>0?c:void 0},transform:function(a,b,c){if(!d.object(a))return b;if(!d.object(b))return void 0;if(!c)return b;var e=Object.keys(b).reduce(function(c,d){return void 0===a[d]&&(c[d]=b[d]),c},{});return Object.keys(e).length>0?e:void 0}},clone:function(a){var b=this.attributes.clone(a);return d.object(b.attributes)&&(b.attributes=this.attributes.clone(b.attributes,!0)),b},iterator:function(a){return new c(a)},length:function(a){return d.number(a["delete"])?a["delete"]:d.number(a.retain)?a.retain:d.string(a.insert)?a.insert.length:1}};c.prototype.hasNext=function(){return this.peekLength()<1/0},c.prototype.next=function(a){a||(a=1/0);var b=this.ops[this.index];if(b){var c=this.offset,f=e.length(b);if(a>=f-c?(a=f-c,this.index+=1,this.offset=0):this.offset+=a,d.number(b["delete"]))return{"delete":a};var g={};return b.attributes&&(g.attributes=b.attributes),d.number(b.retain)?g.retain=a:g.insert=d.string(b.insert)?b.insert.substr(c,a):b.insert,g
}return{retain:1/0}},c.prototype.peekLength=function(){return this.ops[this.index]?e.length(this.ops[this.index])-this.offset:1/0},c.prototype.peekType=function(){return this.ops[this.index]?d.number(this.ops[this.index]["delete"])?"delete":d.number(this.ops[this.index].retain)?"retain":"insert":"retain"},b.exports=e},{"./is":6}],8:[function(a,b){{var c=a("./delta");a("../package.json")}b.exports={Delta:c,name:"rich-text",uri:"http://sharejs.org/types/rich-text/v1",create:function(a){return new c(a)},apply:function(a,b){return a=new c(a),b=new c(b),a.compose(b)},compose:function(a,b){return a=new c(a),b=new c(b),a.compose(b)},diff:function(a,b){return a=new c(a),b=new c(b),a.diff(b)},transform:function(a,b,d){return a=new c(a),b=new c(b),b.transform(a,"left"===d)}}},{"../package.json":10,"./delta":5}],9:[function(a,b){function c(a,b){if(a==b)return a?[[m,a]]:[];var c=g(a,b),e=a.substring(0,c);a=a.substring(c),b=b.substring(c),c=h(a,b);var f=a.substring(a.length-c);a=a.substring(0,a.length-c),b=b.substring(0,b.length-c);var i=d(a,b);return e&&i.unshift([m,e]),f&&i.push([m,f]),j(i),i}function d(a,b){var d;if(!a)return[[l,b]];if(!b)return[[k,a]];var f=a.length>b.length?a:b,g=a.length>b.length?b:a,h=f.indexOf(g);if(-1!=h)return d=[[l,f.substring(0,h)],[m,g],[l,f.substring(h+g.length)]],a.length>b.length&&(d[0][0]=d[2][0]=k),d;if(1==g.length)return[[k,a],[l,b]];var j=i(a,b);if(j){var n=j[0],o=j[1],p=j[2],q=j[3],r=j[4],s=c(n,p),t=c(o,q);return s.concat([[m,r]],t)}return e(a,b)}function e(a,b){for(var c=a.length,d=b.length,e=Math.ceil((c+d)/2),g=e,h=2*e,i=new Array(h),j=new Array(h),m=0;h>m;m++)i[m]=-1,j[m]=-1;i[g+1]=0,j[g+1]=0;for(var n=c-d,o=n%2!=0,p=0,q=0,r=0,s=0,t=0;e>t;t++){for(var u=-t+p;t-q>=u;u+=2){var v,w=g+u;v=u==-t||u!=t&&i[w-1]<i[w+1]?i[w+1]:i[w-1]+1;for(var x=v-u;c>v&&d>x&&a.charAt(v)==b.charAt(x);)v++,x++;if(i[w]=v,v>c)q+=2;else if(x>d)p+=2;else if(o){var y=g+n-u;if(y>=0&&h>y&&-1!=j[y]){var z=c-j[y];if(v>=z)return f(a,b,v,x)}}}for(var A=-t+r;t-s>=A;A+=2){var z,y=g+A;z=A==-t||A!=t&&j[y-1]<j[y+1]?j[y+1]:j[y-1]+1;for(var B=z-A;c>z&&d>B&&a.charAt(c-z-1)==b.charAt(d-B-1);)z++,B++;if(j[y]=z,z>c)s+=2;else if(B>d)r+=2;else if(!o){var w=g+n-A;if(w>=0&&h>w&&-1!=i[w]){var v=i[w],x=g+v-w;if(z=c-z,v>=z)return f(a,b,v,x)}}}}return[[k,a],[l,b]]}function f(a,b,d,e){var f=a.substring(0,d),g=b.substring(0,e),h=a.substring(d),i=b.substring(e),j=c(f,g),k=c(h,i);return j.concat(k)}function g(a,b){if(!a||!b||a.charAt(0)!=b.charAt(0))return 0;for(var c=0,d=Math.min(a.length,b.length),e=d,f=0;e>c;)a.substring(f,e)==b.substring(f,e)?(c=e,f=c):d=e,e=Math.floor((d-c)/2+c);return e}function h(a,b){if(!a||!b||a.charAt(a.length-1)!=b.charAt(b.length-1))return 0;for(var c=0,d=Math.min(a.length,b.length),e=d,f=0;e>c;)a.substring(a.length-e,a.length-f)==b.substring(b.length-e,b.length-f)?(c=e,f=c):d=e,e=Math.floor((d-c)/2+c);return e}function i(a,b){function c(a,b,c){for(var d,e,f,i,j=a.substring(c,c+Math.floor(a.length/4)),k=-1,l="";-1!=(k=b.indexOf(j,k+1));){var m=g(a.substring(c),b.substring(k)),n=h(a.substring(0,c),b.substring(0,k));l.length<n+m&&(l=b.substring(k-n,k)+b.substring(k,k+m),d=a.substring(0,c-n),e=a.substring(c+m),f=b.substring(0,k-n),i=b.substring(k+m))}return 2*l.length>=a.length?[d,e,f,i,l]:null}var d=a.length>b.length?a:b,e=a.length>b.length?b:a;if(d.length<4||2*e.length<d.length)return null;var f,i=c(d,e,Math.ceil(d.length/4)),j=c(d,e,Math.ceil(d.length/2));if(!i&&!j)return null;f=j?i&&i[4].length>j[4].length?i:j:i;var k,l,m,n;a.length>b.length?(k=f[0],l=f[1],m=f[2],n=f[3]):(m=f[0],n=f[1],k=f[2],l=f[3]);var o=f[4];return[k,l,m,n,o]}function j(a){a.push([m,""]);for(var b,c=0,d=0,e=0,f="",i="";c<a.length;)switch(a[c][0]){case l:e++,i+=a[c][1],c++;break;case k:d++,f+=a[c][1],c++;break;case m:d+e>1?(0!==d&&0!==e&&(b=g(i,f),0!==b&&(c-d-e>0&&a[c-d-e-1][0]==m?a[c-d-e-1][1]+=i.substring(0,b):(a.splice(0,0,[m,i.substring(0,b)]),c++),i=i.substring(b),f=f.substring(b)),b=h(i,f),0!==b&&(a[c][1]=i.substring(i.length-b)+a[c][1],i=i.substring(0,i.length-b),f=f.substring(0,f.length-b))),0===d?a.splice(c-e,d+e,[l,i]):0===e?a.splice(c-d,d+e,[k,f]):a.splice(c-d-e,d+e,[k,f],[l,i]),c=c-d-e+(d?1:0)+(e?1:0)+1):0!==c&&a[c-1][0]==m?(a[c-1][1]+=a[c][1],a.splice(c,1)):c++,e=0,d=0,f="",i=""}""===a[a.length-1][1]&&a.pop();var n=!1;for(c=1;c<a.length-1;)a[c-1][0]==m&&a[c+1][0]==m&&(a[c][1].substring(a[c][1].length-a[c-1][1].length)==a[c-1][1]?(a[c][1]=a[c-1][1]+a[c][1].substring(0,a[c][1].length-a[c-1][1].length),a[c+1][1]=a[c-1][1]+a[c+1][1],a.splice(c-1,1),n=!0):a[c][1].substring(0,a[c+1][1].length)==a[c+1][1]&&(a[c-1][1]+=a[c+1][1],a[c][1]=a[c][1].substring(a[c+1][1].length)+a[c+1][1],a.splice(c+1,1),n=!0)),c++;n&&j(a)}var k=-1,l=1,m=0,n=c;n.INSERT=l,n.DELETE=k,n.EQUAL=m,b.exports=n},{}],10:[function(a,b){b.exports={name:"rich-text",version:"1.0.2",description:"Format for representing rich text documents and changes.",author:{name:"Jason Chen",email:"jhchen7@gmail.com"},homepage:"https://github.com/ottypes/rich-text",main:"index.js",dependencies:{"fast-diff":"~1.0.0"},devDependencies:{chai:"~1.9.1",coveralls:"~2.11.1",grunt:"~0.4.5",istanbul:"~0.3.0",lodash:"~2.4.1",mocha:"~1.21.4","ot-fuzzer":"~1.0.0"},engines:{node:">=0.10"},license:"MIT",scripts:{test:"grunt test"},repository:{type:"git",url:"https://github.com/ottypes/rich-text"},bugs:{url:"https://github.com/ottypes/rich-text/issues"},keywords:["rich text","ot","operational transform","delta"],readme:"# Rich Text [![Build Status](https://travis-ci.org/ottypes/rich-text.svg?branch=master)](http://travis-ci.org/ottypes/rich-text) [![Coverage Status](https://img.shields.io/coveralls/ottypes/rich-text.svg)](https://coveralls.io/r/ottypes/rich-text)\n\nA format for representing rich text documents and changes. It aimes to be intuitive and human readable with the ability to express any change necessary to deal with rich text. A document can also be expressed with this format--as the change from an empty document.\n\n## Quick Example\n\n```js\nvar delta = new Delta([\n  { insert: 'Gandalf', attributes: { bold: true } },\n  { insert: ' the ' },\n  { insert: 'Grey', attributes: { color: '#ccc' } }\n]);\n\n// Keep the first 12 characters, delete the next 4, and insert a white 'White'\nvar death = new Delta().retain(12)\n                       .delete(4)\n                       .insert('White', { color: '#fff' });\n// this produces:\n// {\n//   ops: [\n//     { retain: 12 },\n//     { delete: '4 ' },\n//     { insert: 'White', attributes: { color: '#fff' } }\n//   ]\n// }\n\ndelta.compose(death);\n// delta is now:\n// {\n//   ops: [\n//     { insert: 'Gandalf ', attributes: { bold: true } },\n//     { insert: 'the ' },\n//     { insert: 'White', attributes: { color: '#fff' } }\n//   ]\n// }\n\n```\n\nThis format is suitable for [Operational Transform](https://en.wikipedia.org/wiki/Operational_transformation) and defines several functions to support this use case.\n\n## Contents\n\n#### [Operations](#operations-1)\n\n- [insert](#insert-operation)\n- [delete](#delete-operation)\n- [retain](#retain-operation)\n\n#### [Deltas](#deltas-1)\n\n- [`constructor`](#constructor)\n- [`insert`](#insert)\n- [`delete`](#delete)\n- [`retain`](#retain)\n- [`length`](#length)\n- [`slice`](#slice)\n- [`compose`](#compose)\n- [`transform`](#transform)\n\n#### [Documents](#documents-1)\n\n- [`diff`](#diff)\n\n\n## Operations\n\nOperations describe a singular change to a document. They can be an [`insert`](#insert-operation), [`delete`](#delete-operation) or [`retain`](#retain-operation). Note operations do not take an index. They always describe the change at the current index. Use retains to \"keep\" or \"skip\" certain parts of the document.\n\n### Insert Operation\n\nInsert operations have an `insert` key defined. A String value represents inserting text. A Number value represents inserting an embed, with the value corresponding to an embed type (such as an image or video).\n\nHere we will use 1 to represent images and 2 to represent videos, but your application can choose whatever mapping is convenient.\n\nIn both cases of text and embeds, an optional `attributes` key can be defined with an Object to describe additonal formatting information. Formats can be changed by the [retain](#retain) operation.\n\n```js\n// Insert a bolded \"Text\"\n{ insert: \"Text\", attributes: { bold: true } }\n\n// Insert a link\n{ insert: \"Google\", attributes: { href: 'https://www.google.com' } }\n\n// Insert an image\n{\n  insert: 1,\n  attributes: {\n    alt: \"Lab Octocat\",\n    src: 'https://octodex.github.com/images/labtocat.png'\n  }\n}\n\n// Insert a video\n{\n  insert: 2,\n  attributes: {\n    src: \"https://www.youtube.com/watch?v=dMH0bHeiRNg\",\n    width: 420,\n    height: 315\n  }\n}\n```\n\n### Delete Operation\n\nDelete operations have a Number `delete` key defined representing the number of characters to delete. All embeds have a length of 1.\n\n```js\n// Delete the next 10 characters\n{ delete: 10 }\n```\n\n### Retain Operation\n\nRetain operations have a Number `retain` key defined representing the number of characters to keep (other libraries might use the name keep or skip). An optional `attributes` key can be defined with an Object to describe formatting changes to the character range. A value of null in the `attributes` Object represents removal of that key.\n\n*Note: It is not necessary to retain the last characters of a document as this is implied.*\n\n```js\n// Keep the next 5 characters\n{ retain: 5 }\n\n// Keep and bold the next 5 characters\n{ retain: 5, attributes: { bold: true } }\n\n// Keep and unbold the next 5 characters\n// More specifically, remove the bold key in the attributes Object\n// in the next 5 characters\n{ retain: 5, attributes: { bold: null } }\n```\n\n\n## Deltas\n\nA Delta is made up of an array of operations. Unless otherwise specified all methods are self modifying and return `this` for chainability.\n\nAll methods also maintain the property that Deltas are represented in the most compact form. For example two consecutive insert operations of plain text will be merged into one.\n\n---\n\n### constructor\n\nCreates a new Delta object.\n\n#### Methods\n\n- `new Delta()`\n- `new Delta(ops)`\n- `new Delta(delta)`\n\n#### Parameters\n\n- `ops` - Array of operations\n- `delta` - Object with an `ops` key set to an array of operations\n\n*Note: No validity/sanity check is performed when constructed with ops or delta. The new delta's internal ops array will also be assigned to ops or delta.ops without deep copying.*\n\n#### Example\n\n```js\nvar delta = new Delta([\n  { insert: 'Hello World' },\n  { insert: '!', attributes: { bold: true }}\n]);\n\nvar packet = JSON.stringify(delta);\n\nvar other = new Delta(JSON.parse(packet));\n\nvar chained = new Delta().insert('Hello World').insert('!', { bold: true });\n```\n\n---\n\n### insert()\n\nAppends an insert operation.\n\n#### Methods\n\n- `insert(text, attributes)`\n- `insert(embed, attributes)`\n\n#### Parameters\n\n- `text` - String representing text to insert\n- `embed` - Number representing embed type to insert\n- `attributes` - Optional attributes to apply\n\n#### Example\n\n```js\ndelta.insert('Text', { bold: true, color: '#ccc' });\ndelta.insert(1, { src: 'https://octodex.github.com/images/labtocat.png' });\n```\n\n---\n\n### delete()\n\nAppends a delete operation.\n\n#### Methods\n\n- `delete(length)`\n\n#### Parameters\n\n- `length` - Number of characters to delete\n\n#### Example\n\n```js\ndelta.delete(5);\n```\n\n---\n\n### retain()\n\nAppends a retain operation.\n\n#### Methods\n\n- `retain(length, attributes)`\n\n#### Parameters\n\n- `length` - Number of characters to retain\n- `attributes` - Optional attributes to apply\n\n#### Example\n\n```js\ndelta.retain(4).retain(5, { color: '#0c6' });\n```\n\n---\n\n### length()\n\nReturns length of Delta.\n\n#### Methods\n\n- `length()`\n\n#### Example\n\n```js\nnew Delta().insert('Hello').length();  // Returns 5\n\nnew Delta().insert('A').retain(2).delete(1) // Returns 4\n```\n\n---\n\n### slice()\n\nReturns copy of delta with subset of operations.\n\n#### Methods\n\n- `slice()`\n- `slice(start)`\n- `slice(start, end)`\n\n#### Parameters\n\n- `start` - Start index of subset, defaults to 0\n- `end` - End index of subset, defaults to rest of operations\n\n#### Example\n\n```js\nvar delta = new Delta().insert('Hello', { bold: true }).insert(' World');\n\n// {\n//   ops: [\n//     { insert: 'Hello', attributes: { bold: true } },\n//     { insert: ' World' }\n//   ]\n// }\nvar copy = delta.slice();\n\n// { ops: [{ insert: 'World' }] }\nvar world = delta.slice(6);\n\n// { ops: [{ insert: ' ' }] }\nvar space = delta.slice(5, 6);\n```\n\n---\n\n### compose()\n\nCompose with another Delta, i.e. merge the operations of another Delta. This method is self modifying.\n\n#### Methods\n\n- `compose(other)`\n\n#### Parameters\n\n- `other` - Delta to compose\n\n#### Example\n\n```js\nvar a = new Delta().insert('abc');\nvar b = new Delta().retain(1).delete(1);\n\na.compose(b);  // a == new Delta().insert('ac');\n```\n\n### transform()\n\nTransform given Delta against own operations.\n\n#### Methods\n\n- `transform(other, priority)`\n- `transform(index)` - Alias for [`transformPosition`](#tranformposition)\n\n#### Parameters\n\n- `other` - Delta to transform\n- `priority` - Boolean used to break ties\n\n#### Returns\n\n- `Delta` - transformed Delta\n\n#### Example\n\n```js\nvar a = new Delta().insert('a');\nvar b = new Delta().insert('b');\n\nb = a.transform(b, true);  // new Delta().retain(1).insert('b');\n```\n\n---\n\n### transformPosition()\n\nTransform an index against the delta. Useful for representing cursor/selection positions.\n\n#### Methods\n\n- `transformPosition(index)`\n\n#### Parameters\n\n- `index` - index to transform\n\n#### Returns\n\n- `Number` - transformed index\n\n#### Example\n\n```js\nvar index = 12;\nvar transformedIndex = delta.transformPosition(index);\n```\n\n\n## Documents\n\nA Delta with only insert operations can be used to represent a rich text document. This can be thought of as a Delta applied to an empty document.\n\n---\n\n### diff()\n\nCalculates the difference between two documents expressed as a Delta.\n\n#### Methods\n\n- `diff(other)`\n\n#### Parameters\n\n- `other` - Document Delta to diff against\n\n#### Returns\n\n- `Delta` - difference between the two documents\n\n#### Example\n\n```js\nvar a = new Delta().insert('Hello');\nvar b = new Delta().insert('Hello!');\n\nvar diff = a.diff(b);  // { ops: [{ retain: 5 }, { insert: '!' }] }\n```\n",readmeFilename:"README.md",_id:"rich-text@1.0.2",_from:"rich-text@~1.0.2"}},{}],11:[function(a,b){b.exports={name:"quilljs",version:"0.18.1",description:"Cross browser rich text editor",author:"Jason Chen <jhchen7@gmail.com>",homepage:"http://quilljs.com",contributors:["Byron Milligan <byronner@gmail.com>","Keegan Poppen <keegan.poppen@gmail.com>"],main:"index.js",dependencies:{eventemitter2:"~0.4.13",lodash:"~2.4.1","rich-text":"~1.0.2"},devDependencies:{async:"~0.9.0","coffee-script":"~1.8.0",coffeeify:"~0.7.0",glob:"~4.0.4",grunt:"~0.4.3","grunt-browserify":"~2.1.0","grunt-contrib-clean":"~0.6.0","grunt-contrib-coffee":"~0.12.0","grunt-contrib-compress":"~0.12.0","grunt-contrib-concat":"~0.5.0","grunt-contrib-connect":"~0.8.0","grunt-contrib-copy":"~0.7.0","grunt-contrib-stylus":"~0.18.0","grunt-contrib-uglify":"~0.6.0","grunt-karma":"~0.9.0","grunt-lodash":"~0.3.0","grunt-protractor-runner":"~1.1.0","grunt-sauce-connect-launcher":"~0.3.0",harp:"~0.14.0",istanbul:"~0.3.0",jquery:"~2.1.1",karma:"~0.12.0","karma-chrome-launcher":"~0.1.2","karma-coffee-preprocessor":"~0.2.1","karma-coverage":"~0.2.0","karma-firefox-launcher":"~0.1.3","karma-html2js-preprocessor":"~0.1.0","karma-jasmine":"~0.2.0","karma-phantomjs-launcher":"~0.1.2","karma-safari-launcher":"~0.1.1","karma-sauce-launcher":"~0.2.2","load-grunt-tasks":"~0.6.0",protractor:"~1.3.1",stylus:"~0.49.2",watchify:"~0.10.2"},engines:{node:">=0.10"},license:"BSD-3-Clause",repository:{type:"git",url:"https://github.com/quilljs/quill"},bugs:{url:"https://github.com/quilljs/quill/issues"},scripts:{prepublish:"grunt coffee:quill",postpublish:"grunt clean:coffee",test:"grunt test"},keywords:["editor","rich text","wysiwyg"]}},{}],12:[function(a,b){var c,d,e,f,g,h,i,j;j=a("lodash"),c=a("rich-text").Delta,i=a("../lib/dom"),e=a("./format"),f=a("./line"),g=a("../lib/linked-list"),h=a("../lib/normalizer"),d=function(){function a(a,b){this.root=a,null==b&&(b={}),this.formats={},j.each(b.formats,j.bind(this.addFormat,this)),this.setHTML(this.root.innerHTML)}return a.prototype.addFormat=function(a,b){return j.isObject(b)||(b=e.FORMATS[a]),null!=this.formats[a]&&console.warn("Overwriting format",a,this.formats[a]),this.formats[a]=new e(this.root.ownerDocument,b)},a.prototype.appendLine=function(a){return this.insertLineBefore(a,null)},a.prototype.findLeafAt=function(a,b){var c,d,e;return e=this.findLineAt(a),c=e[0],d=e[1],null!=c?c.findLeafAt(d,b):[null,d]},a.prototype.findLine=function(a){for(var b;null!=a&&null==i.BLOCK_TAGS[a.tagName];)a=a.parentNode;return b=null!=a?this.lineMap[a.id]:null,(null!=b?b.node:void 0)===a?b:null},a.prototype.findLineAt=function(a){var b,c;if(!(this.lines.length>0))return[null,a];if(c=this.toDelta().length(),a===c)return[this.lines.last,this.lines.last.length];if(a>c)return[null,a-c];for(b=this.lines.first;null!=b;){if(a<b.length)return[b,a];a-=b.length,b=b.next}return[null,a]},a.prototype.insertLineBefore=function(a,b){var c;return c=new f(this,a),null!=b?(i(a.parentNode).isElement()||this.root.insertBefore(a,b.node),this.lines.insertAfter(b.prev,c)):(i(a.parentNode).isElement()||this.root.appendChild(a),this.lines.append(c)),this.lineMap[c.id]=c,c},a.prototype.mergeLines=function(a,b){return b.length>1&&(1===a.length&&i(a.leaves.last.node).remove(),j.each(i(b.node).childNodes(),function(b){return b.tagName!==i.DEFAULT_BREAK_TAG?a.node.appendChild(b):void 0})),this.removeLine(b),a.rebuild()},a.prototype.optimizeLines=function(){return j.each(this.lines.toArray(),function(a){return a.optimize(),!0})},a.prototype.rebuild=function(){var a,b,c;for(b=this.lines.toArray(),a=this.root.firstChild,null!=a&&null!=i.LIST_TAGS[a.tagName]&&(a=a.firstChild),j.each(b,function(b){return function(c){for(var d,e;c.node!==a;){if(c.node.parentNode!==b.root&&(null!=(e=c.node.parentNode)?e.parentNode:void 0)!==b.root)return b.removeLine(c);a=h.normalizeLine(a),d=b.insertLineBefore(a,c),a=i(a).nextLineNode(b.root)}return c.outerHTML!==a.outerHTML&&(c.node=h.normalizeLine(c.node),c.rebuild()),a=i(a).nextLineNode(b.root)}}(this)),c=[];null!=a;)a=h.normalizeLine(a),this.appendLine(a),c.push(a=i(a).nextLineNode(this.root));return c},a.prototype.removeLine=function(a){return null!=a.node.parentNode&&(i.LIST_TAGS[a.node.parentNode.tagName]&&1===a.node.parentNode.childNodes.length?i(a.node.parentNode).remove():i(a.node).remove()),delete this.lineMap[a.id],this.lines.remove(a)},a.prototype.setHTML=function(a){return a=h.stripComments(a),a=h.stripWhitespace(a),this.root.innerHTML=a,this.lines=new g,this.lineMap={},this.rebuild()},a.prototype.splitLine=function(a,b){var c,d,e,f;return b=Math.min(b,a.length-1),f=i(a.node).split(b,!0),c=f[0],d=f[1],a.node=c,a.rebuild(),e=this.insertLineBefore(d,a.next),e.formats=j.clone(a.formats),e.resetContent(),e},a.prototype.toDelta=function(){var a,b;return b=this.lines.toArray(),a=new c,b.forEach(function(b){return b.delta.ops.forEach(function(b){return a.push(b)})}),a},a}(),b.exports=d},{"../lib/dom":21,"../lib/linked-list":22,"../lib/normalizer":23,"./format":14,"./line":16,lodash:"M4+//f","rich-text":4}],13:[function(a,b){var c,d,e,f,g,h,i;i=a("lodash"),h=a("../lib/dom"),c=a("./document"),e=a("./line"),f=a("./renderer"),g=a("./selection"),d=function(){function a(a,b,d){this.iframeContainer=a,this.quill=b,this.options=null!=d?d:{},this.renderer=new f(this.iframeContainer,this.options),h(this.iframeContainer).on("focus",this.focus.bind(this)),this.root=this.renderer.root,this.doc=new c(this.root,this.options),this.delta=this.doc.toDelta(),this.selection=new g(this.doc,this.renderer.iframe,this.quill),this.timer=setInterval(i.bind(this.checkUpdate,this),this.options.pollInterval),this.options.readOnly||this.enable()}return a.sources={API:"api",SILENT:"silent",USER:"user"},a.prototype.disable=function(){return this.enable(!1)},a.prototype.enable=function(a){return null==a&&(a=!0),this.root.setAttribute("contenteditable",a)},a.prototype.applyDelta=function(b,c){var d;return d=this._update(),d&&(b=d.transform(b,!0),d=b.transform(d,!1)),b.ops.length>0&&(b=this._trackDelta(function(a){return function(){var c;return c=0,i.each(b.ops,function(b){return i.isString(b.insert)?(a._insertAt(c,b.insert,b.attributes),c+=b.insert.length):i.isNumber(b.insert)?(a._insertAt(c,h.EMBED_TEXT,b.attributes),c+=1):i.isNumber(b["delete"])?a._deleteAt(c,b["delete"]):i.isNumber(b.retain)?(i.each(b.attributes,function(d,e){return a._formatAt(c,b.retain,e,d)}),c+=b.retain):void 0}),a.selection.shiftAfter(0,0,i.bind(a.doc.optimizeLines,a.doc))}}(this)),this.delta=this.doc.toDelta(),this.innerHTML=this.root.innerHTML,b&&c!==a.sources.SILENT&&this.quill.emit(this.quill.constructor.events.TEXT_CHANGE,b,c)),d&&d.ops.length>0&&c!==a.sources.SILENT?this.quill.emit(this.quill.constructor.events.TEXT_CHANGE,d,a.sources.USER):void 0},a.prototype.checkUpdate=function(b){var c;return null==b&&(b="user"),null==this.renderer.iframe.parentNode||null==this.root.parentNode?clearInterval(this.timer):(c=this._update(),c&&(this.delta.compose(c),this.quill.emit(this.quill.constructor.events.TEXT_CHANGE,c,b)),c&&(b=a.sources.SILENT),this.selection.update(b))},a.prototype.focus=function(){return h.isIE(11)&&this.selection.setRange(this.selection.range),h.isIOS()&&this.renderer.iframe.focus(),this.root.focus()},a.prototype.getDelta=function(){return this.delta},a.prototype._deleteAt=function(a,b){return 0>=b?void 0:this.selection.shiftAfter(a,-1*b,function(c){return function(){var d,e,f,g,h,i,j;for(j=c.doc.findLineAt(a),f=j[0],i=j[1],d=f,g=f.length-i<=b&&i>0;null!=d&&b>0;)h=d.next,e=Math.min(d.length-i,b),0===i&&b>=d.length?c.doc.removeLine(d):d.deleteText(i,e),b-=e,d=h,i=0;return g&&f.next?c.doc.mergeLines(f,f.next):void 0}}(this))},a.prototype._formatAt=function(a,b,c,d){return this.selection.shiftAfter(a,0,function(e){return function(){var f,g,h,i,j;for(i=e.doc.findLineAt(a),g=i[0],h=i[1],j=[];null!=g&&b>0;)f=Math.min(b,g.length-h-1),g.formatText(h,f,c,d),b-=f,b>0&&g.format(c,d),b-=1,h=0,j.push(g=g.next);return j}}(this))},a.prototype._insertAt=function(a,b,c){return null==c&&(c={}),this.selection.shiftAfter(a,b.length,function(d){return function(){var e,f,g,j;return b=b.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),f=b.split("\n"),j=d.doc.findLineAt(a),e=j[0],g=j[1],i.each(f,function(a,b){var j;return null==e||e.length<=g?(b<f.length-1||a.length>0)&&(e=d.doc.appendLine(d.root.ownerDocument.createElement(h.DEFAULT_BLOCK_TAG)),g=0,e.insertText(g,a,c),e.format(c),j=null):(e.insertText(g,a,c),b<f.length-1&&(j=d.doc.splitLine(e,g+a.length),i.each(i.defaults({},c,e.formats),function(a,b){return e.format(b,c[b])}),g=0)),e=j})}}(this))},a.prototype._trackDelta=function(a){var b,c;return a(),c=this.doc.toDelta(),b=this.delta.diff(c)},a.prototype._update=function(){var a;return this.innerHTML===this.root.innerHTML?!1:(a=this._trackDelta(function(a){return function(){return a.selection.preserve(i.bind(a.doc.rebuild,a.doc)),a.selection.shiftAfter(0,0,i.bind(a.doc.optimizeLines,a.doc))}}(this)),this.innerHTML=this.root.innerHTML,a.ops.length>0?a:!1)},a}(),b.exports=d},{"../lib/dom":21,"./document":12,"./line":16,"./renderer":17,"./selection":18,lodash:"M4+//f"}],14:[function(a,b){var c,d,e;e=a("lodash"),d=a("../lib/dom"),c=function(){function a(a,b){this.document=a,this.config=b}return a.types={LINE:"line"},a.FORMATS={bold:{tag:"B",prepare:"bold"},italic:{tag:"I",prepare:"italic"},underline:{tag:"U",prepare:"underline"},strike:{tag:"S",prepare:"strikeThrough"},color:{style:"color","default":"rgb(0, 0, 0)",prepare:"foreColor"},background:{style:"backgroundColor","default":"rgb(255, 255, 255)",prepare:"backColor"},font:{style:"fontFamily","default":"'Helvetica', 'Arial', sans-serif",prepare:"fontName"},size:{style:"fontSize","default":"13px",prepare:function(a,b){return a.execCommand("fontSize",!1,d.convertFontSize(b))}},link:{tag:"A",attribute:"href"},image:{tag:"IMG",attribute:"src"},align:{type:a.types.LINE,style:"textAlign","default":"left"},bullet:{type:a.types.LINE,exclude:"list",parentTag:"UL",tag:"LI"},list:{type:a.types.LINE,exclude:"bullet",parentTag:"OL",tag:"LI"}},a.prototype.add=function(b,c){var f,g,h,i,j;return c?this.value(b)===c?b:(e.isString(this.config.parentTag)&&(h=this.document.createElement(this.config.parentTag),d(b).wrap(h),b.parentNode.tagName===(null!=(i=b.parentNode.previousSibling)?i.tagName:void 0)&&d(b.parentNode.previousSibling).merge(b.parentNode),b.parentNode.tagName===(null!=(j=b.parentNode.nextSibling)?j.tagName:void 0)&&d(b.parentNode).merge(b.parentNode.nextSibling)),e.isString(this.config.tag)&&(f=this.document.createElement(this.config.tag),null!=d.VOID_TAGS[f.tagName]?(null!=b.parentNode&&d(b).replace(f),b=f):this.isType(a.types.LINE)?b=d(b).switchTag(this.config.tag):(d(b).wrap(f),b=f)),(e.isString(this.config.style)||e.isString(this.config.attribute)||e.isString(this.config["class"]))&&(e.isString(this.config["class"])&&(b=this.remove(b)),d(b).isTextNode()&&(g=this.document.createElement(d.DEFAULT_INLINE_TAG),d(b).wrap(g),b=g),e.isString(this.config.style)&&c!==this.config["default"]&&(b.style[this.config.style]=c),e.isString(this.config.attribute)&&b.setAttribute(this.config.attribute,c),e.isString(this.config["class"])&&d(b).addClass(this.config["class"]+c)),b):this.remove(b)},a.prototype.isType=function(a){return a===this.config.type},a.prototype.match=function(a){var b,c,f,g,h;if(!d(a).isElement())return!1;if(e.isString(this.config.parentTag)&&(null!=(g=a.parentNode)?g.tagName:void 0)!==this.config.parentTag)return!1;if(e.isString(this.config.tag)&&a.tagName!==this.config.tag)return!1;if(e.isString(this.config.style)&&(!a.style[this.config.style]||a.style[this.config.style]===this.config["default"]))return!1;if(e.isString(this.config.attribute)&&!a.hasAttribute(this.config.attribute))return!1;if(e.isString(this.config["class"])){for(h=d(a).classes(),c=0,f=h.length;f>c;c++)if(b=h[c],0===b.indexOf(this.config["class"]))return!0;return!1}return!0},a.prototype.prepare=function(a){return e.isString(this.config.prepare)?this.document.execCommand(this.config.prepare,!1,a):e.isFunction(this.config.prepare)?this.config.prepare(this.document,a):void 0},a.prototype.remove=function(b){var c,f,g,h;if(!this.match(b))return b;if(e.isString(this.config.style)&&(b.style[this.config.style]="",b.getAttribute("style")||b.removeAttribute("style")),e.isString(this.config.attribute)&&b.removeAttribute(this.config.attribute),e.isString(this.config["class"])){for(h=d(b).classes(),f=0,g=h.length;g>f;f++)c=h[f],0===c.indexOf(this.config["class"])&&d(b).removeClass(c);b.getAttribute("class")||b.removeAttribute("class")}return e.isString(this.config.tag)&&(this.isType(a.types.LINE)?(e.isString(this.config.parentTag)&&(null!=b.previousSibling&&d(b).splitAncestors(b.parentNode.parentNode),null!=b.nextSibling&&d(b.nextSibling).splitAncestors(b.parentNode.parentNode)),b=d(b).switchTag(d.DEFAULT_BLOCK_TAG)):(b=d(b).switchTag(d.DEFAULT_INLINE_TAG),null!=d.EMBED_TAGS[this.config.tag]&&d(b).text(d.EMBED_TEXT))),e.isString(this.config.parentTag)&&d(b.parentNode).unwrap(),b.tagName!==d.DEFAULT_INLINE_TAG||b.hasAttributes()||(b=d(b).unwrap()),b},a.prototype.value=function(a){var b,c,f,g;if(!this.match(a))return void 0;if(e.isString(this.config.attribute))return a.getAttribute(this.config.attribute)||void 0;if(e.isString(this.config.style))return a.style[this.config.style]||void 0;if(e.isString(this.config["class"])){for(g=d(a).classes(),c=0,f=g.length;f>c;c++)if(b=g[c],0===b.indexOf(this.config["class"]))return b.slice(this.config["class"].length)}else if(e.isString(this.config.tag))return!0;return void 0},a}(),b.exports=c},{"../lib/dom":21,lodash:"M4+//f"}],15:[function(a,b){var c,d,e,f,g,h={}.hasOwnProperty,i=function(a,b){function c(){this.constructor=a}for(var d in b)h.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};g=a("lodash"),f=a("../lib/dom"),c=a("./format"),e=a("../lib/linked-list"),d=function(a){function b(a,c){this.node=a,this.formats=g.clone(c),this.id=g.uniqueId(b.ID_PREFIX),this.text=f(this.node).text(),this.length=this.text.length}return i(b,a),b.ID_PREFIX="leaf-",b.isLeafNode=function(a){return f(a).isTextNode()||null==a.firstChild},b.prototype.deleteText=function(a,b){var c;if(b>0)return this.text=this.text.slice(0,a)+this.text.slice(a+b),this.length=this.text.length,null!=f.EMBED_TAGS[this.node.tagName]?(c=this.node.ownerDocument.createTextNode(this.text),this.node=f(this.node).replace(c)):f(this.node).text(this.text)},b.prototype.insertText=function(a,b){var c;return this.text=this.text.slice(0,a)+b+this.text.slice(a),f(this.node).isTextNode()?f(this.node).text(this.text):(c=this.node.ownerDocument.createTextNode(b),this.node.tagName===f.DEFAULT_BREAK_TAG?this.node=f(this.node).replace(c):(this.node.appendChild(c),this.node=c)),this.length=this.text.length},b}(e.Node),b.exports=d},{"../lib/dom":21,"../lib/linked-list":22,"./format":14,lodash:"M4+//f"}],16:[function(a,b){var c,d,e,f,g,h,i,j,k={}.hasOwnProperty,l=function(a,b){function c(){this.constructor=a}for(var d in b)k.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};j=a("lodash"),c=a("rich-text").Delta,i=a("../lib/dom"),d=a("./format"),e=a("./leaf"),f=a("./line"),g=a("../lib/linked-list"),h=a("../lib/normalizer"),f=function(a){function b(a,c){this.doc=a,this.node=c,this.id=j.uniqueId(b.ID_PREFIX),this.formats={},i(this.node).addClass(b.CLASS_NAME),this.rebuild(),b.__super__.constructor.call(this,this.node)}return l(b,a),b.CLASS_NAME="line",b.ID_PREFIX="line-",b.prototype.buildLeaves=function(a,b){return j.each(i(a).childNodes(),function(a){return function(c){var f;return c=h.normalizeNode(c),f=j.clone(b),j.each(a.doc.formats,function(a,b){return!a.isType(d.types.LINE)&&a.match(c)?f[b]=a.value(c):void 0}),e.isLeafNode(c)?a.leaves.append(new e(c,f)):a.buildLeaves(c,f)}}(this))},b.prototype.deleteText=function(a,b){var c,d,e;if(b>0){for(e=this.findLeafAt(a),d=e[0],a=e[1];null!=d&&b>0;)c=Math.min(b,d.length-a),d.deleteText(a,c),b-=c,d=d.next,a=0;return this.rebuild()}},b.prototype.findLeaf=function(a){var b;for(b=this.leaves.first;null!=b;){if(b.node===a)return b;b=b.next}return null},b.prototype.findLeafAt=function(a,b){var c;if(null==b&&(b=!1),a>=this.length-1)return[this.leaves.last,this.leaves.last.length];for(c=this.leaves.first;null!=c;){if(a<c.length||a===c.length&&b)return[c,a];a-=c.length,c=c.next}return[this.leaves.last,a-this.leaves.last.length]},b.prototype.format=function(a,b){var c;return j.isObject(a)?c=a:(c={},c[a]=b),j.each(c,function(a){return function(b,c){var e,f;return f=a.doc.formats[c],f.isType(d.types.LINE)&&(f.config.exclude&&a.formats[f.config.exclude]&&(e=a.doc.formats[f.config.exclude],null!=e&&(a.node=e.remove(a.node),delete a.formats[f.config.exclude])),a.node=f.add(a.node,b)),b?a.formats[c]=b:delete a.formats[c]}}(this)),this.resetContent()},b.prototype.formatText=function(a,b,c,e){var f,g,h,j,k,l,m,n,o,p;if(n=this.findLeafAt(a),g=n[0],h=n[1],f=this.doc.formats[c],null!=f&&f.config.type!==d.types.LINE){for(;null!=g&&b>0;){if(k=g.next,e&&g.formats[c]!==e||!e&&null!=g.formats[c]){if(m=g.node,null!=g.formats[c])for(i(m).splitAncestors(this.node);!f.match(m);)m=m.parentNode;h>0&&(o=i(m).split(h),j=o[0],m=o[1]),g.length>h+b&&(p=i(m).split(b),m=p[0],l=p[1]),f.add(m,e)}b-=g.length-h,h=0,g=k}return this.rebuild()}},b.prototype.insertText=function(a,b,c){var d,e,f,g,h,k,l;return null==c&&(c={}),b.length>0?(k=this.findLeafAt(a),d=k[0],e=k[1],j.isEqual(d.formats,c)?(d.insertText(e,b),this.resetContent()):(g=j.reduce(c,function(a){return function(b,c,d){return a.doc.formats[d].add(b,c)
}}(this),this.node.ownerDocument.createTextNode(b)),l=i(d.node).split(e),h=l[0],f=l[1],f&&(f=i(f).splitAncestors(this.node).get()),this.node.insertBefore(g,f),this.rebuild())):void 0},b.prototype.optimize=function(){return h.optimizeLine(this.node),this.rebuild()},b.prototype.rebuild=function(a){return null==a&&(a=!1),!a&&null!=this.outerHTML&&this.outerHTML===this.node.outerHTML&&j.all(this.leaves.toArray(),function(a){return function(b){return i(b.node).isAncestor(a.node)}}(this))?!1:(this.node=h.normalizeNode(this.node),0!==i(this.node).length()||this.node.querySelector(i.DEFAULT_BREAK_TAG)||this.node.appendChild(this.node.ownerDocument.createElement(i.DEFAULT_BREAK_TAG)),this.leaves=new g,this.formats=j.reduce(this.doc.formats,function(a){return function(b,c,e){return c.isType(d.types.LINE)&&(c.match(a.node)?b[e]=c.value(a.node):delete b[e]),b}}(this),this.formats),this.buildLeaves(this.node,{}),this.resetContent(),!0)},b.prototype.resetContent=function(){return this.node.id!==this.id&&(this.node.id=this.id),this.outerHTML=this.node.outerHTML,this.length=1,this.delta=new c,this.leaves.toArray().forEach(function(a){return function(b){return a.length+=b.length,null!=i.EMBED_TAGS[b.node.tagName]?a.delta.insert(1,b.formats):a.delta.insert(b.text,b.formats)}}(this)),this.delta.insert("\n",this.formats)},b}(g.Node),b.exports=f},{"../lib/dom":21,"../lib/linked-list":22,"../lib/normalizer":23,"./format":14,"./leaf":15,"./line":16,lodash:"M4+//f","rich-text":4}],17:[function(a,b){var c,d,e,f,g,h,i;i=a("lodash"),g=a("../lib/dom"),e=a("../lib/normalizer"),c={html:{height:"100%",width:"100%"},body:{"box-sizing":"border-box",cursor:"text","font-family":"'Helvetica', 'Arial', sans-serif","font-size":"13px",height:"100%","line-height":"1.42",margin:"0px","overflow-x":"hidden","overflow-y":"auto",padding:"12px 15px"},".editor-container":{height:"100%",outline:"none",position:"relative","tab-size":"4","white-space":"pre-wrap"},".editor-container div":{margin:"0",padding:"0"},".editor-container a":{"text-decoration":"underline"},".editor-container b":{"font-weight":"bold"},".editor-container i":{"font-style":"italic"},".editor-container s":{"text-decoration":"line-through"},".editor-container u":{"text-decoration":"underline"},".editor-container img":{"max-width":"100%"},".editor-container blockquote":{margin:"0 0 0 2em",padding:"0"},".editor-container ol":{margin:"0 0 0 2em",padding:"0","list-style-type":"decimal"},".editor-container ul":{margin:"0 0 0 2em",padding:"0","list-style-type":"disc"}},d=["decimal","lower-alpha","lower-roman"],h=".editor-container ol > li",i.each([1,2,3,4,5,6,7,8,9],function(a){return h+=" > ol",c[h]={"list-style-type":d[a%3]},h+=" > li"}),g.isIE(10)&&(c[g.DEFAULT_BREAK_TAG]={display:"none"}),f=function(){function a(b,d){var e;this.container=b,this.options=null!=d?d:{},this.container.innerHTML="",e=a.buildFrame(this.container),this.root=e[0],this.iframe=e[1],this.root.setAttribute("id",this.options.id),this.iframe.setAttribute("name",this.options.id),g(this.root).addClass("editor-container"),g(this.container).addClass("ql-container"),g.isIOS()&&g(this.container).styles({overflow:"auto","-webkit-overflow-scrolling":"touch"}),this.addStyles(c),null!=this.options.styles&&i.defer(i.bind(this.addStyles,this,this.options.styles))}return a.objToCss=function(a){return i.map(a,function(a,b){var c;return c=i.map(a,function(a,b){return""+b+": "+a+";"}).join(" "),""+b+" { "+c+" }"}).join("\n")},a.buildFrame=function(a){var b,c,d;return b=a.ownerDocument.createElement("iframe"),g(b).attributes({frameBorder:"0",height:"100%",width:"100%",title:"Quill Rich Text Editor",role:"presentation"}),a.appendChild(b),c=b.contentWindow.document,c.open(),c.write("<!DOCTYPE html>"),c.close(),d=c.createElement("div"),c.body.appendChild(d),[d,b]},a.prototype.addContainer=function(a,b){var c,d;return null==b&&(b=!1),d=b?this.root:null,c=this.root.ownerDocument.createElement("div"),g(c).addClass(a),this.root.parentNode.insertBefore(c,d),c},a.prototype.addStyles=function(b){var c,d;return"object"==typeof b?(d=this.root.ownerDocument.createElement("style"),d.type="text/css",b=a.objToCss(b),d.appendChild(this.root.ownerDocument.createTextNode(b)),this.root.ownerDocument.head.appendChild(d)):"string"==typeof b?(c=this.root.ownerDocument.createElement("link"),g(c).attributes({type:"text/css",rel:"stylesheet",href:b}),this.root.ownerDocument.head.appendChild(c)):void 0},a}(),b.exports=f},{"../lib/dom":21,"../lib/normalizer":23,lodash:"M4+//f"}],18:[function(a,b){var c,d,e,f,g,h;h=a("lodash"),g=a("../lib/dom"),c=a("./leaf"),d=a("../lib/normalizer"),e=a("../lib/range"),f=function(){function a(a,b,c){this.doc=a,this.iframe=b,this.emitter=c,this.document=this.doc.root.ownerDocument,this.focus=!1,this.range=new e(0,0),this.nullDelay=!1,this.update("silent")}return a.prototype.checkFocus=function(){return this.document.activeElement===this.doc.root&&document.activeElement===this.iframe},a.prototype.getRange=function(a){var b,c,d;return null==a&&(a=!1),this.checkFocus()?(c=this._getNativeRange(),null==c?null:(d=this._positionToIndex(c.startContainer,c.startOffset),b=c.startContainer===c.endContainer&&c.startOffset===c.endOffset?d:this._positionToIndex(c.endContainer,c.endOffset),new e(Math.min(d,b),Math.max(d,b)))):a?this.range:null},a.prototype.preserve=function(a){var b,c,d,e,f,g,h,i,j;return d=this._getNativeRange(),null!=d&&this.checkFocus()?(g=this._encodePosition(d.startContainer,d.startOffset),e=g[0],f=g[1],h=this._encodePosition(d.endContainer,d.endOffset),b=h[0],c=h[1],a(),i=this._decodePosition(e,f),e=i[0],f=i[1],j=this._decodePosition(b,c),b=j[0],c=j[1],this._setNativeRange(e,f,b,c)):a()},a.prototype.setRange=function(a,b){var c,d,e,f,g,h,i;return null!=a?(g=this._indexToPosition(a.start),e=g[0],f=g[1],a.isCollapsed()?(h=[e,f],c=h[0],d=h[1]):(i=this._indexToPosition(a.end),c=i[0],d=i[1]),this._setNativeRange(e,f,c,d)):this._setNativeRange(null),this.update(b)},a.prototype.shiftAfter=function(a,b,c){var d;return d=this.getRange(),c(),null!=d?(d.shift(a,b),this.setRange(d,"silent")):void 0},a.prototype.update=function(a){var b,c,d,f;return c=this.checkFocus(),d=this.getRange(!0),b="silent"!==a&&(!e.compare(d,this.range)||c!==this.focus),f=c?d:null,null!==f||"user"!==a||this.nullDelay?(this.nullDelay=!1,this.range=d,this.focus=c,b?this.emitter.emit(this.emitter.constructor.events.SELECTION_CHANGE,f,a):void 0):this.nullDelay=!0},a.prototype._decodePosition=function(a,b){var c;return g(a).isElement()&&(c=h.indexOf(g(a.parentNode).childNodes(),a),b+=c,a=a.parentNode),[a,b]},a.prototype._encodePosition=function(a,b){for(var c;;){if(g(a).isTextNode()||a.tagName===g.DEFAULT_BREAK_TAG||null!=g.EMBED_TAGS[a.tagName])return[a,b];if(b<a.childNodes.length)a=a.childNodes[b],b=0;else{if(0===a.childNodes.length)return null==d.TAGS[a.tagName]&&(c=a.ownerDocument.createTextNode(""),a.appendChild(c),a=c),[a,0];if(a=a.lastChild,!g(a).isElement())return[a,g(a).length()];if(a.tagName===g.DEFAULT_BREAK_TAG||null!=g.EMBED_TAGS[a.tagName])return[a,1];b=a.childNodes.length}}},a.prototype._getNativeRange=function(){var a,b;return b=this.document.getSelection(),(null!=b?b.rangeCount:void 0)>0&&(a=b.getRangeAt(0),g(a.startContainer).isAncestor(this.doc.root,!0)&&(a.startContainer===a.endContainer||g(a.endContainer).isAncestor(this.doc.root,!0)))?a:null},a.prototype._indexToPosition=function(a){var b,c,d;return 0===this.doc.lines.length?[this.doc.root,0]:(d=this.doc.findLeafAt(a,!0),b=d[0],c=d[1],this._decodePosition(b.node,c))},a.prototype._positionToIndex=function(a,b){var c,d,e,f,g,h;if(h=this._encodePosition(a,b),d=h[0],b=h[1],f=this.doc.findLine(d),null==f)return 0;for(c=f.findLeaf(d),g=0;null!=f.prev;)f=f.prev,g+=f.length;if(null==c)return g;for(e=0;null!=c.prev;)c=c.prev,e+=c.length;return g+e+b},a.prototype._setNativeRange=function(a,b,c,d){var e,f;return(f=this.document.getSelection())?null==a?(f.removeAllRanges(),this.doc.root.blur()):(this.checkFocus()||this.doc.root.focus(),e=this._getNativeRange(),null!=e&&a===e.startContainer&&b===e.startOffset&&c===e.endContainer&&d===e.endOffset||(f.removeAllRanges(),e=this.document.createRange(),e.setStart(a,b),e.setEnd(c,d),f.addRange(e),this.checkFocus())?void 0:this.doc.root.focus()):void 0},a}(),b.exports=f},{"../lib/dom":21,"../lib/normalizer":23,"../lib/range":25,"./leaf":15,lodash:"M4+//f"}],19:[function(a,b){a("./modules/authorship"),a("./modules/image-tooltip"),a("./modules/keyboard"),a("./modules/link-tooltip"),a("./modules/multi-cursor"),a("./modules/paste-manager"),a("./modules/toolbar"),a("./modules/tooltip"),a("./modules/undo-manager"),b.exports=a("./quill")},{"./modules/authorship":26,"./modules/image-tooltip":27,"./modules/keyboard":28,"./modules/link-tooltip":29,"./modules/multi-cursor":30,"./modules/paste-manager":31,"./modules/toolbar":32,"./modules/tooltip":33,"./modules/undo-manager":34,"./quill":35}],20:[function(a,b){var c,d,e,f={}.hasOwnProperty,g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};e=a("./dom"),d=a("./picker"),c=function(a){function b(){b.__super__.constructor.apply(this,arguments),e(this.container).addClass("ql-color-picker")}return g(b,a),b.prototype.buildItem=function(a,c,d){var e;return e=b.__super__.buildItem.call(this,a,c,d),e.style.backgroundColor=c.value,e},b}(d),b.exports=c},{"./dom":21,"./picker":24}],21:[function(a,b){var c,d,e,f,g,h=function(a,b){return function(){return a.apply(b,arguments)}},i={}.hasOwnProperty,j=function(a,b){function c(){this.constructor=a}for(var d in b)i.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};g=a("lodash"),f=null,d=function(){function a(a){this.node=a,this.trigger=h(this.trigger,this)}return a.prototype.addClass=function(a){return this.hasClass(a)?void 0:(null!=this.node.classList?this.node.classList.add(a):null!=this.node.className&&(this.node.className=(this.node.className+" "+a).trim()),this)},a.prototype.attributes=function(a){var b,c,d,e,f,h;if(a)return g.each(a,function(a){return function(b,c){return a.node.setAttribute(c,b)}}(this)),this;if(null==this.node.attributes)return{};for(a={},h=this.node.attributes,c=e=0,f=h.length;f>e;c=++e)d=h[c],b=this.node.attributes[c],a[b.name]=b.value;return a},a.prototype.child=function(a){var b,c;for(b=this.node.firstChild,c=e(b).length();null!=b&&!(c>a);)a-=c,b=b.nextSibling,c=e(b).length();return null==b&&(b=this.node.lastChild,a=e(b).length()),[b,a]},a.prototype.childNodes=function(){return g.map(this.node.childNodes)},a.prototype.classes=function(){return this.node.className.split(/\s+/)},a.prototype.descendants=function(){return g.map(this.node.getElementsByTagName("*"))},a.prototype.get=function(){return this.node},a.prototype.hasClass=function(a){return null!=this.node.classList?this.node.classList.contains(a):null!=this.node.className?g.indexOf(this.classes(),a)>-1:!1},a.prototype.isAncestor=function(a,b){var c;if(null==b&&(b=!1),a===this.node)return b;for(c=this.node;c;){if(c===a)return!0;c=c.parentNode}return!1},a.prototype.isElement=function(){var a;return(null!=(a=this.node)?a.nodeType:void 0)===e.ELEMENT_NODE},a.prototype.isTextNode=function(){var a;return(null!=(a=this.node)?a.nodeType:void 0)===e.TEXT_NODE},a.prototype.length=function(){var a;return null==this.node?0:(a=this.text().length,this.isElement()&&(a+=this.node.querySelectorAll(g.keys(e.EMBED_TAGS).join(",")).length),a)},a.prototype.merge=function(a){var b;return b=e(a),this.isElement()?(b.moveChildren(this.node),this.normalize()):this.text(this.text()+b.text()),b.remove(),this},a.prototype.moveChildren=function(a){return g.each(this.childNodes(),function(b){return a.appendChild(b)}),this},a.prototype.nextLineNode=function(a){var b;return b=this.node.nextSibling,null==b&&this.node.parentNode!==a&&(b=this.node.parentNode.nextSibling),null!=b&&null!=e.LIST_TAGS[b.tagName]&&(b=b.firstChild),b},a.prototype.normalize=function(){var a,b,c,d;for(b=this.node.firstChild;null!=b;)d=b.nextSibling,a=e(b),null!=d&&e(d).isTextNode()&&(0===a.text().length?a.remove():a.isTextNode()&&(c=d.nextSibling,a.merge(d),d=c)),b=d;return this},a.prototype.on=function(a,b){return this.node.addEventListener(a,function(c){return function(d){var e,g;return e=!f||"keydown"!==a&&"keyup"!==a?d:f,g=b.call(c.node,e),g||(d.preventDefault(),d.stopPropagation()),g}}(this)),this},a.prototype.remove=function(){var a;return null!=(a=this.node.parentNode)&&a.removeChild(this.node),this.node=null,null},a.prototype.removeClass=function(a){var b;if(this.hasClass(a))return null!=this.node.classList?this.node.classList.remove(a):(null!=this.node.className&&(b=this.classes(),b.splice(g.indexOf(b,a),1),this.node.className=b.join(" ")),this)},a.prototype.replace=function(a){return this.node.parentNode.replaceChild(a,this.node),this.node=a,a},a.prototype.splitAncestors=function(a,b){var c,d,f,g;if(null==b&&(b=!1),this.node===a||this.node.parentNode===a)return this;if(null!=this.node.previousSibling||b){for(f=this.node.parentNode,d=f.cloneNode(!1),f.parentNode.insertBefore(d,f.nextSibling),g=this.node;null!=g;)c=g.nextSibling,d.appendChild(g),g=c;return e(d).splitAncestors(a)}return e(this.node.parentNode).splitAncestors(a)},a.prototype.split=function(a,b){var c,d,f,g,h,i,j,k,l,m;if(null==b&&(b=!1),j=this.length(),a=Math.max(0,a),a=Math.min(a,j),!b&&0===a)return[this.node.previousSibling,this.node,!1];if(!b&&a===j)return[this.node,this.node.nextSibling,!1];if(this.node.nodeType===e.TEXT_NODE)return c=this.node.splitText(a),[this.node,c,!0];for(h=this.node,k=this.node.cloneNode(!1),this.node.parentNode.insertBefore(k,h.nextSibling),l=this.child(a),d=l[0],a=l[1],m=e(d).split(a),f=m[0],g=m[1];null!==g;)i=g.nextSibling,k.appendChild(g),g=i;return[h,k,!0]},a.prototype.styles=function(a,b){var c,d;return null==b&&(b=!1),a?(b||(a=g.defaults(a,this.styles())),d=g.map(a,function(a,b){return""+b+": "+a}).join("; ")+";",this.node.setAttribute("style",d),this):(d=this.node.getAttribute("style")||"",c=g.reduce(d.split(";"),function(a,b){var c,d,e;return e=b.split(":"),c=e[0],d=e[1],c&&d&&(c=c.trim(),d=d.trim(),a[c.toLowerCase()]=d),a},{}))},a.prototype.switchTag=function(a){var b,c;return a=a.toUpperCase(),this.node.tagName===a?this:(c=this.node.ownerDocument.createElement(a),b=this.attributes(),null==e.VOID_TAGS[a]&&this.moveChildren(c),this.replace(c),this.attributes(b).get())},a.prototype.text=function(a){if(null!=a){switch(this.node.nodeType){case e.ELEMENT_NODE:this.node.textContent=a;break;case e.TEXT_NODE:this.node.data=a}return this}switch(this.node.nodeType){case e.ELEMENT_NODE:return this.node.tagName===e.DEFAULT_BREAK_TAG?"":null!=e.EMBED_TAGS[this.node.tagName]?e.EMBED_TEXT:null!=this.node.textContent?this.node.textContent:"";case e.TEXT_NODE:return this.node.data||"";default:return""}},a.prototype.textNodes=function(){var a,b,c;for(c=this.node.ownerDocument.createTreeWalker(this.node,NodeFilter.SHOW_TEXT,null,!1),b=[];a=c.nextNode();)b.push(a);return b},a.prototype.toggleClass=function(a,b){return null==b&&(b=!this.hasClass(a)),b?this.addClass(a):this.removeClass(a),this},a.prototype.trigger=function(a,b){var c,d,h;return null==b&&(b={}),g.indexOf(["keypress","keydown","keyup"],a)<0?(c=this.node.ownerDocument.createEvent("Event"),c.initEvent(a,b.bubbles,b.cancelable)):(c=this.node.ownerDocument.createEvent("KeyboardEvent"),f=g.clone(b),f.which=g.isNumber(b.key)?b.key:g.isString(b.key)?b.key.toUpperCase().charCodeAt(0):0,e.isIE(10)?(h=[],b.altKey&&h.push("Alt"),b.ctrlKey&&h.push("Control"),b.metaKey&&h.push("Meta"),b.shiftKey&&h.push("Shift"),c.initKeyboardEvent(a,b.bubbles,b.cancelable,this.window(),0,0,h.join(" "),null,null)):(d=g.isFunction(c.initKeyboardEvent)?"initKeyboardEvent":"initKeyEvent",c[d](a,b.bubbles,b.cancelable,this.window(),b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,0,0))),this.node.dispatchEvent(c),f=null,this},a.prototype.unwrap=function(){var a,b;return b=this.node.firstChild,a=this.node.nextSibling,g.each(this.childNodes(),function(b){return function(c){return b.node.parentNode.insertBefore(c,a)}}(this)),this.remove(),b},a.prototype.window=function(){return this.node.ownerDocument.defaultView||this.node.ownerDocument.parentWindow},a.prototype.wrap=function(a){var b;for(null!=this.node.parentNode&&this.node.parentNode.insertBefore(a,this.node),b=a;null!=b.firstChild;)b=a.firstChild;return b.appendChild(this.node),this},a}(),c=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return j(b,a),b.prototype["default"]=function(){return this.node.querySelector("option[selected]")},b.prototype.option=function(a,b){var c,d,e,f,h,i;if(null==b&&(b=!0),e=g.isElement(a)?a.value:a){for(e=e.replace(/[^\w]+/g,""),i=this.node.children,d=f=0,h=i.length;h>f;d=++f)if(c=i[d],c.value.replace(/[^\w]+/g,"")===e){this.node.selectedIndex=d;break}}else this.node.selectedIndex=-1;return b&&this.trigger("change"),this},b.prototype.reset=function(a){var b;return null==a&&(a=!0),b=this["default"](),null!=b?b.selected=!0:this.node.selectedIndex=0,a&&this.trigger("change"),this},b.prototype.value=function(){return this.node.selectedIndex>-1?this.node.options[this.node.selectedIndex].value:""},b}(d),e=function(a){return"SELECT"===(null!=a?a.tagName:void 0)?new c(a):new d(a)},e=g.extend(e,{ELEMENT_NODE:1,NOBREAK_SPACE:"&nbsp;",TEXT_NODE:3,ZERO_WIDTH_NOBREAK_SPACE:"﻿",DEFAULT_BLOCK_TAG:"DIV",DEFAULT_BREAK_TAG:"BR",DEFAULT_INLINE_TAG:"SPAN",EMBED_TEXT:"!",FONT_SIZES:{"10px":1,"13px":2,"16px":3,"18px":4,"24px":5,"32px":6,"48px":7},KEYS:{BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},BLOCK_TAGS:{ADDRESS:"ADDRESS",ARTICLE:"ARTICLE",ASIDE:"ASIDE",AUDIO:"AUDIO",BLOCKQUOTE:"BLOCKQUOTE",CANVAS:"CANVAS",DD:"DD",DIV:"DIV",DL:"DL",FIGCAPTION:"FIGCAPTION",FIGURE:"FIGURE",FOOTER:"FOOTER",FORM:"FORM",H1:"H1",H2:"H2",H3:"H3",H4:"H4",H5:"H5",H6:"H6",HEADER:"HEADER",HGROUP:"HGROUP",LI:"LI",OL:"OL",OUTPUT:"OUTPUT",P:"P",PRE:"PRE",SECTION:"SECTION",TABLE:"TABLE",TBODY:"TBODY",TD:"TD",TFOOT:"TFOOT",TH:"TH",THEAD:"THEAD",TR:"TR",UL:"UL",VIDEO:"VIDEO"},EMBED_TAGS:{IMG:"IMG"},LINE_TAGS:{DIV:"DIV",LI:"LI"},LIST_TAGS:{OL:"OL",UL:"UL"},VOID_TAGS:{AREA:"AREA",BASE:"BASE",BR:"BR",COL:"COL",COMMAND:"COMMAND",EMBED:"EMBED",HR:"HR",IMG:"IMG",INPUT:"INPUT",KEYGEN:"KEYGEN",LINK:"LINK",META:"META",PARAM:"PARAM",SOURCE:"SOURCE",TRACK:"TRACK",WBR:"WBR"},convertFontSize:function(a){var b,c,d,f;g.isString(a)&&a.indexOf("px")>-1?(d=g.keys(e.FONT_SIZES),f=g.values(e.FONT_SIZES)):(f=g.keys(e.FONT_SIZES),d=g.values(e.FONT_SIZES));for(b in d)if(c=d[b],parseInt(a)<=parseInt(c))return f[b];return g.last(f)},isIE:function(a){var b;return b=document.documentMode,b&&a>=b},isIOS:function(){return/iPhone|iPad/i.test(navigator.userAgent)},isMac:function(){return/Mac/i.test(navigator.platform)}}),b.exports=e},{lodash:"M4+//f"}],22:[function(a,b){var c,d;d=function(){function a(a){this.data=a,this.prev=this.next=null}return a}(),c=function(){function a(){this.length=0,this.first=this.last=null}return a.Node=d,a.prototype.append=function(a){return null!=this.first?(a.next=null,this.last.next=a):this.first=a,a.prev=this.last,this.last=a,this.length+=1},a.prototype.insertAfter=function(a,b){return b.prev=a,null!=a?(b.next=a.next,null!=a.next&&(a.next.prev=b),a.next=b,a===this.last&&(this.last=b)):(b.next=this.first,this.first.prev=b,this.first=b),this.length+=1},a.prototype.remove=function(a){return this.length>1?(null!=a.prev&&(a.prev.next=a.next),null!=a.next&&(a.next.prev=a.prev),a===this.first&&(this.first=a.next),a===this.last&&(this.last=a.prev)):this.first=this.last=null,a.prev=a.next=null,this.length-=1},a.prototype.toArray=function(){var a,b;for(a=[],b=this.first;null!=b;)a.push(b),b=b.next;return a},a}(),b.exports=c},{}],23:[function(a,b){var c,d,e;e=a("lodash"),d=a("./dom"),c={ALIASES:{STRONG:"B",EM:"I",DEL:"S",STRIKE:"S"},ATTRIBUTES:{color:"color",face:"fontFamily",size:"fontSize"},STYLES:{"background-color":"background-color",color:"color","font-family":"font-family","font-size":"font-size","text-align":"text-align"},TAGS:{DIV:"DIV",BR:"BR",SPAN:"SPAN",B:"B",I:"I",S:"S",U:"U",A:"A",IMG:"IMG",OL:"OL",UL:"UL",LI:"LI"},handleBreaks:function(a){var b;return b=e.map(a.querySelectorAll(d.DEFAULT_BREAK_TAG)),e.each(b,function(){return function(b){return null==b.nextSibling||d.isIE(10)&&null==b.previousSibling?void 0:d(b.nextSibling).splitAncestors(a.parentNode)}}(this)),a},normalizeLine:function(a){return a=c.wrapInline(a),a=c.handleBreaks(a),a=c.pullBlocks(a),a=c.normalizeNode(a),c.unwrapText(a),null!=a&&null!=d.LIST_TAGS[a.tagName]&&(a=a.firstChild),a},normalizeNode:function(a){return d(a).isTextNode()?a:(e.each(c.ATTRIBUTES,function(b,c){var e;return a.hasAttribute(c)?(e=a.getAttribute(c),"size"===c&&(e=d.convertFontSize(e)),a.style[b]=e,a.removeAttribute(c)):void 0}),c.whitelistStyles(a),c.whitelistTags(a))},optimizeLine:function(a){var b,c,f,g;for(b=d(a).length(),f=d(a).descendants(),g=[];f.length>0;)c=f.pop(),null!=(null!=c?c.parentNode:void 0)&&null==d.EMBED_TAGS[c.tagName]&&(c.tagName===d.DEFAULT_BREAK_TAG?g.push(0!==b?d(c).remove():void 0):0===d(c).length()?(f.push(c.nextSibling),g.push(d(c).unwrap())):null!=c.previousSibling&&c.tagName===c.previousSibling.tagName&&e.isEqual(d(c).attributes(),d(c.previousSibling).attributes())?(f.push(c.firstChild),g.push(d(c.previousSibling).merge(c))):g.push(void 0));return g},pullBlocks:function(a){var b;for(b=a.firstChild;null!=b;){if(null!=d.BLOCK_TAGS[b.tagName]&&"LI"!==b.tagName){null!=b.previousSibling&&d(b).splitAncestors(a.parentNode),null!=b.nextSibling&&d(b.nextSibling).splitAncestors(a.parentNode),null!=d.LIST_TAGS[b.tagName]&&b.firstChild?(d(b.parentNode).unwrap(),null==a.parentNode&&(a=b)):(d(b).unwrap(),c.pullBlocks(a));break}b=b.nextSibling}return a},stripComments:function(a){return a.replace(/<!--[\s\S]*?-->/g,"")},stripWhitespace:function(a){return a=a.replace(/^\s+/,"").replace(/\s+$/,""),a=a.replace(/^\s+/,"").replace(/\s+$/,""),a=a.replace(/(\r?\n|\r)+/g," "),a=a.replace(/\>\s+\</g,"><")},whitelistStyles:function(a){var b,f;return b=d(a).styles(),f=e.omit(b,function(a,b){return null==c.STYLES[b]}),e.keys(f).length<e.keys(b).length?e.keys(f).length>0?d(a).styles(f,!0):a.removeAttribute("style"):void 0},whitelistTags:function(a){return d(a).isElement()?(null!=c.ALIASES[a.tagName]?a=d(a).switchTag(c.ALIASES[a.tagName]):null==c.TAGS[a.tagName]&&(a=null!=d.BLOCK_TAGS[a.tagName]?d(a).switchTag(d.DEFAULT_BLOCK_TAG):a.hasAttributes()||null==a.firstChild?d(a).switchTag(d.DEFAULT_INLINE_TAG):d(a).unwrap()),a):a},wrapInline:function(a){var b,c;if(null!=d.BLOCK_TAGS[a.tagName])return a;for(b=a.ownerDocument.createElement(d.DEFAULT_BLOCK_TAG),a.parentNode.insertBefore(b,a);null!=a&&null==d.BLOCK_TAGS[a.tagName];)c=a.nextSibling,b.appendChild(a),a=c;return b},unwrapText:function(a){var b;return b=e.map(a.querySelectorAll(d.DEFAULT_INLINE_TAG)),e.each(b,function(a){return a.hasAttributes()?void 0:d(a).unwrap()})}},b.exports=c},{"./dom":21,lodash:"M4+//f"}],24:[function(a,b){var c,d,e,f;f=a("lodash"),e=a("./dom"),c=a("./normalizer"),d=function(){function a(a){this.select=a,this.container=this.select.ownerDocument.createElement("span"),this.buildPicker(),e(this.container).addClass("ql-picker"),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),e(this.select.ownerDocument).on("click",function(a){return function(){return a.close(),!0}}(this)),e(this.label).on("click",function(a){return function(){return f.defer(function(){return e(a.container).toggleClass("ql-expanded")}),!1}}(this)),e(this.select).on("change",function(a){return function(){var b,c;return a.select.selectedIndex>-1&&(b=a.container.querySelectorAll(".ql-picker-item")[a.select.selectedIndex],c=a.select.options[a.select.selectedIndex]),a.selectItem(b,!1),e(a.label).toggleClass("ql-active",c!==e(a.select)["default"]())}}(this))}return a.TEMPLATE='<span class="ql-picker-label"></span><span class="ql-picker-options"></span>',a.prototype.buildItem=function(a,b,c){var d;return d=this.select.ownerDocument.createElement("span"),d.setAttribute("data-value",b.getAttribute("value")),e(d).addClass("ql-picker-item").text(e(b).text()).on("click",function(a){return function(){return a.selectItem(d,!0),a.close()}}(this)),this.select.selectedIndex===c&&this.selectItem(d,!1),d},a.prototype.buildPicker=function(){var b;return f.each(e(this.select).attributes(),function(a){return function(b,c){return a.container.setAttribute(c,b)}}(this)),this.container.innerHTML=c.stripWhitespace(a.TEMPLATE),this.label=this.container.querySelector(".ql-picker-label"),b=this.container.querySelector(".ql-picker-options"),f.each(this.select.options,function(a){return function(c,d){var e;return e=a.buildItem(b,c,d),b.appendChild(e)}}(this))},a.prototype.close=function(){return e(this.container).removeClass("ql-expanded")},a.prototype.selectItem=function(a,b){var c,d;return c=this.container.querySelector(".ql-selected"),null!=c&&e(c).removeClass("ql-selected"),null!=a?(d=a.getAttribute("data-value"),e(a).addClass("ql-selected"),e(this.label).text(e(a).text()),e(this.select).option(d,b),this.label.setAttribute("data-value",d)):(this.label.innerHTML="&nbsp;",this.label.removeAttribute("data-value"))},a}(),b.exports=d},{"./dom":21,"./normalizer":23,lodash:"M4+//f"}],25:[function(a,b){var c,d;d=a("lodash"),c=function(){function a(a,b){this.start=a,this.end=b}return a.compare=function(a,b){return a===b?!0:null==a||null==b?!1:a.equals(b)},a.prototype.equals=function(a){return null==a?!1:this.start===a.start&&this.end===a.end},a.prototype.shift=function(a,b){var c;return c=d.map([this.start,this.end],function(c){return a>c?c:b>=0?c+b:Math.max(a,c+b)}),this.start=c[0],this.end=c[1],c},a.prototype.isCollapsed=function(){return this.start===this.end},a}(),b.exports=c},{lodash:"M4+//f"}],26:[function(a,b){var c,d,e,f,g;e=a("../quill"),g=e.require("lodash"),f=e.require("dom"),d=e.require("delta"),c=function(){function a(a,b){this.quill=a,this.options=b,null!=this.options.button&&this.attachButton(this.options.button),this.options.enabled&&this.enable(),this.quill.addFormat("author",{"class":"author-"}),null!=this.options.authorId&&(this.quill.on(this.quill.constructor.events.PRE_EVENT,function(a){return function(b,c,f){var h,i;return b===a.quill.constructor.events.TEXT_CHANGE&&"user"===f?(h=new d,i={author:a.options.authorId},g.each(c.ops,function(b){return null==b["delete"]?null!=b.insert||null!=b.retain&&null!=b.attributes?(b.attributes||(b.attributes={}),b.attributes.author=a.options.authorId,h.retain(b.retain||b.insert.length||1,i)):h.retain(b.retain):void 0}),a.quill.updateContents(h,e.sources.SILENT)):void 0}}(this)),this.addAuthor(this.options.authorId,this.options.color))}return a.DEFAULTS={authorId:null,color:"transparent",enabled:!1},a.prototype.addAuthor=function(a,b){var c;return c={},c[".authorship .author-"+a]={"background-color":""+b},this.quill.addStyles(c)},a.prototype.attachButton=function(a){var b;return b=f(a),b.on("click",function(a){return function(){return b.toggleClass("ql-on"),a.enable($dom.hasClass("ql-on"))}}(this))},a.prototype.enable=function(a){return null==a&&(a=!0),f(this.quill.root).toggleClass("authorship",a)},a.prototype.disable=function(){return this.enable(!1)},a}(),e.registerModule("authorship",c),b.exports=c},{"../quill":35}],27:[function(a,b){var c,d,e,f,g,h,i={}.hasOwnProperty,j=function(a,b){function c(){this.constructor=a}for(var d in b)i.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};e=a("../quill"),f=a("./tooltip"),h=e.require("lodash"),g=e.require("dom"),c=e.require("delta"),d=function(a){function b(a,c){this.quill=a,this.options=c,this.options.styles=h.defaults(this.options.styles,f.DEFAULTS.styles),this.options=h.defaults(this.options,f.DEFAULTS),b.__super__.constructor.call(this,this.quill,this.options),this.preview=this.container.querySelector(".preview"),this.textbox=this.container.querySelector(".input"),g(this.container).addClass("image-tooltip-container"),this.initListeners()}return j(b,a),b.DEFAULTS={styles:{".image-tooltip-container":{margin:"25px",padding:"10px",width:"300px"},".image-tooltip-container:after":{clear:"both",content:'""',display:"table"},".image-tooltip-container .preview":{margin:"10px 0px",position:"relative",border:"1px dashed #000",height:"200px"},".image-tooltip-container .preview span":{display:"inline-block",position:"absolute","text-align":"center",top:"40%",width:"100%"},".image-tooltip-container img":{bottom:"0",left:"0",margin:"auto","max-height":"100%","max-width":"100%",position:"absolute",right:"0",top:"0"},".image-tooltip-container .input":{"box-sizing":"border-box",width:"100%"},".image-tooltip-container a":{border:"1px solid black","box-sizing":"border-box",display:"inline-block","float":"left",padding:"5px","text-align":"center",width:"50%"}},template:'<input class="input" type="textbox"> <div class="preview"> <span>Preview</span> </div> <a href="javascript:;" class="cancel">Cancel</a> <a href="javascript:;" class="insert">Insert</a>'},b.prototype.initListeners=function(){return g(this.container.querySelector(".insert")).on("click",h.bind(this.insertImage,this)),g(this.container.querySelector(".cancel")).on("click",h.bind(this.hide,this)),g(this.textbox).on("input",h.bind(this._preview,this)),this.initTextbox(this.textbox,this.insertImage,this.hide),this.quill.onModuleLoad("toolbar",function(a){return function(b){return b.initFormat("image",h.bind(a._onToolbar,a))}}(this))},b.prototype.insertImage=function(){var a,b;return b=this._normalizeURL(this.textbox.value),null==this.range&&(this.range=new Range(0,0)),this.range&&(this.preview.innerHTML="<span>Preview</span>",this.textbox.value="",a=this.range.end,this.quill.insertEmbed(a,"image",b,"user"),this.quill.setSelection(a+1,a+1)),this.hide()},b.prototype._onToolbar=function(a,b){return b?(this.textbox.value||(this.textbox.value="http://"),this.show(),this.textbox.focus(),h.defer(function(a){return function(){return a.textbox.setSelectionRange(a.textbox.value.length,a.textbox.value.length)}}(this))):this.quill.deleteText(a,"user")},b.prototype._preview=function(){var a;if(this._matchImageURL(this.textbox.value))return"IMG"===this.preview.firstChild.tagName?this.preview.firstChild.setAttribute("src",this.textbox.value):(a=this.preview.ownerDocument.createElement("img"),a.setAttribute("src",this.textbox.value),this.preview.replaceChild(a,this.preview.firstChild))},b.prototype._matchImageURL=function(a){return/^https?:\/\/.+\.(jp?g|gif|png)$/.test(a)},b.prototype._normalizeURL=function(a){return/^https?:\/\//.test(a)||(a="http://"+a),a},b}(f),e.registerModule("image-tooltip",d),b.exports=d},{"../quill":35,"./tooltip":33}],28:[function(a,b){var c,d,e,f,g;e=a("../quill"),g=e.require("lodash"),f=e.require("dom"),c=e.require("delta"),d=function(){function a(a){this.quill=a,this.hotkeys={},this._initListeners(),this._initHotkeys(),this._initDeletes()}return a.hotkeys={BOLD:{key:"B",metaKey:!0},INDENT:{key:f.KEYS.TAB},ITALIC:{key:"I",metaKey:!0},OUTDENT:{key:f.KEYS.TAB,shiftKey:!0},UNDERLINE:{key:"U",metaKey:!0}},a.prototype.addHotkey=function(a,b){return g.isArray(a)||(a=[a]),g.each(a,function(a){return function(c){var d,e;return c=g.isObject(c)?g.clone(c):{key:c},c.callback=b,d=g.isNumber(c.key)?c.key:c.key.toUpperCase().charCodeAt(0),null==(e=a.hotkeys)[d]&&(e[d]=[]),a.hotkeys[d].push(c)}}(this))},a.prototype.toggleFormat=function(a,b){var c,d,e;return c=a.isCollapsed()?this.quill.getContents(Math.max(0,a.start-1),a.end):this.quill.getContents(a),e=0===c.ops.length||!g.all(c.ops,function(a){var c;return null!=(c=a.attributes)?c[b]:void 0}),a.isCollapsed()?this.quill.prepareFormat(b,e):this.quill.formatText(a,b,e,"user"),d=this.quill.getModule("toolbar"),null!=d?d.setActive(b,e):void 0},a.prototype._initDeletes=function(){return this.addHotkey([f.KEYS.DELETE,f.KEYS.BACKSPACE],function(a){return function(){return a.quill.getLength()>1
}}(this))},a.prototype._initHotkeys=function(){return this.addHotkey(a.hotkeys.INDENT,function(a){return function(b){return a._onTab(b,!1),!1}}(this)),this.addHotkey(a.hotkeys.OUTDENT,function(){return function(){return!1}}(this)),g.each(["bold","italic","underline"],function(b){return function(c){return b.addHotkey(a.hotkeys[c.toUpperCase()],function(a){return b.toggleFormat(a,c),!1})}}(this))},a.prototype._initListeners=function(){return f(this.quill.root).on("keydown",function(a){return function(b){var c;return c=!1,g.each(a.hotkeys[b.which],function(d){var e;return e=f.isMac()?b.metaKey:b.metaKey||b.ctrlKey,!!d.metaKey==!!e&&!!d.shiftKey==!!b.shiftKey&&!!d.altKey==!!b.altKey?(c=d.callback(a.quill.getSelection())===!1||c,!0):void 0}),!c}}(this))},a.prototype._onTab=function(a,b){var d;return null==b&&(b=!1),d=(new c).retain(a.start).insert("	")["delete"](a.end-a.start).retain(this.quill.getLength()-a.end),this.quill.updateContents(d),this.quill.setSelection(a.start+1,a.start+1)},a}(),e.registerModule("keyboard",d),b.exports=d},{"../quill":35}],29:[function(a,b){var c,d,e,f,g,h={}.hasOwnProperty,i=function(a,b){function c(){this.constructor=a}for(var d in b)h.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=a("../quill"),e=a("./tooltip"),g=d.require("lodash"),f=d.require("dom"),c=function(a){function b(a,c){this.quill=a,this.options=c,this.options.styles=g.defaults(this.options.styles,e.DEFAULTS.styles),this.options=g.defaults(this.options,e.DEFAULTS),b.__super__.constructor.call(this,this.quill,this.options),f(this.container).addClass("link-tooltip-container"),this.textbox=this.container.querySelector(".input"),this.link=this.container.querySelector(".url"),this.initListeners()}return i(b,a),b.DEFAULTS={maxLength:50,styles:{".link-tooltip-container":{padding:"5px 10px"},".link-tooltip-container input.input":{width:"170px"},".link-tooltip-container input.input, .link-tooltip-container a.done, .link-tooltip-container.editing a.url, .link-tooltip-container.editing a.change":{display:"none"},".link-tooltip-container.editing input.input, .link-tooltip-container.editing a.done":{display:"inline-block"}},template:'<span class="title">Visit URL:&nbsp;</span> <a href="#" class="url" target="_blank" href="about:blank"></a> <input class="input" type="text"> <span>&nbsp;&#45;&nbsp;</span> <a href="javascript:;" class="change">Change</a> <a href="javascript:;" class="done">Done</a>'},b.prototype.initListeners=function(){return this.quill.on(this.quill.constructor.events.SELECTION_CHANGE,function(a){return function(b){var c;if(null!=b&&b.isCollapsed())return c=a._findAnchor(b),c?(a.setMode(c.href,!1),a.show(c)):(a.range=null,a.hide())}}(this)),f(this.container.querySelector(".done")).on("click",g.bind(this.saveLink,this)),f(this.container.querySelector(".change")).on("click",function(a){return function(){return a.setMode(a.link.href,!0)}}(this)),this.initTextbox(this.textbox,this.saveLink,this.hide),this.quill.onModuleLoad("toolbar",function(a){return function(b){return b.initFormat("link",g.bind(a._onToolbar,a))}}(this))},b.prototype.saveLink=function(){var a,b;return b=this._normalizeURL(this.textbox.value),null!=this.range&&(this.range.isCollapsed()?(a=this._findAnchor(this.range),null!=a&&(a.href=b)):this.quill.formatText(this.range,"link",b,"user")),this.setMode(b,!1)},b.prototype.setMode=function(a,b){var c;return null==b&&(b=!1),b?(this.textbox.value=a,g.defer(function(b){return function(){return b.textbox.focus(),b.textbox.setSelectionRange(a.length,a.length)}}(this))):(this.link.href=a,c=a.length>this.options.maxLength?a.slice(0,this.options.maxLength)+"...":a,f(this.link).text(c)),f(this.container).toggleClass("editing",b)},b.prototype._findAnchor=function(a){var b,c,d,e;for(e=this.quill.editor.doc.findLeafAt(a.start,!0),b=e[0],d=e[1],null!=b&&(c=b.node);null!=c;){if("A"===c.tagName)return c;c=c.parentNode}return null},b.prototype._onToolbar=function(a,b){var c;if(a&&!a.isCollapsed())return b?(this.setMode(this._suggestURL(a),!0),c=this.quill.editor.selection._getNativeRange(),this.show(c)):this.quill.formatText(a,"link",!1,"user")},b.prototype._normalizeURL=function(a){return/^(https?:\/\/|mailto:)/.test(a)||(a="http://"+a),a},b.prototype._suggestURL=function(a){var b;return b=this.quill.getText(a),this._normalizeURL(b)},b}(e),d.registerModule("link-tooltip",c),b.exports=c},{"../quill":35,"./tooltip":33}],30:[function(a,b){var c,d,e,f,g,h={}.hasOwnProperty,i=function(a,b){function c(){this.constructor=a}for(var d in b)h.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};e=a("../quill"),c=a("eventemitter2").EventEmitter2,g=e.require("lodash"),f=e.require("dom"),d=function(a){function b(a,b){this.quill=a,this.options=b,this.cursors={},this.container=this.quill.addContainer("cursor-container",!0),this.quill.addStyles({".cursor-container":{position:"absolute",left:"0",top:"0","z-index":"1000"},".cursor":{"margin-left":"-1px",position:"absolute"},".cursor-flag":{bottom:"100%",position:"absolute","white-space":"nowrap"},".cursor-name":{display:"inline-block",color:"white",padding:"2px 8px"},".cursor-caret":{height:"100%",position:"absolute",width:"2px"},".cursor.hidden .cursor-flag":{display:"none"},".cursor.top > .cursor-flag":{bottom:"auto",top:"100%"},".cursor.right > .cursor-flag":{right:"-2px"}}),this.quill.on(this.quill.constructor.events.TEXT_CHANGE,g.bind(this._applyDelta,this))}return i(b,a),b.DEFAULTS={template:'<span class="cursor-flag"> <span class="cursor-name"></span> </span> <span class="cursor-caret"></span>',timeout:2500},b.events={CURSOR_ADDED:"cursor-addded",CURSOR_MOVED:"cursor-moved",CURSOR_REMOVED:"cursor-removed"},b.prototype.clearCursors=function(){return g.each(g.keys(this.cursors),g.bind(this.removeCursor,this)),this.cursors={}},b.prototype.moveCursor=function(a,b){var c;return c=this.cursors[a],c.index=b,f(c.elem).removeClass("hidden"),clearTimeout(c.timer),c.timer=setTimeout(function(){return function(){return f(c.elem).addClass("hidden"),c.timer=null}}(this),this.options.timeout),this._updateCursor(c),c},b.prototype.removeCursor=function(a){var c;return c=this.cursors[a],this.emit(b.events.CURSOR_REMOVED,c),null!=c&&c.elem.parentNode.removeChild(c.elem),delete this.cursors[a]},b.prototype.setCursor=function(a,c,d,e){var f;return null==this.cursors[a]&&(this.cursors[a]=f={userId:a,index:c,color:e,elem:this._buildCursor(d,e)},this.emit(b.events.CURSOR_ADDED,f)),g.defer(function(b){return function(){return b.moveCursor(a,c)}}(this)),this.cursors[a]},b.prototype.shiftCursors=function(a,b,c){return null==c&&(c=null),g.each(this.cursors,function(){return function(d){return d&&(d.index>a||d.userId===c)?d.index+=Math.max(b,a-d.index):void 0}}(this))},b.prototype.update=function(){return g.each(this.cursors,function(a){return function(b){return null!=b?(a._updateCursor(b),!0):void 0}}(this))},b.prototype._applyDelta=function(a){var b;return b=0,g.each(a.ops,function(a){return function(c){var d,e;return d=0,null!=c.insert?(d=c.insert.length||1,a.shiftCursors(b,d,null!=(e=c.attributes)?e.author:void 0)):null!=c["delete"]?a.shiftCursors(b,-1*c["delete"],null):null!=c.retain&&(a.shiftCursors(b,0,null),d=c.retain),b+=d}}(this)),this.update()},b.prototype._buildCursor=function(a,b){var c,d,e,g;return c=this.container.ownerDocument.createElement("span"),f(c).addClass("cursor"),c.innerHTML=this.options.template,e=c.querySelector(".cursor-flag"),g=c.querySelector(".cursor-name"),f(g).text(a),d=c.querySelector(".cursor-caret"),d.style.backgroundColor=g.style.backgroundColor=b,this.container.appendChild(c),c},b.prototype._moveCursor=function(a,c,d){var e,g,h;return null==d&&(d="left"),h=f(c).window(),e=c.getBoundingClientRect(),a.elem.style.top=e.top+h.pageYOffset+"px",a.elem.style.left=e[d]+"px",a.elem.style.height=e.height+"px",g=a.elem.querySelector(".cursor-flag"),f(a.elem).toggleClass("top",parseInt(a.elem.style.top)<=g.offsetHeight).toggleClass("left",parseInt(a.elem.style.left)<=g.offsetWidth).toggleClass("right",this.quill.root.offsetWidth-parseInt(a.elem.style.left)<=g.offsetWidth),this.emit(b.events.CURSOR_MOVED,a)},b.prototype._updateCursor=function(a){var b,c,d,g,h,i,j,k;return this.quill.editor.checkUpdate(),j=this.quill.editor.doc.findLeafAt(a.index,!0),d=j[0],h=j[1],c=this.container.ownerDocument.createElement("span"),null!=d?(k=f(d.node).split(h),g=k[0],i=k[1],b=k[2],f(c).text(f.ZERO_WIDTH_NOBREAK_SPACE),d.node.parentNode.insertBefore(c,i)):(f(c).text(f.NOBREAK_SPACE),this.quill.root.appendChild(c)),this._moveCursor(a,c),f(c).remove(),b&&f(d.node.parentNode).normalize(),this.quill.editor.selection.update(e.sources.SILENT)},b}(c),e.registerModule("multi-cursor",d),b.exports=d},{"../quill":35,eventemitter2:3}],31:[function(a,b){var c,d,e,f,g,h;f=a("../quill"),d=a("../core/document"),h=f.require("lodash"),g=f.require("dom"),c=f.require("delta"),e=function(){function a(a,b){this.quill=a,this.options=b,this.container=this.quill.addContainer("paste-container"),this.container.setAttribute("contenteditable",!0),this.quill.addStyles({".paste-container":{left:"-10000px",position:"absolute",top:"50%"}}),g(this.quill.root).on("paste",h.bind(this._paste,this))}return a.prototype._paste=function(){var a,b,e,f,i,j;return e=this.quill.getLength(),f=this.quill.getSelection(),null!=f?(this.container.innerHTML="",a=g(this.quill.root).window(),b=a.scrollY,i=window.scrollX,j=window.scrollY,this.container.focus(),h.defer(function(e){return function(){var g,h,k,l,m,n,o;return h=new d(e.container,e.quill.options),g=h.toDelta(),k=g.length()-1,g.compose((new c).retain(k)["delete"](1)),f.start>0&&g.ops.unshift({retain:f.start}),g["delete"](f.end-f.start),e.quill.updateContents(g,"user"),e.quill.setSelection(f.start+k,f.start+k),o=e.quill.editor.doc.findLineAt(f.start+k),l=o[0],n=o[1],m=l.node.offsetTop+l.node.offsetHeight,m>b+e.quill.root.offsetHeight&&(b=l.node.offsetTop-e.quill.root.offsetHeight/2),a.scrollTo(0,b),window.scrollTo(i,j)}}(this))):void 0},a}(),f.registerModule("paste-manager",e),b.exports=e},{"../core/document":12,"../quill":35}],32:[function(a,b){var c,d,e,f;c=a("../quill"),f=c.require("lodash"),e=c.require("dom"),d=function(){function a(b,c){if(this.quill=b,this.options=c,null==this.options.container)throw new Error("container required for toolbar",this.options);this.container=f.isString(this.options.container)?document.querySelector(this.options.container):this.options.container,this.inputs={},this.preventUpdate=!1,this.triggering=!1,f.each(this.quill.options.formats,function(b){return function(c){return null==a.formats.TOOLTIP[c]?b.initFormat(c,function(d,e){return b.triggering?void 0:(d.isCollapsed()?b.quill.prepareFormat(c,e):null!=a.formats.LINE[c]?b.quill.formatLine(d,c,e,"user"):b.quill.formatText(d,c,e,"user"),f.defer(function(){return b.updateActive(d,["bullet","list"]),b.setActive(c,e)}))}):void 0}}(this)),this.quill.on(this.quill.constructor.events.SELECTION_CHANGE,function(a){return function(b){return null!=b?a.updateActive(b):void 0}}(this)),this.quill.onModuleLoad("keyboard",function(a){return function(b){return b.addHotkey([e.KEYS.BACKSPACE,e.KEYS.DELETE,e.KEYS.ENTER],function(){return f.defer(f.bind(a.updateActive,a))})}}(this)),e(this.container).addClass("ql-toolbar-container"),e.isIOS()&&e(this.container).addClass("ios"),e.isIE(11)&&e(this.container).on("mousedown",function(){return function(){return!1}}(this))}return a.DEFAULTS={container:null},a.formats={LINE:{align:"align",bullet:"bullet",list:"list"},SELECT:{align:"align",background:"background",color:"color",font:"font",size:"size"},TOGGLE:{bold:"bold",bullet:"bullet",image:"image",italic:"italic",link:"link",list:"list",strike:"strike",underline:"underline"},TOOLTIP:{image:"image",link:"link"}},a.prototype.initFormat=function(b,c){var d,f,g;return g=".ql-"+b,null!=a.formats.SELECT[b]?(g="select"+g,d="change"):d="click",f=this.container.querySelector(g),null!=f?(this.inputs[b]=f,e(f).on(d,function(a){return function(){var b,g;return g="change"===d?e(f).value():!e(f).hasClass("ql-active"),a.preventUpdate=!0,a.quill.focus(),b=a.quill.getSelection(),null!=b&&c(b,g),a.preventUpdate=!1,!0}}(this))):void 0},a.prototype.setActive=function(a,b){var c,d,g,h;return d=this.inputs[a],null!=d?(c=e(d),"SELECT"===d.tagName?(this.triggering=!0,g=c.value(d),null==b&&(b=null!=(h=c["default"]())?h.value:void 0),f.isArray(b)&&(b=""),b!==g&&(null!=b?c.option(b,!1):c.reset(!1)),this.triggering=!1):c.toggleClass("ql-active",b||!1)):void 0},a.prototype.updateActive=function(a,b){var c;return null==b&&(b=null),a||(a=this.quill.getSelection()),null==a||this.preventUpdate?void 0:(c=this._getActive(a),f.each(this.inputs,function(a){return function(d,e){return(!f.isArray(b)||b.indexOf(e)>-1)&&a.setActive(e,c[e]),!0}}(this)))},a.prototype._getActive=function(a){var b,c;return b=this._getLeafActive(a),c=this._getLineActive(a),f.defaults({},b,c)},a.prototype._getLeafActive=function(a){var b,c,d,e,g;return a.isCollapsed()?(g=this.quill.editor.doc.findLineAt(a.start),d=g[0],e=g[1],b=0===e?this.quill.getContents(a.start,a.end+1):this.quill.getContents(a.start-1,a.end)):b=this.quill.getContents(a),c=f.map(b.ops,"attributes"),this._intersectFormats(c)},a.prototype._getLineActive=function(a){var b,c,d,e,g,h;for(c=[],g=this.quill.editor.doc.findLineAt(a.start),b=g[0],e=g[1],h=this.quill.editor.doc.findLineAt(a.end),d=h[0],e=h[1],null!=d&&d===b&&(d=d.next);null!=b&&b!==d;)c.push(f.clone(b.formats)),b=b.next;return this._intersectFormats(c)},a.prototype._intersectFormats=function(b){return f.reduce(b.slice(1),function(b,c){var d,e,g,h,i;return d=f.keys(b),g=f.keys(c),h=f.intersection(d,g),i=f.difference(d,g),e=f.difference(g,d),f.each(h,function(d){if(null!=a.formats.SELECT[d])if(f.isArray(b[d])){if(f.indexOf(b[d],c[d])<0)return b[d].push(c[d])}else if(b[d]!==c[d])return b[d]=[b[d],c[d]]}),f.each(i,function(c){return null!=a.formats.TOGGLE[c]?delete b[c]:null==a.formats.SELECT[c]||f.isArray(b[c])?void 0:b[c]=[b[c]]}),f.each(e,function(d){return null!=a.formats.SELECT[d]?b[d]=[c[d]]:void 0}),b},b[0]||{})},a}(),c.registerModule("toolbar",d),b.exports=d},{"../quill":35}],33:[function(a,b){var c,d,e,f,g;d=a("../quill"),c=a("../lib/normalizer"),g=d.require("lodash"),f=d.require("dom"),e=function(){function a(b,d){this.quill=b,this.options=d,this.quill.addStyles(this.options.styles),this.container=this.quill.addContainer("tooltip"),this.container.innerHTML=c.stripWhitespace(this.options.template),this.container.style.position="absolute",f(this.quill.root).on("focus",g.bind(this.hide,this)),this.hide(),this.quill.on(this.quill.constructor.events.TEXT_CHANGE,function(b){return function(c,d){return"user"===d&&b.container.style.left!==a.HIDE_MARGIN?(b.range=null,b.hide()):void 0}}(this))}return a.DEFAULTS={offset:10,styles:{".tooltip":{"background-color":"#fff",border:"1px solid #000",top:"0px","white-space":"nowrap","z-index":"2000"},".tooltip a":{cursor:"pointer","text-decoration":"none"}},template:""},a.HIDE_MARGIN="-10000px",a.prototype.initTextbox=function(a,b,c){return f(a).on("keyup",function(a){return function(d){switch(d.which){case f.KEYS.ENTER:return b.call(a);case f.KEYS.ESCAPE:return c.call(a);default:return!0}}}(this))},a.prototype.hide=function(){return this.container.style.left=a.HIDE_MARGIN,this.range&&this.quill.setSelection(this.range),this.range=null},a.prototype.show=function(a){var b,c,d,e,g;return this.range=this.quill.getSelection(),e=this._position(a),b=e[0],c=e[1],g=this._limit(b,c),b=g[0],c=g[1],d=f(this.quill.root).window(),b+=d.pageXOffset,c+=d.pageYOffset,this.container.style.left=""+b+"px",this.container.style.top=""+c+"px",this.container.focus()},a.prototype._getBounds=function(){var a,b,c,d;return a=this.quill.root.getBoundingClientRect(),d=f(this.quill.root).window(),b=d.pageXOffset,c=d.pageYOffset,{left:a.left+b,right:a.right+b,top:a.top+c,bottom:a.bottom+c,width:a.width,height:a.height}},a.prototype._limit=function(a,b){var c,d;return c=this._getBounds(),d=this.container.getBoundingClientRect(),a=Math.min(c.right-d.width,a),a=Math.max(c.left,a),b=Math.min(c.bottom-d.height,b),b=Math.max(c.top,b),[a,b]},a.prototype._position=function(a){var b,c,d,e,f;return e=this.container.getBoundingClientRect(),b=this._getBounds(),null!=a?(d=a.getBoundingClientRect(),c=d.left+d.width/2-e.width/2,f=d.top+d.height+this.options.offset,f+e.height>b.bottom&&(f=d.top-e.height-this.options.offset)):(c=b.left+b.width/2-e.width/2,f=b.top+b.height/2-e.height/2),[c,f]},a}(),d.registerModule("tooltip",e),b.exports=e},{"../lib/normalizer":23,"../quill":35}],34:[function(a,b){var c,d,e,f;d=a("../quill"),f=d.require("lodash"),c=d.require("delta"),e=function(){function a(a,b){this.quill=a,this.options=null!=b?b:{},this.lastRecorded=0,this.emittedDelta=null,this.clear(),this.initListeners()}return a.DEFAULTS={delay:1e3,maxStack:100},a.hotkeys={UNDO:{key:"Z",metaKey:!0},REDO:{key:"Z",metaKey:!0,shiftKey:!0}},a.prototype.initListeners=function(){return this.quill.onModuleLoad("keyboard",function(b){return function(c){return c.addHotkey(a.hotkeys.UNDO,function(){return b.undo(),!1}),c.addHotkey(a.hotkeys.REDO,function(){return b.redo(),!1})}}(this)),this.quill.on(this.quill.constructor.events.TEXT_CHANGE,function(a){return function(b){return f.isEqual(b,a.emittedDelta)?void 0:(a.record(b,a.oldDelta),a.oldDelta=a.quill.getContents())}}(this))},a.prototype.clear=function(){return this.stack={undo:[],redo:[]},this.oldDelta=this.quill.getContents()},a.prototype.record=function(a){var b,c,d,e;if(a.ops.length>0){this.stack.redo=[];try{if(e=this.quill.getContents().diff(this.oldDelta),d=(new Date).getTime(),this.lastRecorded+this.options.delay>d&&this.stack.undo.length>0?(b=this.stack.undo.pop(),e=e.compose(b.undo),a=b.redo.compose(a)):this.lastRecorded=d,this.stack.undo.push({redo:a,undo:e}),this.stack.undo.length>this.options.maxStack)return this.stack.undo.unshift()}catch(f){return c=f,this.clear()}}},a.prototype.redo=function(){return this._change("redo","undo")},a.prototype.undo=function(){return this._change("undo","redo")},a.prototype._getLastChangeIndex=function(a){var b,c;return c=0,b=0,a.ops.forEach(function(a){return null!=a.insert?c=Math.max(b+(a.insert.length||1),c):null!=a["delete"]?c=Math.max(b,c):null!=a.retain?(null!=a.attributes&&(c=Math.max(b+a.retain,c)),b+=a.retain):void 0}),c},a.prototype._change=function(a,b){var c,d;return this.stack[a].length>0?(c=this.stack[a].pop(),this.lastRecorded=0,this.emittedDelta=c[a],this.quill.updateContents(c[a],"user"),this.emittedDelta=null,d=this._getLastChangeIndex(c[a]),this.quill.setSelection(d,d),this.oldDelta=this.quill.getContents(),this.stack[b].push(c)):void 0},a}(),d.registerModule("undo-manager",e),b.exports=e},{"../quill":35}],35:[function(a,b){var c,d,e,f,g,h,i,j,k,l={}.hasOwnProperty,m=function(a,b){function c(){this.constructor=a}for(var d in b)l.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},n=[].slice;k=a("lodash"),j=a("../package.json"),c=a("rich-text").Delta,e=a("eventemitter2").EventEmitter2,i=a("./lib/dom"),d=a("./core/editor"),f=a("./core/format"),h=a("./lib/range"),g=function(a){function b(a,c){var e,f,g;if(null==c&&(c={}),k.isString(a)&&(a=document.querySelector(a)),null==a)throw new Error("Invalid Quill container");if(f=k.defaults(c.modules||{},b.DEFAULTS.modules),e=a.innerHTML,this.options=k.defaults(c,b.DEFAULTS),this.options.modules=f,this.options.id=this.id="quill-"+(b.editors.length+1),this.options.emitter=this,this.modules={},this.editor=new d(a,this,this.options),this.root=this.editor.doc.root,b.editors.push(this),this.setHTML(e,b.sources.SILENT),g=b.themes[this.options.theme],null==g)throw new Error("Cannot load "+this.options.theme+" theme. Are you sure you registered it?");this.theme=new g(this,this.options),k.each(this.options.modules,function(a){return function(b,c){return a.addModule(c,b)}}(this))}return m(b,a),b.version=j.version,b.editors=[],b.modules=[],b.themes=[],b.DEFAULTS={formats:["align","bold","italic","strike","underline","color","background","font","size","link","image","bullet","list"],modules:{keyboard:!0,"paste-manager":!0,"undo-manager":!0},pollInterval:100,readOnly:!1,theme:"default"},b.events={MODULE_INIT:"module-init",POST_EVENT:"post-event",PRE_EVENT:"pre-event",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},b.sources=d.sources,b.registerModule=function(a,c){return null!=b.modules[a]&&console.warn("Overwriting "+a+" module"),b.modules[a]=c},b.registerTheme=function(a,c){return null!=b.themes[a]&&console.warn("Overwriting "+a+" theme"),b.themes[a]=c},b.require=function(a){switch(a){case"lodash":return k;case"delta":return c;case"dom":return i;default:return null}},b.prototype.addContainer=function(a,b){return null==b&&(b=!1),this.editor.renderer.addContainer(a,b)},b.prototype.addFormat=function(a,b){return this.editor.doc.addFormat(a,b)},b.prototype.addModule=function(a,c){var d;if(d=b.modules[a],null==d)throw new Error("Cannot load "+a+" module. Are you sure you registered it?");return k.isObject(c)||(c={}),c=k.defaults(c,this.theme.constructor.OPTIONS[a]||{},d.DEFAULTS||{}),this.modules[a]=new d(this,c),this.emit(b.events.MODULE_INIT,a,this.modules[a]),this.modules[a]},b.prototype.addStyles=function(a){return this.editor.renderer.addStyles(a)},b.prototype.deleteText=function(a,d,e){var f,g,h;return null==e&&(e=b.sources.API),h=this._buildParams(a,d,{},e),a=h[0],d=h[1],g=h[2],e=h[3],d>a?(f=(new c).retain(a)["delete"](d-a),this.editor.applyDelta(f,e)):void 0},b.prototype.emit=function(){var a,c;return c=arguments[0],a=2<=arguments.length?n.call(arguments,1):[],b.__super__.emit.apply(this,[b.events.PRE_EVENT,c].concat(n.call(a))),b.__super__.emit.apply(this,[c].concat(n.call(a))),b.__super__.emit.apply(this,[b.events.POST_EVENT,c].concat(n.call(a)))},b.prototype.focus=function(){return this.editor.focus()},b.prototype.formatLine=function(a,b,c,d,e){var f,g,h,i,j;return i=this._buildParams(a,b,c,d,e),a=i[0],b=i[1],f=i[2],e=i[3],j=this.editor.doc.findLineAt(b),g=j[0],h=j[1],null!=g&&(b+=g.length-h),this.formatText(a,b,f,e)},b.prototype.formatText=function(a,b,d,e,f){var g,h,i;return i=this._buildParams(a,b,d,e,f),a=i[0],b=i[1],h=i[2],f=i[3],h=k.reduce(h,function(a){return function(b,c,d){var e;return e=a.editor.doc.formats[d],c&&c!==e.config["default"]||(b[d]=null),b}}(this),h),g=(new c).retain(a).retain(b-a,h),this.editor.applyDelta(g,f)},b.prototype.getContents=function(a,b){return null==a&&(a=0),null==b&&(b=null),k.isObject(a)&&(b=a.end,a=a.start),this.editor.getDelta().slice(a,b)},b.prototype.getHTML=function(){return this.root.innerHTML},b.prototype.getLength=function(){return this.editor.getDelta().length()},b.prototype.getModule=function(a){return this.modules[a]},b.prototype.getSelection=function(){return this.editor.checkUpdate(),this.editor.selection.getRange()},b.prototype.getText=function(a,b){return null==a&&(a=0),null==b&&(b=null),k.map(this.getContents(a,b).ops,function(a){return k.isString(a.insert)?a.insert:""}).join("")},b.prototype.insertEmbed=function(a,b,c,d){return this.insertText(a,i.EMBED_TEXT,b,c,d)},b.prototype.insertText=function(a,b,d,e,f){var g,h,i,j;return j=this._buildParams(a,0,d,e,f),a=j[0],h=j[1],i=j[2],f=j[3],b.length>0?(g=(new c).retain(a).insert(b,i),this.editor.applyDelta(g,f)):void 0},b.prototype.onModuleLoad=function(a,c){return this.modules[a]?c(this.modules[a]):this.on(b.events.MODULE_INIT,function(b,d){return b===a?c(d):void 0})},b.prototype.prepareFormat=function(a,c){var d,e;return d=this.editor.doc.formats[a],null!=d&&(e=this.getSelection(),null!=e?e.isCollapsed():void 0)?d.isType(f.types.LINE)?this.formatLine(e,a,c,b.sources.USER):d.prepare(c):void 0},b.prototype.setContents=function(a,c){return null==c&&(c=b.sources.API),k.isArray(a)&&(a={ops:a}),a.ops.unshift({"delete":this.getLength()}),this.updateContents(a,c)},b.prototype.setHTML=function(a,c){return null==c&&(c=b.sources.API),a||(a="<"+i.DEFAULT_BLOCK_TAG+"><"+i.DEFAULT_BREAK_TAG+"></"+i.DEFAULT_BLOCK_TAG+">"),this.editor.doc.setHTML(a),this.editor.checkUpdate(c)},b.prototype.setSelection=function(a,c,d){var e;return null==d&&(d=b.sources.API),k.isNumber(a)&&k.isNumber(c)?e=new h(a,c):(e=a,d=c||d),this.editor.selection.setRange(e,d)},b.prototype.updateContents=function(a,c){return null==c&&(c=b.sources.API),this.editor.applyDelta(a,c)},b.prototype._buildParams=function(){var a,c;return c=1<=arguments.length?n.call(arguments,0):[],k.isObject(c[0])&&c.splice(0,1,c[0].start,c[0].end),k.isString(c[2])&&(a={},a[c[2]]=c[3],c.splice(2,2,a)),null==c[3]&&(c[3]=b.sources.API),c},b}(e),g.registerTheme("default",a("./themes/default")),g.registerTheme("snow",a("./themes/snow")),b.exports=g},{"../package.json":11,"./core/editor":13,"./core/format":14,"./lib/dom":21,"./lib/range":25,"./themes/default":36,"./themes/snow":37,eventemitter2:3,lodash:"M4+//f","rich-text":4}],36:[function(a,b){var c;c=function(){function a(a){this.quill=a,this.editor=this.quill.editor,this.editorContainer=this.editor.root}return a.OPTIONS={},a}(),b.exports=c},{}],37:[function(a,b){var c,d,e,f,g,h,i={}.hasOwnProperty,j=function(a,b){function c(){this.constructor=a}for(var d in b)i.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};h=a("lodash"),c=a("../../lib/color-picker"),d=a("../default"),g=a("../../lib/dom"),e=a("../../lib/picker"),f=function(a){function b(a){this.quill=a,b.__super__.constructor.apply(this,arguments),this.quill.addStyles(b.STYLES),this.pickers=[],this.quill.on(this.quill.constructor.events.SELECTION_CHANGE,function(a){return function(b){return null!=b?h.invoke(a.pickers,"close"):void 0}}(this)),g(this.quill.root.ownerDocument.body).addClass("snow"),this.quill.onModuleLoad("multi-cursor",h.bind(this.extendMultiCursor,this)),this.quill.onModuleLoad("toolbar",h.bind(this.extendToolbar,this))}return j(b,a),b.COLORS=["#000000","#e60000","#ff9900","#ffff00","#008A00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],b.OPTIONS={"multi-cursor":{template:'<span class="cursor-flag"> <span class="cursor-triangle top"></span> <span class="cursor-name"></span> <span class="cursor-triangle bottom"></span> </span> <span class="cursor-caret"></span>'}},b.STYLES={".snow .image-tooltip-container a":{border:"1px solid #06c"},".snow .image-tooltip-container a.insert":{"background-color":"#06c",color:"#fff"},".snow .cursor-name":{"border-radius":"4px","font-size":"11px","font-family":"Arial","margin-left":"-50%",padding:"4px 10px"},".snow .cursor-triangle":{"border-left":"4px solid transparent","border-right":"4px solid transparent",height:"0px","margin-left":"-3px",width:"0px"},".snow .cursor.left .cursor-name":{"margin-left":"-8px"},".snow .cursor.right .cursor-flag":{right:"auto"},".snow .cursor.right .cursor-name":{"margin-left":"-100%","margin-right":"-8px"},".snow .cursor-triangle.bottom":{"border-top":"4px solid transparent",display:"block","margin-bottom":"-1px"},".snow .cursor-triangle.top":{"border-bottom":"4px solid transparent",display:"none","margin-top":"-1px"},".snow .cursor.top .cursor-triangle.bottom":{display:"none"},".snow .cursor.top .cursor-triangle.top":{display:"block"},".snow a":{color:"#06c"},".snow .tooltip":{border:"1px solid #ccc","box-shadow":"0px 0px 5px #ddd",color:"#222"},".snow .tooltip a":{color:"#06c"},".snow .tooltip .input":{border:"1px solid #ccc",margin:"0px",padding:"5px"},".snow .image-tooltip-container .preview":{"border-color":"#ccc",color:"#ccc"},".snow .link-tooltip-container a, .snow .link-tooltip-container span":{display:"inline-block","line-height":"25px"}},b.prototype.extendMultiCursor=function(a){return a.on(a.constructor.events.CURSOR_ADDED,function(a){var b,c;return b=a.elem.querySelector(".cursor-triangle.bottom"),c=a.elem.querySelector(".cursor-triangle.top"),b.style.borderTopColor=c.style.borderBottomColor=a.color})},b.prototype.extendToolbar=function(a){return h.each(["color","background","font","size","align"],function(b){return function(d){var f,i;if(i=a.container.querySelector(".ql-"+d),null!=i){switch(d){case"font":case"size":case"align":f=new e(i);break;case"color":case"background":f=new c(i),h.each(f.container.querySelectorAll(".ql-picker-item"),function(a,b){return 7>b?g(a).addClass("ql-primary-color"):void 0})}return null!=f?b.pickers.push(f):void 0}}}(this)),h.each(g(a.container).textNodes(),function(a){return 0===g(a).text().trim().length?g(a).remove():void 0})},b}(d),b.exports=f},{"../../lib/color-picker":20,"../../lib/dom":21,"../../lib/picker":24,"../default":36,lodash:"M4+//f"}]},{},[19])(19)})};return c}(),require._modules["/vendor/quilljs-renderer/index.js"]=function(){var a="/vendor/quilljs-renderer/index.js",b="/vendor/quilljs-renderer",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){c.exports=d("./lib/document")});return c}(),require._modules["/vendor/quilljs-renderer/lib/document.js"]=function(){var a="/vendor/quilljs-renderer/lib/document.js",b="/vendor/quilljs-renderer/lib",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},f()},parent:null,children:[]},d=c.require=window.require._bind(c),e=c.exports,f=function(){function a(a,b,c){function d(){l.push(h={ops:[],attributes:{}})}function e(a){return i.length-1===a}function f(a,b){h.ops.push({insert:a,attributes:g.attributes}),e(b)||d()}var g,h,i,j=a.slice(),k="",l=[];for(d();j.length;)g=j.shift(),"\n"===g.insert?(h.attributes=g.attributes,d()):"number"==typeof g.insert?(h.ops.length&&d(),h.ops.push(g),d()):g.insert.indexOf("\n")>=0?(i=g.insert.split("\n"),i.forEach(f)):h.ops.push(g);return l.forEach(function(a,d){k+=b(a,c,d)}),k}var b=d("merge-recursive"),c={};e.defineFormat=function(a,b,d,e){c[b]={type:a,func:e,defaults:d}},e.loadFormat=function(a){d("./formats/"+a)};var f=e.Document=function(a){a.ops&&(a=a.ops),this.delta=a||[]};f.prototype.convertTo=function(d,e){if(d=c[d],!d)throw new Error('Unknown conversion format "'+d+'"');switch(e=b.recursive({},d.defaults||{},e||{}),d.type){case"line":return a(this.delta,d.func,e);case"op":return this.delta.map(function(a,b){return d.func(a,e,b)});case"raw":return d.func(this.delta,e);default:throw new Error('Unknown conversion format type "'+d.type+'"')}}};return c}(),require._modules["/vendor/quilljs-renderer/lib/formats/html.js"]=function(){var a="/vendor/quilljs-renderer/lib/formats/html.js",b="/vendor/quilljs-renderer/lib/formats",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){function a(a,c,d){function g(a){if("number"==typeof a.insert)return e(c.embed[a.insert]||"",a.attributes||{});if(!a.attributes)return a.insert;switch(c.styleType){case"css":return j(a.insert,a.attributes);case"html":return i(a.insert,a.attributes)}}function h(c){var d=a.attributes[c];switch(c){case"align":return b("text-align",d)}}function i(a,b){return Object.keys(b).forEach(function(d){var g={template:null,data:f({},b,{content:a,style:""})};switch(d){case"link":g.template=c.link;break;case"color":case"bold":case"italic":case"underline":case"strikethrough":case"font":g.template=c.styleTags[d];break;default:c.attributes&&(d=c.attributes[d],d&&d(g,c))}a=e(g.template,g.data)}),a}function j(a,d){var g={template:d.link?c.link:c.text,data:f({},d||{},{content:a,style:""})};return Object.keys(d).forEach(function(a){switch(a){case"color":g.data.style+=b("color",d.color);break;case"bold":g.data.style+=b("font-weight","bold");break;case"italic":g.data.style+=b("font-style","italic");
break;case"underline":g.data.style+=b("text-decoration","underline");break;case"strikethrough":g.data.style+=b("text-decoration","line-through");break;case"font":g.data.style+=b("font-family",d.font);break;default:c.attributes&&(a=c.attributes[a],a&&a(g,c))}}),e(g.template,g.data)}var k=Object.keys(a.attributes||{});return e(c.line,{lineNumber:d+1,lineStyle:k.map(h).join(""),content:a.ops.map(g).join("")})}function b(a,b){return a+":"+b+";"}var c=d("../document"),e=d("stringformat"),f=d("merge-recursive"),g={line:'<div id="line-{lineNumber}" style="{lineStyle}">{content}</div>',text:'<span style="{style}">{content}</span>',link:'<a href="{link}" style="{style}">{content}</a>',styleType:"html",styleTags:{color:'<span style="color:{color}">{content}</span>',bold:"<b>{content}</b>",italic:"<i>{content}</i>",underline:"<u>{content}</u>",strikethrough:"<s>{content}</s>",font:'<span style="font-family:{font}">{content}</span>'},embed:{1:'<img src="{image}" alt="{alt}" />'},attributes:{}};c.defineFormat("line","html",g,a)});return c}(),require._modules["/vendor/stringformat/index.js"]=function(){var a="/vendor/stringformat/index.js",b="/vendor/stringformat",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){d("./stringformat"),c.exports=window.stringformat,window.stringformat=void 0,delete window.stringformat});return c}(),require._modules["/vendor/stringformat/stringformat.js"]=function(){var a="/vendor/stringformat/stringformat.js",b="/vendor/stringformat",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},d()},parent:null,children:[]},d=(c.require=window.require._bind(c),c.exports,function(){!function(a){var b=/({+)([^:{\|}]+)(\|([^:}]+))?(:(-?\d*)([ij]?))?(}+)/g,d=function(a){return"undefined"!=typeof a},e=function(){var a=arguments;return this.replace(b,function(){var b,c=arguments,e=c[0],f=c[1],g=c[2],h=g%1!==0,i=c[4]||h&&g,j=c[6],k=c[7],l=c[8],m={},n=h?a[0]:a[g],o=[];if(f.length>1&&l.length>1)return e.slice(1,e.length-1);for(i=i&&i.split(".")||[];d(b=i.shift())&&d(n);)"function"==typeof n&&(n=n.apply(m,[])),m=n,n=n[b];return"function"==typeof n&&(n=n.apply(m,[])),"i"===k?n=Math.round(n):"j"===k&&(n=JSON.stringify(n)),d(n)?(n=String(n),0>j&&(o.push(n),j=1-j),j>n.length&&(o.length=j-n.length),d(o[0])||(o[o.length]=n),o.join(" ")):e})},f=function(){return e.apply(arguments[0],Array.prototype.slice.call(arguments,1))};f.extendString=function(a){String.prototype[a||"format"]=e},a.top?a.stringformat=f:c.exports=f}(this)});return c}(),require._modules["/views/create-document/create-document.js"]=function(){var a="/views/create-document/create-document.js",b="/views/create-document",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){{var a=d("cloak/view"),b=d("models/document"),e=d("views/tag-editor/tag-editor");c.exports=a.extend({className:"create-document",template:"views/create-document/create-document.hbs",events:{"click button.submit":"submit"},initialize:function(){},draw:function(){this.$elem.html(this.render()),this.$error=this.$(".error"),this.$name=this.$(".name input"),this.$description=this.$(".description input"),this.$adultContent=this.$(".adult-content input"),this.$public=this.$(".privacy .public input"),this.tagEditor=new e,this.tagEditor.$elem.appendTo(this.$(".tags")),this.tagEditor.draw(),this.bindEvents()},submit:function(a){a&&a.preventDefault();var c=this;this.showError(),this.disable(!0);var d=this.getData();if(!this.validate(d))return void this.disable(!1);var e=new b(d);e.save().then(function(){c.disable(!1),router.redirectTo("/dashboard")},function(a){return c.disable(!1),a.body.message?void c.showError(a.body.message):void c.showError("An unknown error has occured; please try again")})},getData:function(){return{name:this.$name.val(),description:this.$description.val(),adultContent:this.$adultContent.prop("checked"),"public":this.$public.prop("checked"),tags:this.tagEditor.tags.slice()}},validate:function(a){function b(a){return c.showError(a),!1}var c=this;return a.name?a.description?a.name.length>80?b("Name cannot be more than 80 characters long"):a.description.length>200?b("Description cannot be more than 200 characters long"):a.tags.length>10?b("Cannot have more than 10 tags on a single document"):!0:b("The description field is required"):b("The name field is required")},showError:function(a){return a?(this.$error.html(a),void this.$error.removeClass("hide")):(this.$error.html(""),void this.$error.addClass("hide"))},disable:function(a){this.$("input, select, button").prop("disabled",a),a?this.$("button").spin(!0,{replace:!1,size:"tiny",classname:"transparent"}):this.$("button").spin(!1)}})}});return c}(),require._modules["/views/dashboard/dashboard.js"]=function(){var a="/views/dashboard/dashboard.js",b="/views/dashboard",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){{var a=d("cloak/view"),b=d("views/document/overview/overview");c.exports=a.extend({className:"dashboard",template:"views/dashboard/dashboard.hbs",noDocsTemplate:"views/dashboard/no-docs.hbs",noRecentsTemplate:"views/dashboard/no-recents.hbs",events:{},initialize:function(){this.documents=[],this.recent=[]},draw:function(){this.$elem.html(this.render()),this.$documents=this.$("section.documents"),this.$recent=this.$("section.recent"),this.$documents.spin(!0,{size:"medium",classname:"centered"}),this.$recent.spin(!0,{size:"medium",classname:"centered"}),this.bindEvents()},drawDocuments:function(){this.drawDocumentSection(this.documents,this.$documents,"noDocsTemplate")},drawRecentlyStarred:function(){this.drawDocumentSection(this.recent,this.$recent,"noRecentsTemplate")},drawDocumentSection:function(a,c,d){var e=this;c.animate({opacity:0},600,function(){c.spin(!1),a.len()?a.forEach(function(a){var d=new b(a);d.$elem.appendTo(c),d.draw()}):c.html(e.render({},d)),c.animate({opacity:1},600)})}})}});return c}(),require._modules["/views/document/comment/comment.js"]=function(){var a="/views/document/comment/comment.js",b="/views/document/comment",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){{var a=d("jquery"),b=d("cloak/view"),e=d("common/auth"),f=(d("models/comment"),d("common/announce")),g=(d("views/quill/quill"),d("views/modals/confirm/confirm"));c.exports=b.extend({tagName:"article",className:"comment",attributes:{rel:"comment"},template:"views/document/comment/comment.hbs",events:{"click .edit":"editComment","click .delete":"deleteComment","click .reply":"replyToComment"},initialize:function(a){this.comment=a,this.author=a.get("author")},draw:function(b){b=b||{},b.animate&&this.$elem.hide(),this.$elem.html(this.render({content:this.comment.render(),comment:this.comment.serialize({deep:!0}),gravatarHash:this.author.gravatarHash(),isAuthor:this.author.is(e.user)})),this.$("[data-user]").each(function(){var b=a(this),c=b.attr("data-user");b.replaceWith('<a href="/#user/'+c+'" class="atref">@'+c+"</a>")}),b.animate&&this.$elem.animate({opacity:"show",height:"show"},600),this.bindEvents()},editComment:function(a){a&&a.preventDefault(),f.show("alert","Comment editing is not yet supported")},deleteComment:function(a){a&&a.preventDefault();var b=this,c=g.open({prompt:"Are you sure you want to delete the comment?",yes:{text:"Yes, delete the comment",classname:"alert"},no:{text:"Cancel",classname:"secondary"}});c.on("no",c.close),c.on("yes",function(){c.close(),b.$elem.addClass("disabled"),b.comment.del().then(function(){b.$elem.animate({height:"hide",opacity:"hide"},600,function(){b.$elem.parent().remove(),b.remove()})},function(a){b.$elem.removeClass("disabled"),f.show("alert",a.body.message||a.body)})})},replyToComment:function(a){a&&a.preventDefault(),f.show("alert","Comment replies are not yet supported")}})}});return c}(),require._modules["/views/document/document.js"]=function(){var a="/views/document/document.js",b="/views/document",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){var a=d("jquery"),b=d("cloak/view"),e=d("common/auth"),f=d("models/comment"),g=d("common/announce"),h=d("views/document/stars/stars"),i=d("views/quill/quill"),j=d("views/document/comment/comment"),k=d("quilljs-renderer"),l=d("common/i18n");k.loadFormat("html");c.exports=b.extend({className:"document",template:"views/document/document.hbs",events:{"click .description .edit":"editDescription","click .description .save":"saveDescription","click .description .cancel":"cancelDescription","focus .comments textarea.pseudo":"showCommentEditor","click .comments .post.button":"postComment","click .comments .cancel.button":"cancelComment","click .comments .load-more":"loadMoreComments","click nav.panel .continue":"continueDraft","click nav.panel .start":"startDraft","click nav.panel .clone":"cloneDocument","click nav.panel .download":"downloadDocument"},initialize:function(a){this.document=a,this.commentCount=0,this.commentBoxOptions={atwho:[],buttons:[{text:l.translate("comments.post"),classname:"small action button post"},{text:l.translate("actions.cancel"),classname:"small secondary button cancel"}]}},draw:function(){this.$elem.html('<div class="spinner"></div>'),this.$(".spinner").spin(!0,{size:"large"})},drawDocument:function(){var a=this.document.get("owner").id()===e.user.id();this.$elem.html(this.render({hasDraft:this.document.hasDraft(),hasButtons:a,isOwner:a,document:this.document.serialize({deep:!0}),recentCommits:this.document.get("history").slice().reverse().slice(0,10)})),this.bindPartials({stars:h,quill:i}),this.commentUsernameAtList=[this.document.get("owner").get("username")];var b=this;this.commentBox.on("ready",function(){this.atwho(b.commentUsernameAtList)}),this.$writeDropdown=this.$(".write"),this.$description=this.$(".description"),this.$comments=this.$("section.comments"),this.$commentList=this.$("section.comments ol"),this.$loadMoreButton=this.$("section.comments .load-more"),this.bindEvents()},continueDraft:function(){},startDraft:function(){},cloneDocument:function(){},downloadDocument:function(){},editDescription:function(a){a&&a.preventDefault(),this.$description.html("<textarea>"+this.document.get("description")+'</textarea><a class="cancel">'+l.translate("actions.cancel")+'</a> | <a class="save">'+l.translate("actions.save")+'</a><div class="spinner"></div>')},saveDescription:function(a){a&&a.preventDefault();var b=this,c=this.document.get("description");this.disableDescription(!0),this.document.set("description",this.$description.find("textarea").val()).patch("description").then(function(){b.cancelDescription()}).catch(function(a){b.document.set("description",c),g.show("alert",a.body.message)})},cancelDescription:function(a){a&&a.preventDefault(),this.$description.html("<p>"+this.document.get("description")+' <a class="edit">'+l.translate("actions.edit")+"</a></p>")},disableDescription:function(a){this.$description.find("textarea, a").disable(a),this.$description.find(".spinner").spin(a,{size:"tiny"})},drawNewComment:function(b){var c="top"===b.drawTo?"prepend":"append",d=a("<li></li>");d[c+"To"](this.$commentList);var e=new j(b.comment);e.$elem.appendTo(d),e.draw({animate:b.animate}),this.commentCount++},drawComments:function(a){if(a instanceof f&&(a=(new f.Collection).add(a)),!a||!a.len())return this.$comments.append(this.commentCount?'<p class="no-results">'+l.translate("comments.no_more")+"</p>":'<p class="no-results">'+l.translate("comments.no_comments")+"</p>"),void this.$loadMoreButton.remove();var b=this;a.forEach(function(a){b.drawNewComment({drawTo:"bottom",comment:a,animate:!1})})},showCommentEditor:function(){this.$comments.find("textarea.pseudo").css("display","none"),this.$comments.find("section.quill").css("display","block"),this.commentBox.quill.focus()},hideCommentEditor:function(){this.$comments.find("textarea.pseudo").css("display","block"),this.$comments.find("section.quill").css("display","none")},postComment:function(a){a&&a.preventDefault();var b=this,c=this.commentBox.getContents().ops;this.commentBox.disable(!0),this.document.postComment(c).then(function(a){b.cancelComment(),a.set("author",e.user.clone()),b.drawNewComment({drawTo:"top",comment:a,animate:!0})},function(a){b.commentBox.disable(!1),g.show("alert",a&&a.body&&a.body.message||a)})},cancelComment:function(a){a&&a.preventDefault(),this.commentBox.setHTML("<div></div>"),this.hideCommentEditor()},loadMoreComments:function(a){a&&a.preventDefault();var b=this;this.$loadMoreButton.disable(!0),this.document.findComments({populate:"author",sort:"-created",offset:this.commentCount}).then(function(a){b.$loadMoreButton.disable(!1),a.len()||b.$loadMoreButton.remove(),b.drawComments(a)},function(a){b.$loadMoreButton.disable(!1),g.show("alert",a.body.message||a.body)})}})});return c}(),require._modules["/views/document/overview/overview.js"]=function(){var a="/views/document/overview/overview.js",b="/views/document/overview",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){{var a=d("cloak/view"),b=(d("moment"),d("views/document/stars/stars"));c.exports=a.extend({className:"document-overview panel",template:"views/document/overview/overview.hbs",events:{},initialize:function(a){this.document=a},draw:function(){this.$elem.html(this.render({document:this.document.serialize()})),this.bindEvents(),this.bindPartials({stars:b})}})}});return c}(),require._modules["/views/document/read/read.js"]=function(){var a="/views/document/read/read.js",b="/views/document/read",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){{var a=d("cloak/view");d("moment"),c.exports=a.extend({className:"read",template:"views/document/read/read.hbs",events:{},initialize:function(){this.commit=null,this.document=null},draw:function(){this.$elem.html('<div class="spinner"></div>'),this.$(".spinner").spin(!0,{size:"large"}),this.bindEvents()},drawDocument:function(a){this.$elem.html(this.render({document:this.document.serialize({deep:!0}),contents:this.document.render(a)}))}})}});return c}(),require._modules["/views/document/stars/stars.js"]=function(){var a="/views/document/stars/stars.js",b="/views/document/stars",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){{var a=d("cloak/view");d("moment"),c.exports=a.extend({className:"stars",template:"views/document/stars/stars.hbs",events:{"click a":"toggleStarred"},initialize:function(a){this.document=a,this.countWithout=a.get("starredBy"),a.get("isStarred")&&this.countWithout--},draw:function(){this.$elem.html(this.render({document:this.document.serialize()})),this.$count=this.$("a span"),this.setActive(this.document.get("isStarred")),this.bind("updateForDocument"),this.document.on("change.isStarred",this.updateForDocument),this.bindEvents()},setActive:function(a){a?(this.$elem.addClass("active"),this.$count.html(this.countWithout+1)):(this.$elem.removeClass("active"),this.$count.html(this.countWithout))},toggleStarred:function(a){a&&a.preventDefault(),this.document.get("isStarred")?this.document.unstar():this.document.star()},updateForDocument:function(a){this.setActive(a)},teardown:function(){this.document.off("change.isStarred",this.updateForDocument)}})}});return c}(),require._modules["/views/footer/footer.js"]=function(){var a="/views/footer/footer.js",b="/views/footer",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){{var a=d("cloak/view"),b=d("views/modals/terms/terms"),e=d("views/modals/report/report"),f=d("views/modals/privacy/privacy");c.exports=a.extend({template:"views/footer/footer.hbs",events:{"click .terms":"terms","click .privacy":"privacy","click .report":"report"},initialize:function(){},draw:function(){this.$elem.html(this.render()),this.bindEvents()},terms:function(a){a&&a.preventDefault(),b.open()},privacy:function(a){a&&a.preventDefault(),f.open()},report:function(a){a&&a.preventDefault(),e.open()}})}});return c}(),require._modules["/views/header/header.js"]=function(){var a="/views/header/header.js",b="/views/header",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){{var a=d("cloak/view"),b=d("common/auth");c.exports=a.extend({tagName:"div",template:"views/header/header.hbs",events:{"click .signout":"signout"},initialize:function(){},draw:function(){this.$elem.html(this.render({user:b.user.serialize({deep:!1}),gravatarHash:b.user.gravatarHash()})),this.$inbox=this.$(".inbox"),this.bindEvents()},signout:function(a){a&&a.preventDefault(),b.logout()},setInboxCount:function(a){var b=this.$inbox.find(".notification");b.removeClass("small medium large"),1>a||b.addClass(10>a?"small":20>a?"medium":"large"),$tooltip=this.$inbox.find("[data-tooltip]"),$tooltip.attr("data-tooltip","Inbox"+(a?" ("+a+")":""))}})}});return c}(),require._modules["/views/modal/modal.js"]=function(){var a="/views/modal/modal.js",b="/views/modal",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){var a=d("cloak/view"),b=d("cloak/underscore"),e=c.exports=a.extend({className:"modal wrapper",template:"views/modal/modal.hbs",events:{"click .modal.close":"close"},initialize:function(){},draw:function(a,b){!a&&this.contentTemplate&&(a=this.render(this.data||{},"contentTemplate")),this.$elem.html(this.render({content:a,classname:b||this.classname||""})),this.bindEvents()},close:function(){var a=this;this.$elem.removeClass("open"),this.emit("close"),setTimeout(function(){a.remove()},500)}});e.open=function(a,b){var c=new e;return c.draw(a,b),c.$elem.appendTo(document.body),setTimeout(function(){c.$elem.addClass("open")},13),c},e.template=function(a){return function(c){c=b.defaults(c||{},a);var d=new e;return d.contentTemplate=c.template,d.classname=c.classname,b.extend(d,c.props||{}),d.events=b.extend({},d.events,c.events||{}),"function"==typeof c.init&&c.init.call(d,c),d.draw(),d.$elem.appendTo(document.body),setTimeout(function(){d.$elem.addClass("open")},13),d}}});return c}(),require._modules["/views/modals/confirm/confirm.js"]=function(){var a="/views/modals/confirm/confirm.js",b="/views/modals/confirm",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},f()},parent:null,children:[]},d=c.require=window.require._bind(c),e=c.exports,f=function(){var a=d("views/modal/modal");e.open=a.template({classname:"confirm",template:"views/modals/confirm/confirm.hbs",events:{"click   .yes":"yes","click   .no":"no"},init:function(a){this.data={prompt:a.prompt,yes:a.yes||{text:"Yes",classname:"action"},no:a.no||{text:"No",classname:"secondary"}}},props:{yes:function(a){a&&a.preventDefault(),this.emit("yes")},no:function(a){a&&a.preventDefault(),this.emit("no")}}})};return c}(),require._modules["/views/modals/login/login.js"]=function(){var a="/views/modals/login/login.js",b="/views/modals/login",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},f()},parent:null,children:[]},d=c.require=window.require._bind(c),e=c.exports,f=function(){{var a=d("common/auth"),b=d("views/modal/modal");d("cloak/model-stores/dagger").Request}e.open=b.template({classname:"login",template:"views/modals/login/login.hbs",events:{"click button":"login"},props:{login:function(b){b&&b.preventDefault();var c=this,d=this.$(".username").val(),e=this.$(".password").val();return this.showError(),d?(this.disable(!0),void a.login(d,e).then(function(a){c.disable(!1),router.redirectTo(a.complete?"/dashboard":"/auth/twostep"),c.close()},function(a){c.disable(!1),c.showError(a)})):void this.showError("Username or email is required")},showError:function(a){var b=this.$(".error");return a?(b.html(a),void b.removeClass("hide")):(b.html(""),void b.addClass("hide"))},disable:function(a){this.$("input, button").prop("disabled",a),a?this.$("button").spin(!0,{replace:!1,size:"tiny",classname:"transparent"}):this.$("button").spin(!1)}}})};return c}(),require._modules["/views/modals/privacy/privacy.js"]=function(){var a="/views/modals/privacy/privacy.js",b="/views/modals/privacy",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},f()},parent:null,children:[]},d=c.require=window.require._bind(c),e=c.exports,f=function(){var a=d("views/modal/modal");e.open=a.template({classname:"privacy",template:"views/modals/privacy/privacy.hbs"})};return c}(),require._modules["/views/modals/report/report.js"]=function(){var a="/views/modals/report/report.js",b="/views/modals/report",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},f()},parent:null,children:[]},d=c.require=window.require._bind(c),e=c.exports,f=function(){var a=(d("common/auth"),d("views/modal/modal")),b=d("cloak/model-stores/dagger").Request;e.open=a.template({classname:"report",template:"views/modals/report/report.hbs",events:{"click button":"submit"},props:{submit:function(a){a&&a.preventDefault();var c=this,d=this.$("div.report"),e=this.$(".subject").val(),f=this.$(".description").val();return this.showError(),e&&f?(this.disable(!0),void b.send("POST","/report-issue",{subject:e,description:f}).then(function(){c.disable(!1),d.html("<p>Thank you for helping us make Collabish better</p>"),setTimeout(function(){c.close()},3e3)},function(){c.disable(!1),c.showError("Something went wrong, and we could not send your report")})):void this.showError("Both subject and description are required")},showError:function(a){var b=this.$(".error");return a?(b.html(a),void b.removeClass("hide")):(b.html(""),void b.addClass("hide"))},disable:function(a){this.$("input, button").prop("disabled",a),a?this.$("button").spin(!0,{replace:!1,size:"tiny",classname:"transparent"}):this.$("button").spin(!1)}}})};return c}(),require._modules["/views/modals/terms/terms.js"]=function(){var a="/views/modals/terms/terms.js",b="/views/modals/terms",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},f()},parent:null,children:[]},d=c.require=window.require._bind(c),e=c.exports,f=function(){var a=d("views/modal/modal");e.open=a.template({classname:"terms",template:"views/modals/terms/terms.hbs"})};return c}(),require._modules["/views/notfound/notfound.js"]=function(){var a="/views/notfound/notfound.js",b="/views/notfound",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){{var a=d("cloak/view"),b=d("common/auth");c.exports=a.extend({className:"notfound",template:"views/notfound/notfound.hbs",events:{},initialize:function(){},draw:function(){this.$elem.html(this.render({loggedIn:!!b.user})),this.bindEvents()}})}});return c}(),require._modules["/views/profile/profile.js"]=function(){var a="/views/profile/profile.js",b="/views/profile",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){{var a=d("cloak/underscore"),b=d("cloak/view"),e=(d("common/auth"),d("views/document/overview/overview"));c.exports=b.extend({className:"profile",template:"views/profile/profile.hbs",userTemplate:"views/profile/user.hbs",notfoundTemplate:"views/profile/notfound.hbs",events:{},initialize:function(a){this.user=null,this.username=a,this.documents=null},draw:function(){this.$elem.html(this.render({username:this.username})),this.$main=this.$("main"),this.$(".spinner").spin(!0,{size:"large"}),this.bindEvents()},drawUser:function(){var b=this.user.serialize();b.profile=a.defaults(b.profile||{},{name:"",url:"",location:""});var c={user:b,gravatarHash:this.user.gravatarHash()};this.$main.html(this.render(c,"userTemplate"));var d=this.$documents=this.$(".documents"),f=this.documents;f.len()?f.forEach(function(a){var b=new e(a);b.$elem.appendTo(d),b.draw()}):d.html("<h2>This user has no visible documents</h2>")},showNotfound:function(){this.$main.html(this.render({},"notfoundTemplate"))}})}});return c}(),require._modules["/views/quill/quill.js"]=function(){var a="/views/quill/quill.js",b="/views/quill",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){{var a=d("jquery"),b=d("quill"),e=d("cloak/view");d("common/auth"),c.exports=e.extend({className:"quill",template:"views/quill/quill.hbs",events:{},initialize:function(a){this.quill=null,this.bind("initQuill"),this.buttons=a&&a.buttons,this.content=a&&a.content,this.enableAtwho=a&&a.atwho,this.buttons&&(this.buttons=this.buttons.map(function(a){var b=a.tooltip?' data-tooltip="'+a.tooltip+'"':"";return['<a class="'+(a.classname||"")+'"'+b+">",a.text?a.text:"",a.icon?'<i class="fa fa-'+a.icon+'"></i>':"","</a>"].join("")}))},draw:function(){this.$elem.html(this.render({buttons:this.buttons})),this.$toolbar=this.$(".toolbar"),this.$editor=this.$(".editor"),setTimeout(this.initQuill,13),this.bindEvents()},initQuill:function(){this.quill=new b(this.$editor[0],{styles:{body:{"font-size":"16px"},"[data-user] + span":{display:"none"}},modules:{toolbar:{container:this.$toolbar[0]}}}),this.content&&this.setContents(this.content),this.$root=a(this.quill.root),this.atwho&&this.initAtwho(),this.emit("ready")},disable:function(a){var b=a===!1?"enable":"disable";this.quill.editor[b]()},setContents:function(a){this.quill.setContents(a)},getContents:function(){return this.quill.getContents()},setHTML:function(a){this.quill.setHTML(a)},getHTML:function(){var a=this.quill.getHTML();if(this.atwho)for(var b='<span contenteditable="false">&nbsp;</span>';a.indexOf(b)>=0;)a=a.replace(b,"");return a},atwho:function(a){Array.isArray(a)&&(a={at:"@",data:a,insert_tpl:'<span data-user="${name}">${atwho-data-value}</span>'}),this.$root.atwho(a)},initAtwho:function(){this.$root.atwho("setIframe",this.$("iframe")[0]),this.$root.atwho({at:"@",data:this.atwho,insert_tpl:'<span class="atref" data-user="${name}">${atwho-data-value}</span>'})}})}});return c}(),require._modules["/views/search/results/results.js"]=function(){var a="/views/search/results/results.js",b="/views/search/results",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){{var a=(d("cloak/underscore"),d("cloak/view")),b=(d("common/auth"),d("views/document/overview/overview"));c.exports=a.extend({className:"search-results",template:"views/search/results/results.hbs",searchingTemplate:"views/search/results/searching.hbs",events:{},initialize:function(){this.documents=null},draw:function(){this.$elem.html(this.render(null,"searchingTemplate"))},drawResults:function(){var a=this;this.$elem.animate({opacity:"hide"},600,function(){a.$elem.html(a.render({documents:a.documents.serialize()})),a.docs=[],a.bindPartials({document:b}),a.$elem.animate({opacity:"show"},600,function(){})})}})}});return c}(),require._modules["/views/search/search.js"]=function(){var a="/views/search/search.js",b="/views/search",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){function a(a,b){return a+"="+encodeURIComponent(b)+"&"}{var b=(d("cloak/underscore"),d("cloak/view")),e=(d("common/auth"),d("views/tag-editor/tag-editor"));c.exports=b.extend({className:"search",template:"views/search/search.hbs",events:{"click .action.button":"search"},initialize:function(a){this.query=a.query},draw:function(){if(this.$elem.html(this.render()),this.$query=this.$(".query input"),this.$tags=this.$(".tags"),this.$tagsType=this.$(".tags-type input"),this.$adultContent=this.$(".adult-content input"),this.$created=this.$(".created select"),this.$updated=this.$(".updated select"),this.tagEditor=new e({allowExclusion:!0}),this.tagEditor.$elem.appendTo(this.$tags),this.tagEditor.draw(),this.query&&this.query.tags){var a=this.tagEditor.addTag.bind(this.tagEditor);this.query.tags.split(",").forEach(a)}this.bindEvents()},search:function(b){b.preventDefault&&b.preventDefault();var c="?",d=this.$query.val();d&&(c+=a("query",d));var e=this.tagEditor.tags.join(",");e&&(c+=a("tags",e),c+=a("tagging",this.$tagsType.filter(":checked").val())),c+=a("adult",this.$adultContent.filter(":checked").val());var f=this.$created.val();"any"!==f&&(c+=a("created",f));var g=this.$updated.val();"any"!==g&&(c+=a("updated",g)),c=c.substring(0,c.length-1),router.redirectTo("/search/results"+c)}})}});return c}(),require._modules["/views/settings/account/account.js"]=function(){var a="/views/settings/account/account.js",b="/views/settings/account",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){{var a=d("cloak/view"),b=d("common/auth");c.exports=a.extend({className:"account",template:"views/settings/account/account.hbs",events:{"click .update-username.button":"updateUsername"},initialize:function(){},draw:function(){this.$elem.html(this.render({username:b.user.get("username"),email:b.user.get("email")})),this.$username=this.$("input.username"),this.$url=this.$("input.url"),this.$location=this.$("input.location"),this.bindEvents()},updateUsername:function(){}})}});return c}(),require._modules["/views/settings/authentication/authentication.js"]=function(){var a="/views/settings/authentication/authentication.js",b="/views/settings/authentication",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){{var a=d("cloak/view"),b=d("common/auth");c.exports=a.extend({className:"authentication",template:"views/settings/authentication/authentication.hbs",events:{"click .action.button":"save"},initialize:function(){this.authMethod=b.user.get("authMethod")},draw:function(){this.$elem.html(this.render({user:b.user.serialize(),authMethod:{isPassword:"password"===this.authMethod,isEmail:"email"===this.authMethod,isTwostepEmail:"twostep-email"===this.authMethod,isTwostepSms:"twostep-sms"===this.authMethod}})),this.$currentPassword=this.$(".current-password"),this.$newPassword=this.$(".new-password"),this.bindEvents()},save:function(){}})}});return c}(),require._modules["/views/settings/notification/notification.js"]=function(){var a="/views/settings/notification/notification.js",b="/views/settings/notification",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()
},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){{var a=d("cloak/view"),b=d("common/auth");c.exports=a.extend({className:"authentication",template:"views/settings/authentication/authentication.hbs",events:{"blur input.name":"saveField name","blur input.url":"saveField url","blur input.location":"saveField location"},initialize:function(){this.profile=b.user.get("profile")||{}},draw:function(){this.$elem.html(this.render({name:this.profile.name,url:this.profile.url,location:this.profile.location,gravatarHash:b.user.gravatarHash()})),this.$name=this.$("input.name"),this.$url=this.$("input.url"),this.$location=this.$("input.location"),this.bindEvents()},saveField:function(a,c){var d=this["$"+c],e=d.val(),f=d.siblings("i");this.profile[c]!==e&&(f.icon("spinner",{spin:!0,color:"#444"}),this.profile[c]=e,b.user.set("profile",this.profile),b.user.patch("profile").then(function(){f.icon("check",{color:"#4d4"}).delay(2e3).icon(!1)},function(){f.icon("warning",{color:"#d44"})}))}})}});return c}(),require._modules["/views/settings/profile/profile.js"]=function(){var a="/views/settings/profile/profile.js",b="/views/settings/profile",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){{var a=d("cloak/view"),b=d("common/auth");c.exports=a.extend({className:"profile-settings",template:"views/settings/profile/profile.hbs",events:{"blur input.name":"saveField name","blur input.url":"saveField url","blur input.location":"saveField location"},initialize:function(){this.profile=b.user.get("profile")||{}},draw:function(){this.$elem.html(this.render({name:this.profile.name,url:this.profile.url,location:this.profile.location,gravatarHash:b.user.gravatarHash()})),this.$name=this.$("input.name"),this.$url=this.$("input.url"),this.$location=this.$("input.location"),this.bindEvents()},saveField:function(a,c){var d=this["$"+c],e=d.val(),f=d.siblings("i");this.profile[c]!==e&&(f.icon("spinner",{spin:!0,color:"#444"}),this.profile[c]=e,b.user.set("profile",this.profile),b.user.patch("profile").then(function(){f.icon("check",{color:"#4d4"}).delay(2e3).icon(!1)},function(){f.icon("warning",{color:"#d44"})}))}})}});return c}(),require._modules["/views/settings/settings.js"]=function(){var a="/views/settings/settings.js",b="/views/settings",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){{var a=d("cloak/view");d("common/auth"),c.exports=a.extend({className:"settings",template:"views/settings/settings.hbs",events:{},initialize:function(){this.currentScreen=null},draw:function(){this.$elem.html(this.render()),this.$content=this.$("main"),this.bindEvents()},showSubscreen:function(a,b){function c(a){f.animate({opacity:0},600,function(){f.html(""),e.currentScreen=null,a()})}function d(){e.currentScreen=a,a.draw(),a.$elem.appendTo(f),f.animate({opacity:1},600,b)}var e=this,f=this.$content;this.currentScreen?c(d):(f.css("opacity",0),d())}})}});return c}(),require._modules["/views/tag-editor/tag-editor.js"]=function(){var a="/views/tag-editor/tag-editor.js",b="/views/tag-editor",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){{var a=d("cloak/view");c.exports=a.extend({tagName:"div",className:"tag-editor",template:"views/tag-editor/tag-editor.hbs",events:{"click @":"focus","keydown input":"keydown"},initialize:function(a){this.tags=[],this.opts=a||{}},draw:function(){this.$elem.html(this.render()),this.$tags=this.$(".tags"),this.$input=this.$("input"),this.bindEvents()},focus:function(a){a&&a.preventDefault(),this.$input.focus()},keydown:function(a){switch(a.which){case 8:this.backspace(a);break;case 9:case 10:case 13:case 188:this.complete(a)}},complete:function(a){a&&a.preventDefault();var b=this.$input.val();this.$input.val(""),this.addTag(b)},backspace:function(){this.$input.val()||(this.tags.pop(),this.drawTags())},addTag:function(a){if(a=a.replace(/^\s+/,"").replace(/\s+$/,"")){if(this.tags.indexOf(a)<0){if("-"===a.charAt(0)){if(!this.opts.allowExclusion)return;if(this.tags.indexOf(a.slice(1))>=0)return}else if(this.tags.indexOf("-"+a)>=0)return;this.tags.push(a)}this.drawTags()}},drawTags:function(){this.$tags.html(this.tags.map(function(a){var b="-"===a.charAt(0)?" exclude":"";return'<span class="label round'+b+'">'+a+"</span>"}).join(""))}})}});return c}(),require._modules["/views/welcome/auth/email-confirmation/email-confirmation.js"]=function(){var a="/views/welcome/auth/email-confirmation/email-confirmation.js",b="/views/welcome/auth/email-confirmation",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){{var a=d("cloak/view"),b=d("views/modals/login/login");d("cloak/model-stores/dagger").Request}d("common/spin.js");c.exports=a.extend({className:"welcome-auth email-confirm",template:"views/welcome/auth/email-confirmation/email-confirmation.hbs",errorTemplate:"views/welcome/auth/email-confirmation/email-confirmation.error.hbs",successTemplate:"views/welcome/auth/email-confirmation/email-confirmation.success.hbs",events:{"click a.login":"showLogin"},initialize:function(){},draw:function(){this.$elem.html(this.render()),this.nav=new WelcomeNavView,this.nav.$elem=this.$("nav"),this.nav.draw(),this.$main=this.$("main",{size:"large"}),this.$main.spin(!0),this.bindEvents()},showSuccess:function(){this.animateToTemplate("successTemplate")},showError:function(){this.animateToTemplate("errorTemplate")},animateToTemplate:function(a){var b=this;this.$main.animate({opacity:0},600,function(){b.$main.html(b.render({},a)),b.$main.animate({opacity:1},600,function(){b.bindEvents()})})},showLogin:function(a){a&&a.preventDefault(),b.open()}})});return c}(),require._modules["/views/welcome/auth/twostep/twostep.js"]=function(){var a="/views/welcome/auth/twostep/twostep.js",b="/views/welcome/auth/twostep",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){{var a=d("cloak/view"),b=d("common/auth");d("views/modal/modal"),c.exports=a.extend({className:"twostep",template:"views/welcome/auth/twostep/twostep.hbs",events:{"click button":"confirm"},initialize:function(){},draw:function(){this.$elem.html(this.render()),this.$error=this.$(".error"),this.$button=this.$("button"),this.$input=this.$("input.code"),this.bindEvents()},confirm:function(a){a&&a.preventDefault();var c=this,d=this.$input.val();return this.showError(),d?void b.twostepConfirm(d).then(function(){router.redirectTo("/dashboard")}).catch(function(a){c.disable(!1),c.showError(a)}):void this.showError("You must enter your confirmation code")},disable:function(a){this.$("input, button").prop("disabled",a),a?this.$button.spin(!0,{replace:!1,size:"tiny",classname:"transparent"}):this.$button.spin(!1)},showError:function(a){return a?(this.$error.html(a),void this.$error.removeClass("hide")):(this.$error.html(""),void this.$error.addClass("hide"))}})}});return c}(),require._modules["/views/welcome/nav/nav.js"]=function(){var a="/views/welcome/nav/nav.js",b="/views/welcome/nav",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){{var a=d("cloak/view"),b=(d("views/modal/modal"),d("views/modals/login/login")),e=d("views/modals/terms/terms"),f=d("views/modals/privacy/privacy");c.exports=a.extend({template:"views/welcome/nav/nav.hbs",events:{"click .login":"showLogin","click .terms":"showTerms","click .privacy":"showPrivacy"},initialize:function(){},draw:function(){this.$elem.html(this.render()),this.bindEvents()},showLogin:function(a){a&&a.preventDefault(),this.openModal(b)},showTerms:function(a){a&&a.preventDefault(),this.openModal(e)},showPrivacy:function(a){a&&a.preventDefault(),this.openModal(f)},openModal:function(a){var b=this;this.modal||(this.modal=a.open(),this.modal.on("close",function(){b.modal=null}))}})}});return c}(),require._modules["/views/welcome/signup/signup.js"]=function(){var a="/views/welcome/signup/signup.js",b="/views/welcome/signup",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){var a=d("cloak/view"),b=d("views/welcome/nav/nav"),e=d("cloak/model-stores/dagger").Request;d("common/spin");c.exports=a.extend({className:"signup",template:"views/welcome/signup/signup.hbs",successTemplate:"views/welcome/signup/signup.success.hbs",events:{"change .auth-method select":"changeAuthMethod","click .button-wrapper button":"signup"},initialize:function(a){a&&(this.data=a)},draw:function(){this.$elem.html(this.render(this.data)),this.nav=new b,this.nav.$elem=this.$("nav"),this.nav.draw(),this.$error=this.$(".error"),this.$username=this.$(".username"),this.$email=this.$(".email"),this.$authMethod=this.$(".auth-method"),this.$password=this.$(".password"),this.$mobile=this.$(".mobile"),this.changeAuthMethod(),this.bindEvents()},changeAuthMethod:function(){var a=this.$authMethod.find("select").val();switch(this.$mobile.removeClass("hide"),this.$password.removeClass("hide"),a){case"email":this.$mobile.addClass("hide"),this.$password.addClass("hide");break;case"password":this.$mobile.addClass("hide");break;case"twostep-email":this.$mobile.addClass("hide");break;case"twostep-sms":}},getData:function(){var a={username:this.$username.find("input").val(),email:this.$email.find("input").val(),authMethod:this.$authMethod.find("select").val()};return"email"!==a.authMethod&&(a.password=this.$password.find("input").val()),"twostep-sms"===a.authMethod&&(a.phone="+1"+this.$mobile.find("input").val()),a},signup:function(a){var b=this;a&&a.preventDefault(),this.validate()&&(this.showError(),this.disable(!0),e.send("POST","/users",this.getData()).then(function(a){b.showSuccess(a.body)},function(a){return b.disable(!1),a.status>=500?void b.showError("An unknown error has occured on our servers; Please try again"):void b.showError(a.body.message)}))},disable:function(a){this.$("input, select, button").prop("disabled",a),a?this.$("button").spin(!0,{replace:!1,size:"tiny",classname:"transparent"}):this.$("button").spin(!1)},showSuccess:function(a,b){var c=this,d=this.$("main");d.animate({opacity:0},600,function(){d.addClass("success"),d.html(c.render(a,"successTemplate")),d.animate({opacity:1},600,b)})},validate:function(){function a(a){return b.showError(a),!1}var b=this,c=this.getData();if(!c.username)return a("Username is required");if(c.username.length>30)return a("Username cannot exceed 30 characters in length");if(!/^[a-zA-Z0-9_\-]+$/.test(c.username))return a("Username can only contain letters, numbers, underscores and hyphens");if(!c.email.length)return a("Email is required");if(!/^\S+@\S+$/.test(c.email))return a("Must use a valid email address");if("email"!==c.authMethod){var d=this.$password.find("input").eq(1).val();if(!c.password)return a("Password is required");if(c.password.length<8)return a("Password must contain at least 8 characters");if(c.password!==d)return a("Passwords do not match")}if("twostep-sms"===c.authMethod){if(c.phone.length<=2)return a("Mobile is required");if(!/^\+[1-9]{1}[0-9]{7,11}$/.test(c.phone))return a("Must use a valid mobile phone number")}return!0},showError:function(a){return a?(this.$error.html(a),void this.$error.removeClass("hide")):(this.$error.html(""),void this.$error.addClass("hide"))}})});return c}(),require._modules["/views/welcome/welcome.js"]=function(){var a="/views/welcome/welcome.js",b="/views/welcome",c={loaded:!1,exports:{},filename:a,dirname:b,require:null,call:function(){c.loaded=!0,c.call=function(){},e()},parent:null,children:[]},d=c.require=window.require._bind(c),e=(c.exports,function(){{var a=d("cloak/view"),b=d("views/welcome/nav/nav"),e=d("cloak/model-stores/dagger").Request;c.exports=a.extend({className:"welcome",template:"views/welcome/welcome.hbs",events:{"blur .signup .username input":"checkUsername","blur .signup .email input":"checkEmail","click .signup button":"continueSignup"},initialize:function(){},draw:function(){this.$elem.html(this.render()),this.nav=new b,this.nav.$elem=this.$("nav"),this.nav.draw();var a=this.signup={username:{$label:this.$(".signup .username")},email:{$label:this.$(".signup .email")}};a.username.$input=a.username.$label.find("input"),a.username.$error=a.username.$label.find("span"),a.email.$input=a.email.$label.find("input"),a.email.$error=a.email.$label.find("span"),this.bindEvents()},checkUsername:function(){function a(a){c.$label.addClass("error"),c.$error.html(a)}function b(){c.$label.removeClass("error"),c.$error.html("")}var c=this.signup.username,d=c.$input.val();return d?d.length>30?a("Cannot exceed 30 characters"):/^[a-zA-Z0-9_\-]+$/.test(d)?void e.send("GET","/users/exists/"+d).then(function(c){return c.body.exists?a("Already taken"):void b()}):a("Can only contain letters, numbers, hyphens and underscores"):b()},checkEmail:function(){function a(a){c.$label.addClass("error"),c.$error.html(a)}function b(){c.$label.removeClass("error"),c.$error.html("")}var c=this.signup.email,d=c.$input.val();return d?/^\S+@\S+$/.test(d)?void e.send("GET","/users/exists/"+d).then(function(c){return c.body.exists?a("Already in use (do you already have an account?)"):void b()}):a("Must be a valid email address"):b()},continueSignup:function(a){a&&a.preventDefault();var b=this.signup.username.$input.val(),c=this.signup.email.$input.val();router.redirectTo("/signup",{title:"Collabish - Signup",data:{username:b,email:c}})}})}});return c}();